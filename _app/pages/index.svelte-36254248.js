var yt=Object.defineProperty,Dt=Object.defineProperties;var Mt=Object.getOwnPropertyDescriptors;var gl=Object.getOwnPropertySymbols;var Vt=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable;var dl=(t,e,l)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,pl=(t,e)=>{for(var l in e||(e={}))Vt.call(e,l)&&dl(t,l,e[l]);if(gl)for(var l of gl(e))Tt.call(e,l)&&dl(t,l,e[l]);return t},bl=(t,e)=>Dt(t,Mt(e));import{S as vl,i as ml,s as kl,J as Me,K as Ve,a as E,d as u,b as w,L as Ue,f as W,M as de,N as El,O as fl,P as Ne,Q as Fe,R as He,T as Je,U as pe,H as f,l as Oe,t as A,g as z,h as ke,V as Te,W as wl,X as jt,x as _e,r as Ke,u as je,w as Qe,Y as It,Z as Pl,_ as Ot,$ as hl,a0 as Bt,e as D,c as M,k as B,n as C,a1 as tl,I as sl,j as Ct,m as Lt,o as St,a2 as Nt,v as At,a3 as zt,a4 as Ut,a5 as Ht,a6 as Rt,a7 as nl,a8 as yl}from"../chunks/vendor-b1986be3.js";import{b as Ze}from"../chunks/paths-28a87002.js";import{i as Be,u as qt,D as ol,c as $e,p as Dl,a as ye,m as Xe,d as Ml,b as Vl,x as Wt,e as Gt}from"../chunks/utils-eca50613.js";const ul={black:"#9fd400",hispanic:"#ffaa00",asian:"#ff0000",white:"#73B2FF"},al=["44","99","ee"],Ae=["asian","black","hispanic","white"],Re=["1990_earlier","1990_1999","2000_2009","2010_later"],il={hhlang:"Proportion of households that speak an Asian language and are LEP",income:"Median household income",graduates:"Proportion of people who graduated >= high school",families:"Proportion of families who receive gov't benefits",asiaentry:"Dominant entry period for Asian families",workers:"Proportion of workers who take public transportation",cvap:"Citizen voting age population by race",pop:"Population by race"},rl=["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26"],Ye=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],cl={assembly_letters:134675,assembly_names:134626,senate_letters:320655,senate_names:321190,congress_letters:776971,congress_names:776971};function Tl(t,e,l){const s=t.slice();return s[33]=e[l].properties,s[34]=e[l].geometry.coordinates[0],s[35]=e[l].geometry.coordinates[1],s}function jl(t,e,l){const s=t.slice();return s[38]=e[l].outline,s}function Il(t,e,l){const s=t.slice();return s[41]=e[l],s[43]=l,s}function Ol(t,e){let l,s,i,r,o;function n(){return e[28](e[43])}function c(){return e[29](e[41])}function a(){return e[30](e[41])}return{key:t,first:null,c(){l=Me("path"),this.h()},l(_){l=Ve(_,"path",{class:!0,d:!0,fill:!0}),E(l).forEach(u),this.h()},h(){w(l,"class","block-group svelte-1h46plc"),w(l,"d",s=e[4](e[41])),w(l,"fill",i=e[5](e[41],e[9],e[10],e[8])),Ue(l,"head",e[2][0]===Be(e[41])),this.first=l},m(_,P){W(_,l,P),r||(o=[de(l,"click",n),de(l,"contextmenu",El(c)),de(l,"mousemove",El(a))],r=!0)},p(_,P){e=_,P[0]&24&&s!==(s=e[4](e[41]))&&w(l,"d",s),P[0]&1832&&i!==(i=e[5](e[41],e[9],e[10],e[8]))&&w(l,"fill",i),P[0]&12&&Ue(l,"head",e[2][0]===Be(e[41]))},d(_){_&&u(l),r=!1,fl(o)}}}function Bl(t){let e,l,s,i,r=t[13],o=[];for(let n=0;n<r.length;n+=1)o[n]=Cl(jl(t,r,n));return{c(){e=Me("g");for(let n=0;n<o.length;n+=1)o[n].c()},l(n){e=Ve(n,"g",{});var c=E(e);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u)},m(n,c){W(n,e,c);for(let a=0;a<o.length;a+=1)o[a].m(e,null);i=!0},p(n,c){if(c[0]&8192){r=n[13];let a;for(a=0;a<r.length;a+=1){const _=jl(n,r,a);o[a]?o[a].p(_,c):(o[a]=Cl(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i(n){i||(Ne(()=>{s&&s.end(1),l=Fe(e,He,{}),l.start()}),i=!0)},o(n){l&&l.invalidate(),s=Je(e,He,{}),i=!1},d(n){n&&u(e),pe(o,n),n&&s&&s.end()}}}function Cl(t){let e,l;return{c(){e=Me("path"),this.h()},l(s){e=Ve(s,"path",{class:!0,d:!0}),E(e).forEach(u),this.h()},h(){w(e,"class","mesh-community svelte-1h46plc"),w(e,"d",l=t[38])},m(s,i){W(s,e,i)},p(s,i){i[0]&8192&&l!==(l=s[38])&&w(e,"d",l)},d(s){s&&u(e)}}}function Ll(t){let e,l,s,i,r,o;return{c(){e=Me("g"),l=Me("path"),this.h()},l(n){e=Ve(n,"g",{});var c=E(e);l=Ve(c,"path",{class:!0,d:!0}),E(l).forEach(u),c.forEach(u),this.h()},h(){w(l,"class","mesh-district svelte-1h46plc"),w(l,"d",s=(t[15].startsWith("congress")?t[23]||{}:t[24])[t[15]]),Ue(l,"showPluralities",t[8])},m(n,c){W(n,e,c),f(e,l),o=!0},p(n,c){(!o||c[0]&25198592&&s!==(s=(n[15].startsWith("congress")?n[23]||{}:n[24])[n[15]]))&&w(l,"d",s),c[0]&256&&Ue(l,"showPluralities",n[8])},i(n){o||(Ne(()=>{r&&r.end(1),i=Fe(e,He,{}),i.start()}),o=!0)},o(n){i&&i.invalidate(),r=Je(e,He,{}),o=!1},d(n){n&&u(e),n&&r&&r.end()}}}function Sl(t){let e,l,s,i,r,o;return{c(){e=Me("g"),l=Me("path"),this.h()},l(n){e=Ve(n,"g",{});var c=E(e);l=Ve(c,"path",{class:!0,d:!0}),E(l).forEach(u),c.forEach(u),this.h()},h(){w(l,"class","mesh-district svelte-1h46plc"),w(l,"d",s=t[4](t[19](t[31],t[21])))},m(n,c){W(n,e,c),f(e,l),o=!0},p(n,c){(!o||c[0]&2654224&&s!==(s=n[4](n[19](n[31],n[21]))))&&w(l,"d",s)},i(n){o||(Ne(()=>{r&&r.end(1),i=Fe(e,He,{}),i.start()}),o=!0)},o(n){i&&i.invalidate(),r=Je(e,He,{}),o=!1},d(n){n&&u(e),n&&r&&r.end()}}}function Nl(t){let e,l,s,i,r=t[16],o=[];for(let n=0;n<r.length;n+=1)o[n]=zl(Tl(t,r,n));return{c(){e=Me("g");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=Ve(n,"g",{class:!0});var c=E(e);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u),this.h()},h(){w(e,"class","labels svelte-1h46plc")},m(n,c){W(n,e,c);for(let a=0;a<o.length;a+=1)o[a].m(e,null);i=!0},p(n,c){if(c[0]&5341184){r=n[16];let a;for(a=0;a<r.length;a+=1){const _=Tl(n,r,a);o[a]?o[a].p(_,c):(o[a]=zl(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i(n){i||(Ne(()=>{s&&s.end(1),l=Fe(e,He,{}),l.start()}),i=!0)},o(n){l&&l.invalidate(),s=Je(e,He,{}),i=!1},d(n){n&&u(e),pe(o,n),n&&s&&s.end()}}}function Al(t){let e,l=t[33][t[15]]+"",s,i,r,o,n;function c(){return t[32](t[33])}return{c(){e=Me("text"),s=A(l),this.h()},l(a){e=Ve(a,"text",{x:!0,y:!0,class:!0});var _=E(e);s=z(_,l),_.forEach(u),this.h()},h(){w(e,"x",i=t[34]),w(e,"y",r=t[35]),w(e,"class","svelte-1h46plc"),Ue(e,"chosen",t[20].includes(`${t[15]},${t[33][t[15]]}`))},m(a,_){W(a,e,_),f(e,s),o||(n=de(e,"click",c),o=!0)},p(a,_){t=a,_[0]&98304&&l!==(l=t[33][t[15]]+"")&&ke(s,l),_[0]&65536&&i!==(i=t[34])&&w(e,"x",i),_[0]&65536&&r!==(r=t[35])&&w(e,"y",r),_[0]&1146880&&Ue(e,"chosen",t[20].includes(`${t[15]},${t[33][t[15]]}`))},d(a){a&&u(e),o=!1,n()}}}function zl(t){let e,l=t[15]in t[33]&&Al(t);return{c(){l&&l.c(),e=Oe()},l(s){l&&l.l(s),e=Oe()},m(s,i){l&&l.m(s,i),W(s,e,i)},p(s,i){s[15]in s[33]?l?l.p(s,i):(l=Al(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&u(e)}}}function Ft(t){let e,l,s=[],i=new Map,r,o,n,c,a,_,P,y,m,h,g=t[3];const b=N=>Be(N[41]);for(let N=0;N<g.length;N+=1){let L=Il(t,g,N),Q=b(L);i.set(Q,s[N]=Ol(Q,L))}let k=t[12]&&Bl(t),V=t[14]&&!t[6]&&Ll(t),j=t[6]&&Sl(t),O=(t[14]||t[6])&&Nl(t);return{c(){e=Me("svg"),l=Me("g");for(let N=0;N<s.length;N+=1)s[N].c();r=Me("g"),o=Me("path"),k&&k.c(),c=Oe(),V&&V.c(),a=Oe(),j&&j.c(),_=Oe(),O&&O.c(),this.h()},l(N){e=Ve(N,"svg",{viewBox:!0,style:!0,class:!0});var L=E(e);l=Ve(L,"g",{});var Q=E(l);for(let se=0;se<s.length;se+=1)s[se].l(Q);Q.forEach(u),r=Ve(L,"g",{class:!0});var Y=E(r);o=Ve(Y,"path",{class:!0,d:!0}),E(o).forEach(u),k&&k.l(Y),c=Oe(),V&&V.l(Y),a=Oe(),j&&j.l(Y),_=Oe(),O&&O.l(Y),Y.forEach(u),L.forEach(u),this.h()},h(){w(o,"class","mesh-bg svelte-1h46plc"),w(o,"d",n=t[11].includes(t[9])?t[17]:t[18]),w(r,"class","meshes svelte-1h46plc"),w(e,"viewBox",P=t[0].join(" ")),Te(e,"--font-size",(t[1]||11)+"px"),w(e,"class","svelte-1h46plc")},m(N,L){W(N,e,L),f(e,l);for(let Q=0;Q<s.length;Q+=1)s[Q].m(l,null);f(e,r),f(r,o),k&&k.m(r,null),f(r,c),V&&V.m(r,null),f(r,a),j&&j.m(r,null),f(r,_),O&&O.m(r,null),y=!0,m||(h=[de(e,"mousedown",function(){wl(t[25])&&t[25].apply(this,arguments)}),de(e,"mouseup",function(){wl(t[26])&&t[26].apply(this,arguments)})],m=!0)},p(N,L){t=N,L[0]&134219772&&(g=t[3],s=jt(s,L,b,1,t,g,i,l,It,Ol,null,Il)),(!y||L[0]&395776&&n!==(n=t[11].includes(t[9])?t[17]:t[18]))&&w(o,"d",n),t[12]?k?(k.p(t,L),L[0]&4096&&_e(k,1)):(k=Bl(t),k.c(),_e(k,1),k.m(r,c)):k&&(Ke(),je(k,1,1,()=>{k=null}),Qe()),t[14]&&!t[6]?V?(V.p(t,L),L[0]&16448&&_e(V,1)):(V=Ll(t),V.c(),_e(V,1),V.m(r,a)):V&&(Ke(),je(V,1,1,()=>{V=null}),Qe()),t[6]?j?(j.p(t,L),L[0]&64&&_e(j,1)):(j=Sl(t),j.c(),_e(j,1),j.m(r,_)):j&&(Ke(),je(j,1,1,()=>{j=null}),Qe()),t[14]||t[6]?O?(O.p(t,L),L[0]&16448&&_e(O,1)):(O=Nl(t),O.c(),_e(O,1),O.m(r,null)):O&&(Ke(),je(O,1,1,()=>{O=null}),Qe()),(!y||L[0]&1&&P!==(P=t[0].join(" ")))&&w(e,"viewBox",P),(!y||L[0]&2)&&Te(e,"--font-size",(t[1]||11)+"px")},i(N){y||(_e(k),_e(V),_e(j),_e(O),y=!0)},o(N){je(k),je(V),je(j),je(O),y=!1},d(N){N&&u(e);for(let L=0;L<s.length;L+=1)s[L].d();k&&k.d(),V&&V.d(),j&&j.d(),O&&O.d(),m=!1,fl(h)}}}function Jt(t,e,l){let{viewBox:s,labelSize:i,draggedBgs:r,data:o,path:n,color:c,changingLines:a,neighbor:_,showPluralities:P,metric:y,period:m,tractVars:h,showComms:g,drawings:b,showPlans:k,plan:V,points:j,tractMesh:O,bgMesh:N,mesh:L,aggregates:Q,obj:Y,handleLabelClick:se,congressMeshes:G,plansMeshes:F,startDrag:H,endDrag:K,handleMouseMove:R}=e;const oe=v=>a&&_(v),ue=v=>console.log(v.properties),Z=v=>R(v),be=(v,Ee)=>v.properties[V]!==Ee.properties[V],$=v=>se(`${V},${v[V]}`);return t.$$set=v=>{"viewBox"in v&&l(0,s=v.viewBox),"labelSize"in v&&l(1,i=v.labelSize),"draggedBgs"in v&&l(2,r=v.draggedBgs),"data"in v&&l(3,o=v.data),"path"in v&&l(4,n=v.path),"color"in v&&l(5,c=v.color),"changingLines"in v&&l(6,a=v.changingLines),"neighbor"in v&&l(7,_=v.neighbor),"showPluralities"in v&&l(8,P=v.showPluralities),"metric"in v&&l(9,y=v.metric),"period"in v&&l(10,m=v.period),"tractVars"in v&&l(11,h=v.tractVars),"showComms"in v&&l(12,g=v.showComms),"drawings"in v&&l(13,b=v.drawings),"showPlans"in v&&l(14,k=v.showPlans),"plan"in v&&l(15,V=v.plan),"points"in v&&l(16,j=v.points),"tractMesh"in v&&l(17,O=v.tractMesh),"bgMesh"in v&&l(18,N=v.bgMesh),"mesh"in v&&l(19,L=v.mesh),"aggregates"in v&&l(20,Q=v.aggregates),"obj"in v&&l(21,Y=v.obj),"handleLabelClick"in v&&l(22,se=v.handleLabelClick),"congressMeshes"in v&&l(23,G=v.congressMeshes),"plansMeshes"in v&&l(24,F=v.plansMeshes),"startDrag"in v&&l(25,H=v.startDrag),"endDrag"in v&&l(26,K=v.endDrag),"handleMouseMove"in v&&l(27,R=v.handleMouseMove)},[s,i,r,o,n,c,a,_,P,y,m,h,g,b,k,V,j,O,N,L,Q,Y,se,G,F,H,K,R,oe,ue,Z,be,$]}class Kt extends vl{constructor(e){super();ml(this,e,Jt,Ft,kl,{viewBox:0,labelSize:1,draggedBgs:2,data:3,path:4,color:5,changingLines:6,neighbor:7,showPluralities:8,metric:9,period:10,tractVars:11,showComms:12,drawings:13,showPlans:14,plan:15,points:16,tractMesh:17,bgMesh:18,mesh:19,aggregates:20,obj:21,handleLabelClick:22,congressMeshes:23,plansMeshes:24,startDrag:25,endDrag:26,handleMouseMove:27},null,[-1,-1])}}function Ul(t,e,l){const s=t.slice();return s[64]=e[l],s}function Hl(t,e,l){const s=t.slice();return s[67]=e[l].name,s[26]=e[l].stats,s[69]=l,s}function Rl(t,e,l){const s=t.slice();return s[70]=e[l],s}function ql(t,e,l){const s=t.slice();return s[73]=e[l],s}function Wl(t,e,l){const s=t.slice();return s[70]=e[l],s}function Gl(t,e,l){const s=t.slice();return s[78]=e[l],s}function Fl(t,e,l){const s=t.slice();return s[81]=e[l],s}function Jl(t,e,l){const s=t.slice();return s[94]=e[l],s[69]=l,s}function Kl(t,e,l){const s=t.slice();return s[94]=e[l],s[69]=l,s}function Ql(t,e,l){const s=t.slice();return s[90]=e[l],s}function Xl(t,e,l){const s=t.slice();return s[90]=e[l],s[69]=l,s}function Yl(t,e,l){const s=t.slice();return s[84]=e[l],s}function Zl(t,e,l){const s=t.slice();return s[87]=e[l],s}function $l(t,e,l){const s=t.slice();return s[90]=e[l],s}function xl(t,e,l){const s=t.slice();return s[64]=e[l],s}function et(t,e,l){const s=t.slice();return s[64]=e[l],s}function lt(t){let e,l=(il[t[64]]||t[64])+"",s,i;return{c(){e=D("option"),s=A(l),this.h()},l(r){e=M(r,"OPTION",{});var o=E(e);s=z(o,l),o.forEach(u),this.h()},h(){e.__value=i=t[64],e.value=e.__value},m(r,o){W(r,e,o),f(e,s)},p(r,o){o[0]&8&&l!==(l=(il[r[64]]||r[64])+"")&&ke(s,l),o[0]&8&&i!==(i=r[64])&&(e.__value=i,e.value=e.__value)},d(r){r&&u(e)}}}function tt(t){let e,l=(il[t[64]]||t[64])+"",s,i;return{c(){e=D("option"),s=A(l),this.h()},l(r){e=M(r,"OPTION",{});var o=E(e);s=z(o,l),o.forEach(u),this.h()},h(){e.__value=i=t[64],e.value=e.__value},m(r,o){W(r,e,o),f(e,s)},p(r,o){o[0]&16&&l!==(l=(il[r[64]]||r[64])+"")&&ke(s,l),o[0]&16&&i!==(i=r[64])&&(e.__value=i,e.value=e.__value)},d(r){r&&u(e)}}}function st(t){let e,l=["past","present"],s=[];for(let i=0;i<2;i+=1)s[i]=nt($l(t,l,i));return{c(){for(let i=0;i<2;i+=1)s[i].c();e=Oe()},l(i){for(let r=0;r<2;r+=1)s[r].l(i);e=Oe()},m(i,r){for(let o=0;o<2;o+=1)s[o].m(i,r);W(i,e,r)},p(i,r){if(r[0]&512){l=["past","present"];let o;for(o=0;o<2;o+=1){const n=$l(i,l,o);s[o]?s[o].p(n,r):(s[o]=nt(n),s[o].c(),s[o].m(e.parentNode,e))}for(;o<2;o+=1)s[o].d(1)}},d(i){pe(s,i),i&&u(e)}}}function nt(t){let e,l,s,i=$e(t[90])+"",r,o,n,c;return{c(){e=D("label"),l=D("input"),s=B(),r=A(i),o=B(),this.h()},l(a){e=M(a,"LABEL",{});var _=E(e);l=M(_,"INPUT",{type:!0,name:!0}),s=C(_),r=z(_,i),o=C(_),_.forEach(u),this.h()},h(){w(l,"type","radio"),w(l,"name","period"),l.__value=t[90],l.value=l.__value,t[48][0].push(l)},m(a,_){W(a,e,_),f(e,l),l.checked=l.__value===t[9],f(e,s),f(e,r),f(e,o),n||(c=de(l,"change",t[47]),n=!0)},p(a,_){_[0]&512&&(l.checked=l.__value===a[9])},d(a){a&&u(e),t[48][0].splice(t[48][0].indexOf(l),1),n=!1,c()}}}function ot(t){let e,l,s=(t[11]?"pct. asian":"pluralities")+"",i,r,o;return{c(){e=D("button"),l=A("Show "),i=A(s),this.h()},l(n){e=M(n,"BUTTON",{class:!0});var c=E(e);l=z(c,"Show "),i=z(c,s),c.forEach(u),this.h()},h(){w(e,"class","plurality-toggle svelte-7r3yb4")},m(n,c){W(n,e,c),f(e,l),f(e,i),r||(o=de(e,"click",t[49]),r=!0)},p(n,c){c[0]&2048&&s!==(s=(n[11]?"pct. asian":"pluralities")+"")&&ke(i,s)},d(n){n&&u(e),r=!1,o()}}}function Qt(t){let e,l,s=t[25],i=[];for(let n=0;n<s.length;n+=1)i[n]=at(Kl(t,s,n));let r=t[25],o=[];for(let n=0;n<r.length;n+=1)o[n]=rt(Jl(t,r,n));return{c(){e=D("div");for(let n=0;n<i.length;n+=1)i[n].c();l=B();for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=M(n,"DIV",{class:!0,style:!0});var c=E(e);for(let a=0;a<i.length;a+=1)i[a].l(c);l=C(c);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u),this.h()},h(){w(e,"class","color-legend svelte-7r3yb4"),Te(e,"grid-template-columns","repeat("+(t[3].includes(t[10])?5:6)+", 40px)"),Ue(e,"pctasian",t[3].includes(t[10]))},m(n,c){W(n,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);f(e,l);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(n,c){if(c[0]&33555464){s=n[25];let a;for(a=0;a<s.length;a+=1){const _=Kl(n,s,a);i[a]?i[a].p(_,c):(i[a]=at(_),i[a].c(),i[a].m(e,l))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}if(c[0]&33555464){r=n[25];let a;for(a=0;a<r.length;a+=1){const _=Jl(n,r,a);o[a]?o[a].p(_,c):(o[a]=rt(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}c[0]&1032&&Te(e,"grid-template-columns","repeat("+(n[3].includes(n[10])?5:6)+", 40px)"),c[0]&1032&&Ue(e,"pctasian",n[3].includes(n[10]))},d(n){n&&u(e),pe(i,n),pe(o,n)}}}function Xt(t){let e,l,s=Re,i=[];for(let n=0;n<s.length;n+=1)i[n]=ct(Xl(t,s,n));let r=Re,o=[];for(let n=0;n<r.length;n+=1)o[n]=ft(Ql(t,r,n));return{c(){e=D("div");for(let n=0;n<i.length;n+=1)i[n].c();l=B();for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=M(n,"DIV",{class:!0});var c=E(e);for(let a=0;a<i.length;a+=1)i[a].l(c);l=C(c);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u),this.h()},h(){w(e,"class","color-legend plurality-legend svelte-7r3yb4")},m(n,c){W(n,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);f(e,l);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(n,c){if(c&0){s=Re;let a;for(a=0;a<s.length;a+=1){const _=Xl(n,s,a);i[a]?i[a].p(_,c):(i[a]=ct(_),i[a].c(),i[a].m(e,l))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}if(c&0){r=Re;let a;for(a=0;a<r.length;a+=1){const _=Ql(n,r,a);o[a]?o[a].p(_,c):(o[a]=ft(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d(n){n&&u(e),pe(i,n),pe(o,n)}}}function Yt(t){let e,l,s,i,r,o,n,c,a,_,P,y,m=Ae,h=[];for(let g=0;g<m.length;g+=1)h[g]=ut(Yl(t,m,g));return{c(){e=D("div");for(let g=0;g<h.length;g+=1)h[g].c();l=B(),s=D("p"),i=D("span"),r=A("Weak plurality"),o=B(),n=D("p"),c=B(),a=D("p"),_=A("Majority"),P=B(),y=D("p"),this.h()},l(g){e=M(g,"DIV",{class:!0});var b=E(e);for(let O=0;O<h.length;O+=1)h[O].l(b);l=C(b),s=M(b,"P",{class:!0});var k=E(s);i=M(k,"SPAN",{});var V=E(i);r=z(V,"Weak plurality"),V.forEach(u),k.forEach(u),o=C(b),n=M(b,"P",{class:!0}),E(n).forEach(u),c=C(b),a=M(b,"P",{class:!0});var j=E(a);_=z(j,"Majority"),j.forEach(u),P=C(b),y=M(b,"P",{class:!0}),E(y).forEach(u),b.forEach(u),this.h()},h(){w(s,"class","col-head svelte-7r3yb4"),w(n,"class","col-head svelte-7r3yb4"),w(a,"class","col-head svelte-7r3yb4"),w(y,"class","col-head svelte-7r3yb4"),w(e,"class","legend svelte-7r3yb4")},m(g,b){W(g,e,b);for(let k=0;k<h.length;k+=1)h[k].m(e,null);f(e,l),f(e,s),f(s,i),f(i,r),f(e,o),f(e,n),f(e,c),f(e,a),f(a,_),f(e,P),f(e,y)},p(g,b){if(b&0){m=Ae;let k;for(k=0;k<m.length;k+=1){const V=Yl(g,m,k);h[k]?h[k].p(V,b):(h[k]=ut(V),h[k].c(),h[k].m(e,l))}for(;k<h.length;k+=1)h[k].d(1);h.length=m.length}},d(g){g&&u(e),pe(h,g)}}}function at(t){let e;return{c(){e=D("div"),this.h()},l(l){e=M(l,"DIV",{style:!0}),E(e).forEach(u),this.h()},h(){Te(e,"background-color",t[3].includes(t[10])?rl[t[69]]:Ye[t[69]])},m(l,s){W(l,e,s)},p(l,s){s[0]&1032&&Te(e,"background-color",l[3].includes(l[10])?rl[l[69]]:Ye[l[69]])},d(l){l&&u(e)}}}function it(t){let e;return{c(){e=A("Asian")},l(l){e=z(l,"Asian")},m(l,s){W(l,e,s)},d(l){l&&u(e)}}}function rt(t){let e,l=(t[25][t[25].length-1]<1?ye(t[94],0):t[25][t[25].length-1]>1e3?Xe(t[94]):t[94])+"",s,i,r=t[3].includes(t[10])&&t[69]===t[25].length-1,o,n=r&&it();return{c(){e=D("p"),s=A(l),i=B(),n&&n.c(),o=B(),this.h()},l(c){e=M(c,"P",{class:!0});var a=E(e);s=z(a,l),i=C(a),n&&n.l(a),o=C(a),a.forEach(u),this.h()},h(){w(e,"class","svelte-7r3yb4")},m(c,a){W(c,e,a),f(e,s),f(e,i),n&&n.m(e,null),f(e,o)},p(c,a){a[0]&33554432&&l!==(l=(c[25][c[25].length-1]<1?ye(c[94],0):c[25][c[25].length-1]>1e3?Xe(c[94]):c[94])+"")&&ke(s,l),a[0]&33555464&&(r=c[3].includes(c[10])&&c[69]===c[25].length-1),r?n||(n=it(),n.c(),n.m(e,o)):n&&(n.d(1),n=null)},d(c){c&&u(e),n&&n.d()}}}function ct(t){let e;return{c(){e=D("div"),this.h()},l(l){e=M(l,"DIV",{style:!0}),E(e).forEach(u),this.h()},h(){Te(e,"background-color",Ye[t[69]])},m(l,s){W(l,e,s)},p:sl,d(l){l&&u(e)}}}function ft(t){let e,l=t[90].replace("_","-")+"",s;return{c(){e=D("p"),s=A(l),this.h()},l(i){e=M(i,"P",{class:!0});var r=E(e);s=z(r,l),r.forEach(u),this.h()},h(){w(e,"class","svelte-7r3yb4")},m(i,r){W(i,e,r),f(e,s)},p:sl,d(i){i&&u(e)}}}function ht(t){let e;return{c(){e=D("div"),this.h()},l(l){e=M(l,"DIV",{style:!0}),E(e).forEach(u),this.h()},h(){Te(e,"background-color",ul[t[84]]+t[87])},m(l,s){W(l,e,s)},p:sl,d(l){l&&u(e)}}}function ut(t){let e,l,s=$e(t[84])+"",i,r=al,o=[];for(let n=0;n<r.length;n+=1)o[n]=ht(Zl(t,r,n));return{c(){for(let n=0;n<o.length;n+=1)o[n].c();e=B(),l=D("p"),i=A(s),this.h()},l(n){for(let a=0;a<o.length;a+=1)o[a].l(n);e=C(n),l=M(n,"P",{class:!0});var c=E(l);i=z(c,s),c.forEach(u),this.h()},h(){w(l,"class","row-label svelte-7r3yb4")},m(n,c){for(let a=0;a<o.length;a+=1)o[a].m(n,c);W(n,e,c),W(n,l,c),f(l,i)},p(n,c){if(c&0){r=al;let a;for(a=0;a<r.length;a+=1){const _=Zl(n,r,a);o[a]?o[a].p(_,c):(o[a]=ht(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d(n){pe(o,n),n&&u(e),n&&u(l)}}}function _t(t){let e,l,s,i,r,o,n,c,a,_=["assembly","senate","congress"],P=[];for(let h=0;h<3;h+=1)P[h]=dt(Gl(t,_,h));let y=t[19],m=[];for(let h=0;h<y.length;h+=1)m[h]=vt(ql(t,y,h));return{c(){e=D("div"),l=D("div"),s=D("select");for(let h=0;h<3;h+=1)P[h].c();i=B();for(let h=0;h<m.length;h+=1)m[h].c();this.h()},l(h){e=M(h,"DIV",{class:!0});var g=E(e);l=M(g,"DIV",{class:!0});var b=E(l);s=M(b,"SELECT",{class:!0});var k=E(s);for(let V=0;V<3;V+=1)P[V].l(k);k.forEach(u),b.forEach(u),i=C(g);for(let V=0;V<m.length;V+=1)m[V].l(g);g.forEach(u),this.h()},h(){w(s,"class","svelte-7r3yb4"),t[18]===void 0&&Ne(()=>t[52].call(s)),w(l,"class","plan-selector svelte-7r3yb4"),w(e,"class","svelte-7r3yb4")},m(h,g){W(h,e,g),f(e,l),f(l,s);for(let b=0;b<3;b+=1)P[b].m(s,null);tl(s,t[18]),f(e,i);for(let b=0;b<m.length;b+=1)m[b].m(e,null);n=!0,c||(a=de(s,"change",t[52]),c=!0)},p(h,g){if(g&0){_=["assembly","senate","congress"];let b;for(b=0;b<3;b+=1){const k=Gl(h,_,b);P[b]?P[b].p(k,g):(P[b]=dt(k),P[b].c(),P[b].m(s,null))}for(;b<3;b+=1)P[b].d(1)}if(g[0]&262144&&tl(s,h[18]),g[0]&76283904|g[1]&16){y=h[19];let b;for(b=0;b<y.length;b+=1){const k=ql(h,y,b);m[b]?m[b].p(k,g):(m[b]=vt(k),m[b].c(),m[b].m(e,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=y.length}},i(h){n||(Ne(()=>{o&&o.end(1),r=Fe(e,nl,{}),r.start()}),n=!0)},o(h){r&&r.invalidate(),o=Je(e,nl,{}),n=!1},d(h){h&&u(e),pe(P,h),pe(m,h),h&&o&&o.end(),c=!1,a()}}}function gt(t){let e,l=Gt(t[78]+t[81])+"",s,i;return{c(){e=D("option"),s=A(l),this.h()},l(r){e=M(r,"OPTION",{});var o=E(e);s=z(o,l),o.forEach(u),this.h()},h(){e.__value=i=t[78]+t[81],e.value=e.__value},m(r,o){W(r,e,o),f(e,s)},p:sl,d(r){r&&u(e)}}}function dt(t){let e,l=["","_letters","_names"],s=[];for(let i=0;i<3;i+=1)s[i]=gt(Fl(t,l,i));return{c(){e=D("optgroup");for(let i=0;i<3;i+=1)s[i].c();this.h()},l(i){e=M(i,"OPTGROUP",{label:!0});var r=E(e);for(let o=0;o<3;o+=1)s[o].l(r);r.forEach(u),this.h()},h(){w(e,"label",$e(t[78]))},m(i,r){W(i,e,r);for(let o=0;o<3;o+=1)s[o].m(e,null)},p(i,r){if(r&0){l=["","_letters","_names"];let o;for(o=0;o<3;o+=1){const n=Fl(i,l,o);s[o]?s[o].p(n,r):(s[o]=gt(n),s[o].c(),s[o].m(e,null))}for(;o<3;o+=1)s[o].d(1)}},d(i){i&&u(e),pe(s,i)}}}function pt(t){let e,l,s,i=Dl(t[73])+"",r,o,n,c,a,_,P,y,m,h,g,b,k,V,j,O=Xe(t[26][t[73]].income)+(t[23]&&t[18]in cl?"; "+Ml(t[26][t[73]].pop20_total-cl[t[18]]):"")+"",N,L,Q,Y;function se(){return t[53](t[73])}let G=Ae,F=[];for(let H=0;H<G.length;H+=1)F[H]=bt(Wl(t,G,H));return{c(){e=D("div"),l=D("p"),s=D("i"),r=A(i),o=B(),n=D("table"),c=D("tr"),a=D("th"),_=B(),P=D("th"),y=A("CVAP"),m=B(),h=D("th"),g=A("Pop."),b=B();for(let H=0;H<F.length;H+=1)F[H].c();k=B(),V=D("p"),j=A("Income: "),N=A(O),L=B(),this.h()},l(H){e=M(H,"DIV",{class:!0});var K=E(e);l=M(K,"P",{class:!0});var R=E(l);s=M(R,"I",{});var oe=E(s);r=z(oe,i),oe.forEach(u),R.forEach(u),o=C(K),n=M(K,"TABLE",{class:!0});var ue=E(n);c=M(ue,"TR",{class:!0});var Z=E(c);a=M(Z,"TH",{class:!0}),E(a).forEach(u),_=C(Z),P=M(Z,"TH",{class:!0});var be=E(P);y=z(be,"CVAP"),be.forEach(u),m=C(Z),h=M(Z,"TH",{class:!0});var $=E(h);g=z($,"Pop."),$.forEach(u),Z.forEach(u),b=C(ue);for(let Ee=0;Ee<F.length;Ee+=1)F[Ee].l(ue);ue.forEach(u),k=C(K),V=M(K,"P",{class:!0});var v=E(V);j=z(v,"Income: "),N=z(v,O),v.forEach(u),L=C(K),K.forEach(u),this.h()},h(){w(l,"class","svelte-7r3yb4"),w(a,"class","svelte-7r3yb4"),w(P,"class","svelte-7r3yb4"),w(h,"class","svelte-7r3yb4"),w(c,"class","svelte-7r3yb4"),w(n,"class","svelte-7r3yb4"),w(V,"class","table-footer svelte-7r3yb4"),w(e,"class","district-aggregate svelte-7r3yb4")},m(H,K){W(H,e,K),f(e,l),f(l,s),f(s,r),f(e,o),f(e,n),f(n,c),f(c,a),f(c,_),f(c,P),f(P,y),f(c,m),f(c,h),f(h,g),f(n,b);for(let R=0;R<F.length;R+=1)F[R].m(n,null);f(e,k),f(e,V),f(V,j),f(V,N),f(e,L),Q||(Y=de(l,"click",se),Q=!0)},p(H,K){if(t=H,K[0]&524288&&i!==(i=Dl(t[73])+"")&&ke(r,i),K[0]&67633152){G=Ae;let R;for(R=0;R<G.length;R+=1){const oe=Wl(t,G,R);F[R]?F[R].p(oe,K):(F[R]=bt(oe),F[R].c(),F[R].m(n,null))}for(;R<F.length;R+=1)F[R].d(1);F.length=G.length}K[0]&76283904&&O!==(O=Xe(t[26][t[73]].income)+(t[23]&&t[18]in cl?"; "+Ml(t[26][t[73]].pop20_total-cl[t[18]]):"")+"")&&ke(N,O)},d(H){H&&u(e),pe(F,H),Q=!1,Y()}}}function bt(t){let e,l,s=$e(t[70])+"",i,r,o,n=ye(t[26][t[73]]["cvap19"+t[70]])+"",c,a,_,P=ye(t[26][t[73]]["pop20"+t[70]])+"",y,m;return{c(){e=D("tr"),l=D("td"),i=A(s),r=B(),o=D("td"),c=A(n),a=B(),_=D("td"),y=A(P),m=B(),this.h()},l(h){e=M(h,"TR",{class:!0});var g=E(e);l=M(g,"TD",{class:!0});var b=E(l);i=z(b,s),b.forEach(u),r=C(g),o=M(g,"TD",{class:!0});var k=E(o);c=z(k,n),k.forEach(u),a=C(g),_=M(g,"TD",{class:!0});var V=E(_);y=z(V,P),V.forEach(u),m=C(g),g.forEach(u),this.h()},h(){w(l,"class","svelte-7r3yb4"),w(o,"class","svelte-7r3yb4"),w(_,"class","svelte-7r3yb4"),w(e,"class","svelte-7r3yb4")},m(h,g){W(h,e,g),f(e,l),f(l,i),f(e,r),f(e,o),f(o,c),f(e,a),f(e,_),f(_,y),f(e,m)},p(h,g){g[0]&67633152&&n!==(n=ye(h[26][h[73]]["cvap19"+h[70]])+"")&&ke(c,n),g[0]&67633152&&P!==(P=ye(h[26][h[73]]["pop20"+h[70]])+"")&&ke(y,P)},d(h){h&&u(e)}}}function vt(t){let e=t[73].split(",")[0].split("_")[0]===t[18].split("_")[0],l,s=e&&pt(t);return{c(){s&&s.c(),l=Oe()},l(i){s&&s.l(i),l=Oe()},m(i,r){s&&s.m(i,r),W(i,l,r)},p(i,r){r[0]&786432&&(e=i[73].split(",")[0].split("_")[0]===i[18].split("_")[0]),e?s?s.p(i,r):(s=pt(i),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(i){s&&s.d(i),i&&u(l)}}}function mt(t){let e,l,s,i,r,o,n,c,a,_,P=t[14],y=[];for(let m=0;m<P.length;m+=1)y[m]=Et(Hl(t,P,m));return{c(){e=D("div");for(let m=0;m<y.length;m+=1)y[m].c();l=B(),s=D("button"),i=D("b"),r=A("[SAVE]"),this.h()},l(m){e=M(m,"DIV",{class:!0});var h=E(e);for(let k=0;k<y.length;k+=1)y[k].l(h);l=C(h),s=M(h,"BUTTON",{style:!0});var g=E(s);i=M(g,"B",{});var b=E(i);r=z(b,"[SAVE]"),b.forEach(u),g.forEach(u),h.forEach(u),this.h()},h(){Te(s,"font-size","13px"),w(e,"class","community svelte-7r3yb4")},m(m,h){W(m,e,h);for(let g=0;g<y.length;g+=1)y[g].m(e,null);f(e,l),f(e,s),f(s,i),f(i,r),c=!0,a||(_=de(s,"click",t[33]),a=!0)},p(m,h){if(h[0]&16384|h[1]&2){P=m[14];let g;for(g=0;g<P.length;g+=1){const b=Hl(m,P,g);y[g]?y[g].p(b,h):(y[g]=Et(b),y[g].c(),y[g].m(e,l))}for(;g<y.length;g+=1)y[g].d(1);y.length=P.length}},i(m){c||(Ne(()=>{n&&n.end(1),o=Fe(e,nl,{}),o.start()}),c=!0)},o(m){o&&o.invalidate(),n=Je(e,nl,{}),c=!1},d(m){m&&u(e),pe(y,m),m&&n&&n.end(),a=!1,_()}}}function kt(t){let e,l,s=$e(t[70])+"",i,r,o,n=ye(t[26]["cvap19"+t[70]])+"",c,a,_,P=ye(t[26]["pop20"+t[70]])+"",y,m;return{c(){e=D("tr"),l=D("td"),i=A(s),r=B(),o=D("td"),c=A(n),a=B(),_=D("td"),y=A(P),m=B(),this.h()},l(h){e=M(h,"TR",{class:!0});var g=E(e);l=M(g,"TD",{class:!0});var b=E(l);i=z(b,s),b.forEach(u),r=C(g),o=M(g,"TD",{class:!0});var k=E(o);c=z(k,n),k.forEach(u),a=C(g),_=M(g,"TD",{class:!0});var V=E(_);y=z(V,P),V.forEach(u),m=C(g),g.forEach(u),this.h()},h(){w(l,"class","svelte-7r3yb4"),w(o,"class","svelte-7r3yb4"),w(_,"class","svelte-7r3yb4"),w(e,"class","svelte-7r3yb4")},m(h,g){W(h,e,g),f(e,l),f(l,i),f(e,r),f(e,o),f(o,c),f(e,a),f(e,_),f(_,y),f(e,m)},p(h,g){g[0]&16384&&n!==(n=ye(h[26]["cvap19"+h[70]])+"")&&ke(c,n),g[0]&16384&&P!==(P=ye(h[26]["pop20"+h[70]])+"")&&ke(y,P)},d(h){h&&u(e)}}}function Et(t){let e,l,s,i=(t[67]||"COI"+(t[69]+1))+"",r,o,n,c,a,_,P,y,m,h,g,b,k,V,j,O,N,L,Q=Xe(t[26].income)+"",Y,se,G,F,H=ye(t[26].hhlang)+"",K,R,oe,ue,Z=ye(t[26].benefits)+"",be,$,v;function Ee(){return t[56](t[69])}let Ie=Ae,ie=[];for(let ee=0;ee<Ie.length;ee+=1)ie[ee]=kt(Rl(t,Ie,ee));return{c(){e=D("div"),l=D("p"),s=D("i"),r=A(i),o=B(),n=D("button"),c=A("\u{1F5D1}"),a=B(),_=D("table"),P=D("tr"),y=D("th"),m=B(),h=D("th"),g=A("CVAP"),b=B(),k=D("th"),V=A("Pop."),j=B();for(let ee=0;ee<ie.length;ee+=1)ie[ee].c();O=B(),N=D("p"),L=A("Income: "),Y=A(Q),se=B(),G=D("p"),F=A("Asian and LEP: "),K=A(H),R=B(),oe=D("p"),ue=A("Pct. gov't benefits: "),be=A(Z),this.h()},l(ee){e=M(ee,"DIV",{class:!0});var ae=E(e);l=M(ae,"P",{class:!0});var le=E(l);s=M(le,"I",{});var Pe=E(s);r=z(Pe,i),Pe.forEach(u),o=C(le),n=M(le,"BUTTON",{});var re=E(n);c=z(re,"\u{1F5D1}"),re.forEach(u),le.forEach(u),a=C(ae),_=M(ae,"TABLE",{class:!0});var we=E(_);P=M(we,"TR",{class:!0});var te=E(P);y=M(te,"TH",{class:!0}),E(y).forEach(u),m=C(te),h=M(te,"TH",{class:!0});var X=E(h);g=z(X,"CVAP"),X.forEach(u),b=C(te),k=M(te,"TH",{class:!0});var x=E(k);V=z(x,"Pop."),x.forEach(u),te.forEach(u),j=C(we);for(let ne=0;ne<ie.length;ne+=1)ie[ne].l(we);we.forEach(u),O=C(ae),N=M(ae,"P",{class:!0});var Le=E(N);L=z(Le,"Income: "),Y=z(Le,Q),Le.forEach(u),se=C(ae),G=M(ae,"P",{class:!0});var Ce=E(G);F=z(Ce,"Asian and LEP: "),K=z(Ce,H),Ce.forEach(u),R=C(ae),oe=M(ae,"P",{class:!0});var ve=E(oe);ue=z(ve,"Pct. gov't benefits: "),be=z(ve,Z),ve.forEach(u),ae.forEach(u),this.h()},h(){w(l,"class","svelte-7r3yb4"),w(y,"class","svelte-7r3yb4"),w(h,"class","svelte-7r3yb4"),w(k,"class","svelte-7r3yb4"),w(P,"class","svelte-7r3yb4"),w(_,"class","svelte-7r3yb4"),w(N,"class","table-footer svelte-7r3yb4"),w(G,"class","table-footer svelte-7r3yb4"),w(oe,"class","table-footer svelte-7r3yb4"),w(e,"class","svelte-7r3yb4")},m(ee,ae){W(ee,e,ae),f(e,l),f(l,s),f(s,r),f(l,o),f(l,n),f(n,c),f(e,a),f(e,_),f(_,P),f(P,y),f(P,m),f(P,h),f(h,g),f(P,b),f(P,k),f(k,V),f(_,j);for(let le=0;le<ie.length;le+=1)ie[le].m(_,null);f(e,O),f(e,N),f(N,L),f(N,Y),f(e,se),f(e,G),f(G,F),f(G,K),f(e,R),f(e,oe),f(oe,ue),f(oe,be),$||(v=de(n,"click",Ee),$=!0)},p(ee,ae){if(t=ee,ae[0]&16384&&i!==(i=(t[67]||"COI"+(t[69]+1))+"")&&ke(r,i),ae[0]&16384){Ie=Ae;let le;for(le=0;le<Ie.length;le+=1){const Pe=Rl(t,Ie,le);ie[le]?ie[le].p(Pe,ae):(ie[le]=kt(Pe),ie[le].c(),ie[le].m(_,null))}for(;le<ie.length;le+=1)ie[le].d(1);ie.length=Ie.length}ae[0]&16384&&Q!==(Q=Xe(t[26].income)+"")&&ke(Y,Q),ae[0]&16384&&H!==(H=ye(t[26].hhlang)+"")&&ke(K,H),ae[0]&16384&&Z!==(Z=ye(t[26].benefits)+"")&&ke(be,Z)},d(ee){ee&&u(e),pe(ie,ee),$=!1,v()}}}function wt(t){let e,l=t[64]+"",s,i,r;function o(){return t[57](t[64])}return{c(){e=D("button"),s=A(l),this.h()},l(n){e=M(n,"BUTTON",{class:!0});var c=E(e);s=z(c,l),c.forEach(u),this.h()},h(){w(e,"class","svelte-7r3yb4")},m(n,c){W(n,e,c),f(e,s),i||(r=de(e,"click",o),i=!0)},p(n,c){t=n},d(n){n&&u(e),i=!1,r()}}}function Zt(t){let e,l,s,i,r,o,n=t[3].includes(t[10]),c,a=t[3].includes(t[10]),_,P,y,m,h,g,b,k,V,j,O=(t[23]?"Original":"Modify")+"",N,L,Q,Y,se,G,F,H,K,R,oe,ue,Z,be,$,v,Ee,Ie,ie,ee,ae,le,Pe=t[3],re=[];for(let p=0;p<Pe.length;p+=1)re[p]=lt(et(t,Pe,p));let we=t[4],te=[];for(let p=0;p<we.length;p+=1)te[p]=tt(xl(t,we,p));let X=n&&st(t),x=a&&ot(t);function Le(p,T){return(P==null||T[0]&3080)&&(P=!!(p[3].includes(p[10])&&p[11])),P?Yt:((y==null||T[0]&1048640)&&(y=!!p[6].includes(p[20])),y?Xt:Qt)}let Ce=Le(t,[-1,-1,-1,-1]),ve=Ce(t),ne=t[21]&&_t(t),fe=t[12]&&mt(t);Z=new Kt({props:{viewBox:t[16],labelSize:t[24],draggedBgs:t[13],data:t[1],path:t[8],color:t[31],changingLines:t[23],neighbor:t[30],showPluralities:t[11],metric:t[20],period:t[9],tractVars:t[5],showComms:t[12],drawings:t[14],showPlans:t[21],plan:t[18],points:t[2],tractMesh:t[29],bgMesh:t[28],mesh:t[27],aggregates:t[19],obj:t[0],handleLabelClick:t[35],congressMeshes:t[15],plansMeshes:t[7],startDrag:t[36],endDrag:t[37],handleMouseMove:t[38]}});let ze=Object.keys(t[34]),ge=[];for(let p=0;p<ze.length;p+=1)ge[p]=wt(Ul(t,ze,p));return{c(){e=D("div"),l=D("div"),s=D("select"),i=D("optgroup");for(let p=0;p<re.length;p+=1)re[p].c();r=D("optgroup");for(let p=0;p<te.length;p+=1)te[p].c();o=B(),X&&X.c(),c=B(),x&&x.c(),_=B(),ve.c(),m=B(),h=D("div"),g=D("h3"),b=D("button"),k=A("Plans \u2193"),V=B(),j=D("button"),N=A(O),L=B(),ne&&ne.c(),Q=B(),Y=D("div"),se=D("h3"),G=D("button"),F=A("Communities \u2193"),H=B(),K=D("button"),R=A("+"),oe=B(),fe&&fe.c(),ue=B(),Ct(Z.$$.fragment),be=B(),$=D("div"),v=D("h3"),Ee=A("Views"),Ie=B();for(let p=0;p<ge.length;p+=1)ge[p].c();this.h()},l(p){e=M(p,"DIV",{class:!0,style:!0});var T=E(e);l=M(T,"DIV",{class:!0});var I=E(l);s=M(I,"SELECT",{style:!0,class:!0});var S=E(s);i=M(S,"OPTGROUP",{label:!0});var De=E(i);for(let he=0;he<re.length;he+=1)re[he].l(De);De.forEach(u),r=M(S,"OPTGROUP",{label:!0});var xe=E(r);for(let he=0;he<te.length;he+=1)te[he].l(xe);xe.forEach(u),S.forEach(u),o=C(I),X&&X.l(I),c=C(I),x&&x.l(I),_=C(I),ve.l(I),m=C(I),h=M(I,"DIV",{class:!0});var qe=E(h);g=M(qe,"H3",{class:!0});var We=E(g);b=M(We,"BUTTON",{});var el=E(b);k=z(el,"Plans \u2193"),el.forEach(u),V=C(We),j=M(We,"BUTTON",{class:!0});var ll=E(j);N=z(ll,O),ll.forEach(u),We.forEach(u),L=C(qe),ne&&ne.l(qe),qe.forEach(u),Q=C(I),Y=M(I,"DIV",{class:!0});var Ge=E(Y);se=M(Ge,"H3",{class:!0});var d=E(se);G=M(d,"BUTTON",{});var J=E(G);F=z(J,"Communities \u2193"),J.forEach(u),H=C(d),K=M(d,"BUTTON",{});var U=E(K);R=z(U,"+"),U.forEach(u),d.forEach(u),oe=C(Ge),fe&&fe.l(Ge),Ge.forEach(u),I.forEach(u),ue=C(T),Lt(Z.$$.fragment,T),be=C(T),$=M(T,"DIV",{class:!0});var q=E($);v=M(q,"H3",{class:!0});var ce=E(v);Ee=z(ce,"Views"),ce.forEach(u),Ie=C(q);for(let he=0;he<ge.length;he+=1)ge[he].l(q);q.forEach(u),T.forEach(u),this.h()},h(){w(i,"label","Redistricting data"),w(r,"label","American Community Survey data"),Te(s,"width",t[4].includes(t[10])?"auto":"calc(var(--control-width) - 20px)"),w(s,"class","svelte-7r3yb4"),t[10]===void 0&&Ne(()=>t[46].call(s)),w(j,"class","subbutton svelte-7r3yb4"),w(g,"class","svelte-7r3yb4"),w(h,"class","stats svelte-7r3yb4"),w(se,"class","svelte-7r3yb4"),w(Y,"class","stats svelte-7r3yb4"),w(l,"class","controls svelte-7r3yb4"),w(v,"class","svelte-7r3yb4"),w($,"class","views svelte-7r3yb4"),w(e,"class","container svelte-7r3yb4"),Te(e,"cursor",t[22]?"crosshair":"auto"),Ne(()=>t[58].call(e))},m(p,T){W(p,e,T),f(e,l),f(l,s),f(s,i);for(let I=0;I<re.length;I+=1)re[I].m(i,null);f(s,r);for(let I=0;I<te.length;I+=1)te[I].m(r,null);tl(s,t[10]),f(l,o),X&&X.m(l,null),f(l,c),x&&x.m(l,null),f(l,_),ve.m(l,null),f(l,m),f(l,h),f(h,g),f(g,b),f(b,k),f(g,V),f(g,j),f(j,N),f(h,L),ne&&ne.m(h,null),f(l,Q),f(l,Y),f(Y,se),f(se,G),f(G,F),f(se,H),f(se,K),f(K,R),f(Y,oe),fe&&fe.m(Y,null),f(e,ue),St(Z,e,null),f(e,be),f(e,$),f($,v),f(v,Ee),f($,Ie);for(let I=0;I<ge.length;I+=1)ge[I].m($,null);ie=Nt(e,t[58].bind(e)),ee=!0,ae||(le=[de(s,"change",t[46]),de(b,"click",t[50]),de(j,"click",t[51]),de(G,"click",t[54]),de(K,"click",t[55])],ae=!0)},p(p,T){if(T[0]&8){Pe=p[3];let S;for(S=0;S<Pe.length;S+=1){const De=et(p,Pe,S);re[S]?re[S].p(De,T):(re[S]=lt(De),re[S].c(),re[S].m(i,null))}for(;S<re.length;S+=1)re[S].d(1);re.length=Pe.length}if(T[0]&16){we=p[4];let S;for(S=0;S<we.length;S+=1){const De=xl(p,we,S);te[S]?te[S].p(De,T):(te[S]=tt(De),te[S].c(),te[S].m(r,null))}for(;S<te.length;S+=1)te[S].d(1);te.length=we.length}(!ee||T[0]&1040)&&Te(s,"width",p[4].includes(p[10])?"auto":"calc(var(--control-width) - 20px)"),T[0]&1048&&tl(s,p[10]),T[0]&1032&&(n=p[3].includes(p[10])),n?X?X.p(p,T):(X=st(p),X.c(),X.m(l,c)):X&&(X.d(1),X=null),T[0]&1032&&(a=p[3].includes(p[10])),a?x?x.p(p,T):(x=ot(p),x.c(),x.m(l,_)):x&&(x.d(1),x=null),Ce===(Ce=Le(p,T))&&ve?ve.p(p,T):(ve.d(1),ve=Ce(p),ve&&(ve.c(),ve.m(l,m))),(!ee||T[0]&8388608)&&O!==(O=(p[23]?"Original":"Modify")+"")&&ke(N,O),p[21]?ne?(ne.p(p,T),T[0]&2097152&&_e(ne,1)):(ne=_t(p),ne.c(),_e(ne,1),ne.m(h,null)):ne&&(Ke(),je(ne,1,1,()=>{ne=null}),Qe()),p[12]?fe?(fe.p(p,T),T[0]&4096&&_e(fe,1)):(fe=mt(p),fe.c(),_e(fe,1),fe.m(Y,null)):fe&&(Ke(),je(fe,1,1,()=>{fe=null}),Qe());const I={};if(T[0]&65536&&(I.viewBox=p[16]),T[0]&16777216&&(I.labelSize=p[24]),T[0]&8192&&(I.draggedBgs=p[13]),T[0]&2&&(I.data=p[1]),T[0]&256&&(I.path=p[8]),T[0]&8388608&&(I.changingLines=p[23]),T[0]&2048&&(I.showPluralities=p[11]),T[0]&1048576&&(I.metric=p[20]),T[0]&512&&(I.period=p[9]),T[0]&32&&(I.tractVars=p[5]),T[0]&4096&&(I.showComms=p[12]),T[0]&16384&&(I.drawings=p[14]),T[0]&2097152&&(I.showPlans=p[21]),T[0]&262144&&(I.plan=p[18]),T[0]&4&&(I.points=p[2]),T[0]&524288&&(I.aggregates=p[19]),T[0]&1&&(I.obj=p[0]),T[0]&32768&&(I.congressMeshes=p[15]),T[0]&128&&(I.plansMeshes=p[7]),Z.$set(I),T[0]&65536|T[1]&8){ze=Object.keys(p[34]);let S;for(S=0;S<ze.length;S+=1){const De=Ul(p,ze,S);ge[S]?ge[S].p(De,T):(ge[S]=wt(De),ge[S].c(),ge[S].m($,null))}for(;S<ge.length;S+=1)ge[S].d(1);ge.length=ze.length}(!ee||T[0]&4194304)&&Te(e,"cursor",p[22]?"crosshair":"auto")},i(p){ee||(_e(ne),_e(fe),_e(Z.$$.fragment,p),ee=!0)},o(p){je(ne),je(fe),je(Z.$$.fragment,p),ee=!1},d(p){p&&u(e),pe(re,p),pe(te,p),X&&X.d(),x&&x.d(),ve.d(),ne&&ne.d(),fe&&fe.d(),At(Z),pe(ge,p),ie(),ae=!1,fl(le)}}}async function $t(t){const l=await(await t(`${Ze}/points.topojson`)).json();return Pl(l,l.objects.layer).features}async function ns({fetch:t}){const l=await(await t(`${Ze}/output_no-congress.topojson`)).json(),s=qt(l.objects.census),i=Pl(l,s).features,r=["cvap","pop"],o=[...i.reduce((_,P)=>{const y=Object.keys(P.properties).filter(m=>[...r,"GEOID","senate","assembly","congress"].every(h=>!m.includes(h))&&m===m.toLowerCase()).map(m=>m.split("_")[0]);return new Set([..._,...y])},[])],n=i.reduce((_,P,y)=>(_[P.properties.GEOID]=y,_),{}),c=Ot(),a={};return Object.keys(l.objects).forEach(_=>{_!=="census"&&(a[_]=c(hl(l,l.objects[_],(P,y)=>ol(P)!==ol(y))))}),{props:{topoData:l,obj:s,data:i,neighbors:Bt(s.geometries),dynamicVars:r,staticVars:o,idToIndex:n,points:await $t(t),path:c,plansMeshes:a,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}function xt(t,e,l){let s,i,r,o,{topoData:n,obj:c,neighbors:a,data:_,points:P,dynamicVars:y,staticVars:m,tractVars:h,pluralityVars:g,plansMeshes:b,path:k,idToIndex:V}=e;const j=d=>hl(n,c,d),O=k(j((d,J)=>Be(d)!==Be(J))),N=k(j((d,J)=>Be(d).substring(0,11)!==Be(J).substring(0,11))),L=d=>_[d].properties[X];let Q;function Y(d){const J=L(d),U=new Set(a[d].map(L).filter(q=>q!==J));if(U.size===1){const q=U.values().next().value;l(0,c.geometries[d].properties[X]=q,c),l(0,c),Q=q}else U.has(Q)&&(l(0,c.geometries[d].properties[X]=Q,c),l(0,c))}let se="present",G="pop";const F={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let H=!1;function K({properties:d}){if(d.ALAND===0)return"#fff";const J=d[`${s}_total`];if(g.includes(s)){const U=ce=>d[`${s}_${ce}`];if(U(Re[0])===null)return"#eee";const q=[...Re].sort((ce,he)=>U(he)-U(ce));return Ye[Re.indexOf(q[0])]}else if(m.includes(s)){if(!d.ALAND)return"#fff";if(!Vl(i(d)))return"#eee";if(J<=10)return"#fff";for(let U=1;U<r.length;U++)if(i(d)<r[U])return Ye[U];return Ye[r.length-1]}else{if(J<=10)return"#fff";const U=q=>d[`${s}_${q}`]/d[`${s}_total`];if(H){const q=Ae.filter(me=>U(me)>.5)[0];if(q!==void 0)return ul[q]+al[J<130?0:J<200?1:2];const ce=[...Ae].sort((me,Se)=>U(Se)-U(me)),he=U(ce[0])-U(ce[1]);return ul[ce[0]]+al[he<.093?0:1]}else{const q=F[G];for(let ce=1;ce<q.length;ce++)if(U("asian")<q[ce])return rl[ce-1];return rl[q.length-1]}}}let R,oe,ue,Z,be,$=[],v=[],Ee;async function Ie(){const J=await(await fetch(`${Ze}/output_congress.topojson`)).json();l(15,Ee=Object.keys(J.objects).reduce((U,q)=>(U[q]=k(hl(J,J.objects[q],(ce,he)=>ol(ce)!==ol(he))),U),{}))}function ie(d){let J;typeof d[0]=="string"?J=d.map(me=>_[V[me]].properties):J=d.map(me=>me.properties),console.log(J);const U=(me,Se)=>J.reduce((Pt,_l)=>Pt+(_l[me]||0)*(Se&&_l[Se]||1),0),q=me=>U(me,"pop20_total")/U("pop20_total"),ce=(me,Se)=>U(`${me}_${Se}`)/U(`${me}_total`),he={income:q("income"),hhlang:ce("hhlang","asian"),benefits:ce("families","benefits"),pop20_total:U("pop20_total")};return["pop20","cvap19"].forEach(me=>Ae.forEach(Se=>he[me+Se]=ce(me,Se))),he}const ee=d=>l(14,v=v.filter((J,U)=>U!==d));async function ae(){try{await fetch(`${Ze}/data.json`,{method:"POST",body:JSON.stringify(v)})}catch(d){console.error(d)}}let le;async function Pe(){const d=await fetch(`${Ze}/data.json`);l(14,v=(await d.json()).map(J=>bl(pl({},J),{stats:ie(J.ids)})))}const re={Manhattan:[80,430,500,440],Brooklyn:[20,550,600,600],Full:[0,0,975,1420]};let we=re.Manhattan,te,X="assembly",x=[],Le={};function Ce(d){x.includes(d)?l(19,x=x.filter(J=>J!==d)):l(19,x=[...x,d])}const ve=()=>l(43,Z=!0),ne=()=>l(43,Z=l(22,ue=!1)),fe=d=>ue&&Z&&($.length===0?l(13,$=[Be(d)]):$.push(Be(d))),ze=[[]];function ge(){G=yl(this),l(10,G),l(4,m),l(3,y)}function p(){se=this.__value,l(9,se)}const T=()=>l(11,H=!H),I=()=>{l(21,R=!R),l(12,oe=!1)},S=()=>l(23,be=!be);function De(){X=yl(this),l(18,X)}const xe=d=>Ce(d),qe=()=>{l(12,oe=!oe),l(21,R=!1)},We=()=>l(22,ue=!0),el=d=>ee(d),ll=d=>l(16,we=re[d]);function Ge(){te=this.clientWidth,l(17,te)}return t.$$set=d=>{"topoData"in d&&l(39,n=d.topoData),"obj"in d&&l(0,c=d.obj),"neighbors"in d&&l(40,a=d.neighbors),"data"in d&&l(1,_=d.data),"points"in d&&l(2,P=d.points),"dynamicVars"in d&&l(3,y=d.dynamicVars),"staticVars"in d&&l(4,m=d.staticVars),"tractVars"in d&&l(5,h=d.tractVars),"pluralityVars"in d&&l(6,g=d.pluralityVars),"plansMeshes"in d&&l(7,b=d.plansMeshes),"path"in d&&l(8,k=d.path),"idToIndex"in d&&l(41,V=d.idToIndex)},t.$$.update=()=>{if(t.$$.dirty[0]&1552&&l(20,s=m.includes(G)?G:G+(se==="past"?10:G==="cvap"?19:20)),t.$$.dirty[0]&1048576&&l(45,i={income:d=>d[s],hhlang:d=>d[`${s}_asian`]/d[`${s}_total`],graduates:d=>(d[`${s}_hs_grad`]+d[`${s}_ba_above`])/d[`${s}_total`],families:d=>d[`${s}_benefits`]/d[`${s}_total`],workers:d=>d[`${s}_publictransport`]/d[`${s}_total`]}[s]),t.$$.dirty[0]&1051674|t.$$.dirty[1]&18432&&l(25,r=y.includes(G)&&!H?F[G]:F[s]||!m.includes(s)||s==="asiaentry"||l(42,F[s]=zt(_.map(d=>i(d.properties)).filter(Vl),6),F)),t.$$.dirty[0]&24834|t.$$.dirty[1]&4096&&!Z&&$.length>0){if($[0]===$[$.length-1]){const d=new Set($),J=Ut(j((q,ce)=>Wt(d.has(Be(q)),d.has(Be(ce)))).coordinates.flat()),U=_.map(q=>[Ht(Rt(q.geometry.coordinates[0]),J),Be(q)]).filter(q=>q[0]).map(q=>q[1]);l(14,v=[...v,{outline:k({type:"LineString",coordinates:J}),ids:U,stats:ie(U)}])}l(13,$=[])}if(t.$$.dirty[0]&294912&&Ee===void 0&&X.startsWith("congress")&&Ie(),t.$$.dirty[0]&4096|t.$$.dirty[1]&8192&&oe&&!le&&(Pe(),l(44,le=!0)),t.$$.dirty[0]&458752&&l(24,o=(X.endsWith("_names")?13:16)/((te-410)/we[2])),t.$$.dirty[0]&786433)for(let d=0;d<x.length;d++){const[J,U]=x[d].split(",");J===X&&l(26,Le[x[d]]=ie(c.geometries.filter(({properties:q})=>U===""+q[X])),Le)}},[c,_,P,y,m,h,g,b,k,se,G,H,oe,$,v,Ee,we,te,X,x,s,R,ue,be,o,r,Le,j,O,N,Y,K,ee,ae,re,Ce,ve,ne,fe,n,a,V,F,Z,le,i,ge,p,ze,T,I,S,De,xe,qe,We,el,ll,Ge]}class os extends vl{constructor(e){super();ml(this,e,xt,Zt,kl,{topoData:39,obj:0,neighbors:40,data:1,points:2,dynamicVars:3,staticVars:4,tractVars:5,pluralityVars:6,plansMeshes:7,path:8,idToIndex:41},null,[-1,-1,-1,-1])}}export{os as default,ns as load};
