var Ct=Object.defineProperty,Mt=Object.defineProperties;var St=Object.getOwnPropertyDescriptors;var Vl=Object.getOwnPropertySymbols;var At=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var Tl=(s,e,l)=>e in s?Ct(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l,Ol=(s,e)=>{for(var l in e||(e={}))At.call(e,l)&&Tl(s,l,e[l]);if(Vl)for(var l of Vl(e))Lt.call(e,l)&&Tl(s,l,e[l]);return s},Dl=(s,e)=>Mt(s,St(e));import{J as Il,K as Ut,L as yl,M as zt,S as Rt,i as qt,s as Ht,e as w,t as C,c as V,a as g,g as M,d as _,f as q,H as u,h as ve,l as Te,k as S,n as A,b as m,N as fe,O as ue,P as Ie,Q as ul,I as ll,R as Ke,T as ke,U as Ee,V as Pe,W as Qe,X as Nl,Y as Bl,Z as Gt,x as he,u as Oe,w as Xe,_ as Wt,$ as Ft,a0 as Jt,a1 as Kt,a2 as Qt,a3 as Ye,a4 as hl,a5 as Le,r as Ze,a6 as Xt,a7 as Cl}from"../chunks/vendor-a9cad297.js";import{u as Yt,p as Ml,a as De,m as $e,d as Sl,i as be,b as Al,x as Zt,c as _l,e as Ll}from"../chunks/utils-ed3f58a2.js";const ml={black:"#9fd400",hispanic:"#ffaa00",asian:"#ff0000",white:"#73B2FF"},pl=["44","99","ee"],qe=["asian","black","hispanic","white"],ye=["1990_earlier","1990_1999","2000_2009","2010_later"],dl={hhlang:"Proportion of households that speak an Asian language and are LEP",income:"Median household income",graduates:"Proportion of people who graduated >= high school",families:"Proportion of families who receive gov't benefits",asiaentry:"Dominant entry period for Asian families",workers:"Proportion of workers who take public transportation",cvap:"Citizen voting age population by race",pop:"Population by race"},gl=["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26"],xe=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],Ul={assembly_letters:134675,assembly_names:134626,senate_letters:320655,senate_names:321190,congress_letters:776971,congress_names:776971};function zl(s,e,l){const t=s.slice();return t[66]=e[l],t}function Rl(s,e,l){const t=s.slice();return t[69]=e[l].properties,t[70]=e[l].geometry.coordinates[0],t[71]=e[l].geometry.coordinates[1],t}function ql(s,e,l){const t=s.slice();return t[74]=e[l].outline,t}function Hl(s,e,l){const t=s.slice();return t[77]=e[l],t[79]=l,t}function Gl(s,e,l){const t=s.slice();return t[80]=e[l].name,t[26]=e[l].stats,t[79]=l,t}function Wl(s,e,l){const t=s.slice();return t[82]=e[l],t}function Fl(s,e,l){const t=s.slice();return t[85]=e[l],t}function Jl(s,e,l){const t=s.slice();return t[88]=e[l],t}function Kl(s,e,l){const t=s.slice();return t[69]=e[l],t}function Ql(s,e,l){const t=s.slice();return t[69]=e[l],t}function Xl(s,e,l){const t=s.slice();return t[103]=e[l],t}function Yl(s,e,l){const t=s.slice();return t[103]=e[l],t[79]=l,t}function Zl(s,e,l){const t=s.slice();return t[69]=e[l],t}function $l(s,e,l){const t=s.slice();return t[69]=e[l],t[79]=l,t}function xl(s,e,l){const t=s.slice();return t[82]=e[l],t}function et(s,e,l){const t=s.slice();return t[97]=e[l],t}function lt(s,e,l){const t=s.slice();return t[69]=e[l],t}function tt(s,e,l){const t=s.slice();return t[66]=e[l],t}function st(s,e,l){const t=s.slice();return t[66]=e[l],t}function ot(s){let e,l=(dl[s[66]]||s[66])+"",t,i;return{c(){e=w("option"),t=C(l),this.h()},l(r){e=V(r,"OPTION",{});var a=g(e);t=M(a,l),a.forEach(_),this.h()},h(){e.__value=i=s[66],e.value=e.__value},m(r,a){q(r,e,a),u(e,t)},p(r,a){a[0]&8&&l!==(l=(dl[r[66]]||r[66])+"")&&ve(t,l),a[0]&8&&i!==(i=r[66])&&(e.__value=i,e.value=e.__value)},d(r){r&&_(e)}}}function nt(s){let e,l=(dl[s[66]]||s[66])+"",t,i;return{c(){e=w("option"),t=C(l),this.h()},l(r){e=V(r,"OPTION",{});var a=g(e);t=M(a,l),a.forEach(_),this.h()},h(){e.__value=i=s[66],e.value=e.__value},m(r,a){q(r,e,a),u(e,t)},p(r,a){a[0]&16&&l!==(l=(dl[r[66]]||r[66])+"")&&ve(t,l),a[0]&16&&i!==(i=r[66])&&(e.__value=i,e.value=e.__value)},d(r){r&&_(e)}}}function at(s){let e,l=["past","present"],t=[];for(let i=0;i<2;i+=1)t[i]=it(lt(s,l,i));return{c(){for(let i=0;i<2;i+=1)t[i].c();e=Te()},l(i){for(let r=0;r<2;r+=1)t[r].l(i);e=Te()},m(i,r){for(let a=0;a<2;a+=1)t[a].m(i,r);q(i,e,r)},p(i,r){if(r[0]&512){l=["past","present"];let a;for(a=0;a<2;a+=1){const o=lt(i,l,a);t[a]?t[a].p(o,r):(t[a]=it(o),t[a].c(),t[a].m(e.parentNode,e))}for(;a<2;a+=1)t[a].d(1)}},d(i){ue(t,i),i&&_(e)}}}function it(s){let e,l,t,i=_l(s[69])+"",r,a,o,c;return{c(){e=w("label"),l=w("input"),t=S(),r=C(i),a=S(),this.h()},l(n){e=V(n,"LABEL",{});var p=g(e);l=V(p,"INPUT",{type:!0,name:!0}),t=A(p),r=M(p,i),a=A(p),p.forEach(_),this.h()},h(){m(l,"type","radio"),m(l,"name","period"),l.__value=s[69],l.value=l.__value,s[44][0].push(l)},m(n,p){q(n,e,p),u(e,l),l.checked=l.__value===s[9],u(e,t),u(e,r),u(e,a),o||(c=fe(l,"change",s[43]),o=!0)},p(n,p){p[0]&512&&(l.checked=l.__value===n[9])},d(n){n&&_(e),s[44][0].splice(s[44][0].indexOf(l),1),o=!1,c()}}}function rt(s){let e,l,t=(s[11]?"pct. asian":"pluralities")+"",i,r,a;return{c(){e=w("button"),l=C("Show "),i=C(t),this.h()},l(o){e=V(o,"BUTTON",{class:!0});var c=g(e);l=M(c,"Show "),i=M(c,t),c.forEach(_),this.h()},h(){m(e,"class","plurality-toggle svelte-1jfuj1x")},m(o,c){q(o,e,c),u(e,l),u(e,i),r||(a=fe(e,"click",s[45]),r=!0)},p(o,c){c[0]&2048&&t!==(t=(o[11]?"pct. asian":"pluralities")+"")&&ve(i,t)},d(o){o&&_(e),r=!1,a()}}}function $t(s){let e,l,t=s[25],i=[];for(let o=0;o<t.length;o+=1)i[o]=ct(Yl(s,t,o));let r=s[25],a=[];for(let o=0;o<r.length;o+=1)a[o]=ft(Xl(s,r,o));return{c(){e=w("div");for(let o=0;o<i.length;o+=1)i[o].c();l=S();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var c=g(e);for(let n=0;n<i.length;n+=1)i[n].l(c);l=A(c);for(let n=0;n<a.length;n+=1)a[n].l(c);c.forEach(_),this.h()},h(){m(e,"class","color-legend svelte-1jfuj1x"),ke(e,"grid-template-columns","repeat("+(s[3].includes(s[10])?5:6)+", 40px)")},m(o,c){q(o,e,c);for(let n=0;n<i.length;n+=1)i[n].m(e,null);u(e,l);for(let n=0;n<a.length;n+=1)a[n].m(e,null)},p(o,c){if(c[0]&33555464){t=o[25];let n;for(n=0;n<t.length;n+=1){const p=Yl(o,t,n);i[n]?i[n].p(p,c):(i[n]=ct(p),i[n].c(),i[n].m(e,l))}for(;n<i.length;n+=1)i[n].d(1);i.length=t.length}if(c[0]&33554432){r=o[25];let n;for(n=0;n<r.length;n+=1){const p=Xl(o,r,n);a[n]?a[n].p(p,c):(a[n]=ft(p),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}c[0]&1032&&ke(e,"grid-template-columns","repeat("+(o[3].includes(o[10])?5:6)+", 40px)")},d(o){o&&_(e),ue(i,o),ue(a,o)}}}function xt(s){let e,l,t=ye,i=[];for(let o=0;o<t.length;o+=1)i[o]=ut($l(s,t,o));let r=ye,a=[];for(let o=0;o<r.length;o+=1)a[o]=ht(Zl(s,r,o));return{c(){e=w("div");for(let o=0;o<i.length;o+=1)i[o].c();l=S();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=V(o,"DIV",{class:!0});var c=g(e);for(let n=0;n<i.length;n+=1)i[n].l(c);l=A(c);for(let n=0;n<a.length;n+=1)a[n].l(c);c.forEach(_),this.h()},h(){m(e,"class","color-legend plurality-legend svelte-1jfuj1x")},m(o,c){q(o,e,c);for(let n=0;n<i.length;n+=1)i[n].m(e,null);u(e,l);for(let n=0;n<a.length;n+=1)a[n].m(e,null)},p(o,c){if(c&0){t=ye;let n;for(n=0;n<t.length;n+=1){const p=$l(o,t,n);i[n]?i[n].p(p,c):(i[n]=ut(p),i[n].c(),i[n].m(e,l))}for(;n<i.length;n+=1)i[n].d(1);i.length=t.length}if(c&0){r=ye;let n;for(n=0;n<r.length;n+=1){const p=Zl(o,r,n);a[n]?a[n].p(p,c):(a[n]=ht(p),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}},d(o){o&&_(e),ue(i,o),ue(a,o)}}}function es(s){let e,l,t,i,r,a,o,c,n,p,O,D,P=qe,b=[];for(let d=0;d<P.length;d+=1)b[d]=pt(xl(s,P,d));return{c(){e=w("div");for(let d=0;d<b.length;d+=1)b[d].c();l=S(),t=w("p"),i=w("span"),r=C("Weak plurality"),a=S(),o=w("p"),c=S(),n=w("p"),p=C("Majority"),O=S(),D=w("p"),this.h()},l(d){e=V(d,"DIV",{class:!0});var I=g(e);for(let k=0;k<b.length;k+=1)b[k].l(I);l=A(I),t=V(I,"P",{class:!0});var T=g(t);i=V(T,"SPAN",{});var j=g(i);r=M(j,"Weak plurality"),j.forEach(_),T.forEach(_),a=A(I),o=V(I,"P",{class:!0}),g(o).forEach(_),c=A(I),n=V(I,"P",{class:!0});var B=g(n);p=M(B,"Majority"),B.forEach(_),O=A(I),D=V(I,"P",{class:!0}),g(D).forEach(_),I.forEach(_),this.h()},h(){m(t,"class","col-head svelte-1jfuj1x"),m(o,"class","col-head svelte-1jfuj1x"),m(n,"class","col-head svelte-1jfuj1x"),m(D,"class","col-head svelte-1jfuj1x"),m(e,"class","legend svelte-1jfuj1x")},m(d,I){q(d,e,I);for(let T=0;T<b.length;T+=1)b[T].m(e,null);u(e,l),u(e,t),u(t,i),u(i,r),u(e,a),u(e,o),u(e,c),u(e,n),u(n,p),u(e,O),u(e,D)},p(d,I){if(I&0){P=qe;let T;for(T=0;T<P.length;T+=1){const j=xl(d,P,T);b[T]?b[T].p(j,I):(b[T]=pt(j),b[T].c(),b[T].m(e,l))}for(;T<b.length;T+=1)b[T].d(1);b.length=P.length}},d(d){d&&_(e),ue(b,d)}}}function ct(s){let e;return{c(){e=w("div"),this.h()},l(l){e=V(l,"DIV",{style:!0}),g(e).forEach(_),this.h()},h(){ke(e,"background-color",s[3].includes(s[10])?gl[s[79]]:xe[s[25].length][s[79]])},m(l,t){q(l,e,t)},p(l,t){t[0]&33555464&&ke(e,"background-color",l[3].includes(l[10])?gl[l[79]]:xe[l[25].length][l[79]])},d(l){l&&_(e)}}}function ft(s){let e,l=(s[25][s[25].length-1]<1?De(s[103],0):s[25][s[25].length-1]>1e3?$e(s[103]):s[103])+"",t,i;return{c(){e=w("p"),t=C(l),i=S(),this.h()},l(r){e=V(r,"P",{class:!0});var a=g(e);t=M(a,l),i=A(a),a.forEach(_),this.h()},h(){m(e,"class","svelte-1jfuj1x")},m(r,a){q(r,e,a),u(e,t),u(e,i)},p(r,a){a[0]&33554432&&l!==(l=(r[25][r[25].length-1]<1?De(r[103],0):r[25][r[25].length-1]>1e3?$e(r[103]):r[103])+"")&&ve(t,l)},d(r){r&&_(e)}}}function ut(s){let e;return{c(){e=w("div"),this.h()},l(l){e=V(l,"DIV",{style:!0}),g(e).forEach(_),this.h()},h(){ke(e,"background-color",xe[ye.length][s[79]])},m(l,t){q(l,e,t)},p:ll,d(l){l&&_(e)}}}function ht(s){let e,l=s[69].replace("_","-")+"",t;return{c(){e=w("p"),t=C(l),this.h()},l(i){e=V(i,"P",{class:!0});var r=g(e);t=M(r,l),r.forEach(_),this.h()},h(){m(e,"class","svelte-1jfuj1x")},m(i,r){q(i,e,r),u(e,t)},p:ll,d(i){i&&_(e)}}}function _t(s){let e;return{c(){e=w("div"),this.h()},l(l){e=V(l,"DIV",{style:!0}),g(e).forEach(_),this.h()},h(){ke(e,"background-color",ml[s[82]]+s[97])},m(l,t){q(l,e,t)},p:ll,d(l){l&&_(e)}}}function pt(s){let e,l,t=_l(s[82])+"",i,r=pl,a=[];for(let o=0;o<r.length;o+=1)a[o]=_t(et(s,r,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=S(),l=w("p"),i=C(t),this.h()},l(o){for(let n=0;n<a.length;n+=1)a[n].l(o);e=A(o),l=V(o,"P",{class:!0});var c=g(l);i=M(c,t),c.forEach(_),this.h()},h(){m(l,"class","row-label svelte-1jfuj1x")},m(o,c){for(let n=0;n<a.length;n+=1)a[n].m(o,c);q(o,e,c),q(o,l,c),u(l,i)},p(o,c){if(c&0){r=pl;let n;for(n=0;n<r.length;n+=1){const p=et(o,r,n);a[n]?a[n].p(p,c):(a[n]=_t(p),a[n].c(),a[n].m(e.parentNode,e))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}},d(o){ue(a,o),o&&_(e),o&&_(l)}}}function dt(s){let e,l,t,i,r,a,o,c,n,p,O,D=["assembly","senate","congress"],P=[];for(let j=0;j<3;j+=1)P[j]=gt(Ql(s,D,j));let b=["assembly_letters","assembly_names","senate_letters","senate_names","congress_letters","congress_names"],d=[];for(let j=0;j<6;j+=1)d[j]=vt(Kl(s,b,j));let I=s[19],T=[];for(let j=0;j<I.length;j+=1)T[j]=jt(Fl(s,I,j));return{c(){e=w("div"),l=w("div"),t=w("select"),i=w("optgroup");for(let j=0;j<3;j+=1)P[j].c();r=w("optgroup");for(let j=0;j<6;j+=1)d[j].c();a=S();for(let j=0;j<T.length;j+=1)T[j].c();this.h()},l(j){e=V(j,"DIV",{class:!0});var B=g(e);l=V(B,"DIV",{class:!0});var k=g(l);t=V(k,"SELECT",{class:!0});var H=g(t);i=V(H,"OPTGROUP",{label:!0});var _e=g(i);for(let G=0;G<3;G+=1)P[G].l(_e);_e.forEach(_),r=V(H,"OPTGROUP",{label:!0});var se=g(r);for(let G=0;G<6;G+=1)d[G].l(se);se.forEach(_),H.forEach(_),k.forEach(_),a=A(B);for(let G=0;G<T.length;G+=1)T[G].l(B);B.forEach(_),this.h()},h(){m(i,"label","Current districts"),m(r,"label","Proposed districts"),m(t,"class","svelte-1jfuj1x"),s[18]===void 0&&Ie(()=>s[48].call(t)),m(l,"class","plan-selector svelte-1jfuj1x"),m(e,"class","svelte-1jfuj1x")},m(j,B){q(j,e,B),u(e,l),u(l,t),u(t,i);for(let k=0;k<3;k+=1)P[k].m(i,null);u(t,r);for(let k=0;k<6;k+=1)d[k].m(r,null);ul(t,s[18]),u(e,a);for(let k=0;k<T.length;k+=1)T[k].m(e,null);n=!0,p||(O=fe(t,"change",s[48]),p=!0)},p(j,B){if(B&0){D=["assembly","senate","congress"];let k;for(k=0;k<3;k+=1){const H=Ql(j,D,k);P[k]?P[k].p(H,B):(P[k]=gt(H),P[k].c(),P[k].m(i,null))}for(;k<3;k+=1)P[k].d(1)}if(B&0){b=["assembly_letters","assembly_names","senate_letters","senate_names","congress_letters","congress_names"];let k;for(k=0;k<6;k+=1){const H=Kl(j,b,k);d[k]?d[k].p(H,B):(d[k]=vt(H),d[k].c(),d[k].m(r,null))}for(;k<6;k+=1)d[k].d(1)}if(B[0]&262144&&ul(t,j[18]),B[0]&76283904|B[1]&16){I=j[19];let k;for(k=0;k<I.length;k+=1){const H=Fl(j,I,k);T[k]?T[k].p(H,B):(T[k]=jt(H),T[k].c(),T[k].m(e,null))}for(;k<T.length;k+=1)T[k].d(1);T.length=I.length}},i(j){n||(Ie(()=>{c&&c.end(1),o=Ye(e,hl,{}),o.start()}),n=!0)},o(j){o&&o.invalidate(),c=Ke(e,hl,{}),n=!1},d(j){j&&_(e),ue(P,j),ue(d,j),ue(T,j),j&&c&&c.end(),p=!1,O()}}}function gt(s){let e,l=Ll(s[69])+"",t,i;return{c(){e=w("option"),t=C(l),this.h()},l(r){e=V(r,"OPTION",{});var a=g(e);t=M(a,l),a.forEach(_),this.h()},h(){e.__value=i=s[69],e.value=e.__value},m(r,a){q(r,e,a),u(e,t)},p:ll,d(r){r&&_(e)}}}function vt(s){let e,l=Ll(s[69])+"",t,i;return{c(){e=w("option"),t=C(l),this.h()},l(r){e=V(r,"OPTION",{});var a=g(e);t=M(a,l),a.forEach(_),this.h()},h(){e.__value=i=s[69],e.value=e.__value},m(r,a){q(r,e,a),u(e,t)},p:ll,d(r){r&&_(e)}}}function mt(s){let e,l,t,i=Ml(s[85])+"",r,a,o,c,n,p,O,D,P,b,d,I,T,j,B,k=$e(s[26][s[85]].income)+(s[23]?"; "+Sl(s[26][s[85]].pop20_total-Ul[s[18]]):"")+"",H,_e,se,G;function oe(){return s[49](s[85])}let Y=qe,K=[];for(let F=0;F<Y.length;F+=1)K[F]=bt(Jl(s,Y,F));return{c(){e=w("div"),l=w("p"),t=w("i"),r=C(i),a=S(),o=w("table"),c=w("tr"),n=w("th"),p=S(),O=w("th"),D=C("CVAP"),P=S(),b=w("th"),d=C("Pop."),I=S();for(let F=0;F<K.length;F+=1)K[F].c();T=S(),j=w("p"),B=C("Income: "),H=C(k),_e=S(),this.h()},l(F){e=V(F,"DIV",{class:!0});var L=g(e);l=V(L,"P",{class:!0});var N=g(l);t=V(N,"I",{});var U=g(t);r=M(U,i),U.forEach(_),N.forEach(_),a=A(L),o=V(L,"TABLE",{class:!0});var z=g(o);c=V(z,"TR",{class:!0});var W=g(c);n=V(W,"TH",{class:!0}),g(n).forEach(_),p=A(W),O=V(W,"TH",{class:!0});var pe=g(O);D=M(pe,"CVAP"),pe.forEach(_),P=A(W),b=V(W,"TH",{class:!0});var Q=g(b);d=M(Q,"Pop."),Q.forEach(_),W.forEach(_),I=A(z);for(let X=0;X<K.length;X+=1)K[X].l(z);z.forEach(_),T=A(L),j=V(L,"P",{class:!0});var ne=g(j);B=M(ne,"Income: "),H=M(ne,k),ne.forEach(_),_e=A(L),L.forEach(_),this.h()},h(){m(l,"class","svelte-1jfuj1x"),m(n,"class","svelte-1jfuj1x"),m(O,"class","svelte-1jfuj1x"),m(b,"class","svelte-1jfuj1x"),m(c,"class","svelte-1jfuj1x"),m(o,"class","svelte-1jfuj1x"),m(j,"class","table-footer svelte-1jfuj1x"),m(e,"class","district-aggregate svelte-1jfuj1x")},m(F,L){q(F,e,L),u(e,l),u(l,t),u(t,r),u(e,a),u(e,o),u(o,c),u(c,n),u(c,p),u(c,O),u(O,D),u(c,P),u(c,b),u(b,d),u(o,I);for(let N=0;N<K.length;N+=1)K[N].m(o,null);u(e,T),u(e,j),u(j,B),u(j,H),u(e,_e),se||(G=fe(l,"click",oe),se=!0)},p(F,L){if(s=F,L[0]&524288&&i!==(i=Ml(s[85])+"")&&ve(r,i),L[0]&67633152){Y=qe;let N;for(N=0;N<Y.length;N+=1){const U=Jl(s,Y,N);K[N]?K[N].p(U,L):(K[N]=bt(U),K[N].c(),K[N].m(o,null))}for(;N<K.length;N+=1)K[N].d(1);K.length=Y.length}L[0]&76283904&&k!==(k=$e(s[26][s[85]].income)+(s[23]?"; "+Sl(s[26][s[85]].pop20_total-Ul[s[18]]):"")+"")&&ve(H,k)},d(F){F&&_(e),ue(K,F),se=!1,G()}}}function bt(s){let e,l,t=_l(s[88])+"",i,r,a,o=De(s[26][s[85]]["cvap19"+s[88]])+"",c,n,p,O=De(s[26][s[85]]["pop20"+s[88]])+"",D,P;return{c(){e=w("tr"),l=w("td"),i=C(t),r=S(),a=w("td"),c=C(o),n=S(),p=w("td"),D=C(O),P=S(),this.h()},l(b){e=V(b,"TR",{class:!0});var d=g(e);l=V(d,"TD",{class:!0});var I=g(l);i=M(I,t),I.forEach(_),r=A(d),a=V(d,"TD",{class:!0});var T=g(a);c=M(T,o),T.forEach(_),n=A(d),p=V(d,"TD",{class:!0});var j=g(p);D=M(j,O),j.forEach(_),P=A(d),d.forEach(_),this.h()},h(){m(l,"class","svelte-1jfuj1x"),m(a,"class","svelte-1jfuj1x"),m(p,"class","svelte-1jfuj1x"),m(e,"class","svelte-1jfuj1x")},m(b,d){q(b,e,d),u(e,l),u(l,i),u(e,r),u(e,a),u(a,c),u(e,n),u(e,p),u(p,D),u(e,P)},p(b,d){d[0]&67633152&&o!==(o=De(b[26][b[85]]["cvap19"+b[88]])+"")&&ve(c,o),d[0]&67633152&&O!==(O=De(b[26][b[85]]["pop20"+b[88]])+"")&&ve(D,O)},d(b){b&&_(e)}}}function jt(s){let e=s[85].split(",")[0].split("_")[0]===s[18].split("_")[0],l,t=e&&mt(s);return{c(){t&&t.c(),l=Te()},l(i){t&&t.l(i),l=Te()},m(i,r){t&&t.m(i,r),q(i,l,r)},p(i,r){r[0]&786432&&(e=i[85].split(",")[0].split("_")[0]===i[18].split("_")[0]),e?t?t.p(i,r):(t=mt(i),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&_(l)}}}function kt(s){let e,l,t,i,r,a,o,c,n,p,O=s[15],D=[];for(let P=0;P<O.length;P+=1)D[P]=Pt(Gl(s,O,P));return{c(){e=w("div");for(let P=0;P<D.length;P+=1)D[P].c();l=S(),t=w("button"),i=w("b"),r=C("[SAVE]"),this.h()},l(P){e=V(P,"DIV",{class:!0});var b=g(e);for(let T=0;T<D.length;T+=1)D[T].l(b);l=A(b),t=V(b,"BUTTON",{style:!0});var d=g(t);i=V(d,"B",{});var I=g(i);r=M(I,"[SAVE]"),I.forEach(_),d.forEach(_),b.forEach(_),this.h()},h(){ke(t,"font-size","13px"),m(e,"class","svelte-1jfuj1x")},m(P,b){q(P,e,b);for(let d=0;d<D.length;d+=1)D[d].m(e,null);u(e,l),u(e,t),u(t,i),u(i,r),c=!0,n||(p=fe(t,"click",s[33]),n=!0)},p(P,b){if(b[0]&32768|b[1]&2){O=P[15];let d;for(d=0;d<O.length;d+=1){const I=Gl(P,O,d);D[d]?D[d].p(I,b):(D[d]=Pt(I),D[d].c(),D[d].m(e,l))}for(;d<D.length;d+=1)D[d].d(1);D.length=O.length}},i(P){c||(Ie(()=>{o&&o.end(1),a=Ye(e,hl,{}),a.start()}),c=!0)},o(P){a&&a.invalidate(),o=Ke(e,hl,{}),c=!1},d(P){P&&_(e),ue(D,P),P&&o&&o.end(),n=!1,p()}}}function Et(s){let e,l,t=_l(s[82])+"",i,r,a=De(s[26][`prop_${s[82]}`])+"",o;return{c(){e=w("p"),l=C("Pct. "),i=C(t),r=C(": "),o=C(a),this.h()},l(c){e=V(c,"P",{class:!0});var n=g(e);l=M(n,"Pct. "),i=M(n,t),r=M(n,": "),o=M(n,a),n.forEach(_),this.h()},h(){m(e,"class","svelte-1jfuj1x")},m(c,n){q(c,e,n),u(e,l),u(e,i),u(e,r),u(e,o)},p(c,n){n[0]&32768&&a!==(a=De(c[26][`prop_${c[82]}`])+"")&&ve(o,a)},d(c){c&&_(e)}}}function Pt(s){let e,l,t,i=(s[80]||"COI"+(s[79]+1))+"",r,a,o,c,n,p,O,D,P=$e(s[26].income)+"",b,d,I,T,j=De(s[26].hhlang)+"",B,k,H,_e,se=De(s[26].benefits)+"",G,oe,Y;function K(){return s[52](s[79])}let F=["asian"],L=[];for(let N=0;N<1;N+=1)L[N]=Et(Wl(s,F,N));return{c(){e=w("div"),l=w("p"),t=w("i"),r=C(i),a=S(),o=w("button"),c=C("\u{1F5D1}"),n=S();for(let N=0;N<1;N+=1)L[N].c();p=S(),O=w("p"),D=C("Income: "),b=C(P),d=S(),I=w("p"),T=C("Asian and LEP: "),B=C(j),k=S(),H=w("p"),_e=C("Pct. gov't benefits: "),G=C(se),this.h()},l(N){e=V(N,"DIV",{class:!0});var U=g(e);l=V(U,"P",{class:!0});var z=g(l);t=V(z,"I",{});var W=g(t);r=M(W,i),W.forEach(_),a=A(z),o=V(z,"BUTTON",{});var pe=g(o);c=M(pe,"\u{1F5D1}"),pe.forEach(_),z.forEach(_),n=A(U);for(let me=0;me<1;me+=1)L[me].l(U);p=A(U),O=V(U,"P",{class:!0});var Q=g(O);D=M(Q,"Income: "),b=M(Q,P),Q.forEach(_),d=A(U),I=V(U,"P",{class:!0});var ne=g(I);T=M(ne,"Asian and LEP: "),B=M(ne,j),ne.forEach(_),k=A(U),H=V(U,"P",{class:!0});var X=g(H);_e=M(X,"Pct. gov't benefits: "),G=M(X,se),X.forEach(_),U.forEach(_),this.h()},h(){m(l,"class","svelte-1jfuj1x"),m(O,"class","svelte-1jfuj1x"),m(I,"class","svelte-1jfuj1x"),m(H,"class","svelte-1jfuj1x"),m(e,"class","svelte-1jfuj1x")},m(N,U){q(N,e,U),u(e,l),u(l,t),u(t,r),u(l,a),u(l,o),u(o,c),u(e,n);for(let z=0;z<1;z+=1)L[z].m(e,null);u(e,p),u(e,O),u(O,D),u(O,b),u(e,d),u(e,I),u(I,T),u(I,B),u(e,k),u(e,H),u(H,_e),u(H,G),oe||(Y=fe(o,"click",K),oe=!0)},p(N,U){if(s=N,U[0]&32768&&i!==(i=(s[80]||"COI"+(s[79]+1))+"")&&ve(r,i),U[0]&32768){F=["asian"];let z;for(z=0;z<1;z+=1){const W=Wl(s,F,z);L[z]?L[z].p(W,U):(L[z]=Et(W),L[z].c(),L[z].m(e,p))}for(;z<1;z+=1)L[z].d(1)}U[0]&32768&&P!==(P=$e(s[26].income)+"")&&ve(b,P),U[0]&32768&&j!==(j=De(s[26].hhlang)+"")&&ve(B,j),U[0]&32768&&se!==(se=De(s[26].benefits)+"")&&ve(G,se)},d(N){N&&_(e),ue(L,N),oe=!1,Y()}}}function wt(s,e){let l,t,i,r,a;function o(){return e[53](e[79])}function c(){return e[54](e[77])}function n(){return e[55](e[77])}return{key:s,first:null,c(){l=Ee("path"),this.h()},l(p){l=Pe(p,"path",{class:!0,d:!0,fill:!0}),g(l).forEach(_),this.h()},h(){m(l,"class","block-group svelte-1jfuj1x"),m(l,"d",t=e[8](e[77])),m(l,"fill",i=e[31](e[77],e[20],e[9],e[11])),Qe(l,"head",e[14][0]===be(e[77])),this.first=l},m(p,O){q(p,l,O),r||(a=[fe(l,"click",o),fe(l,"contextmenu",Nl(c)),fe(l,"mousemove",Nl(n))],r=!0)},p(p,O){e=p,O[0]&258&&t!==(t=e[8](e[77]))&&m(l,"d",t),O[0]&1051138&&i!==(i=e[31](e[77],e[20],e[9],e[11]))&&m(l,"fill",i),O[0]&16386&&Qe(l,"head",e[14][0]===be(e[77]))},d(p){p&&_(l),r=!1,Bl(a)}}}function Vt(s){let e,l,t,i,r=s[15],a=[];for(let o=0;o<r.length;o+=1)a[o]=Tt(ql(s,r,o));return{c(){e=Ee("g");for(let o=0;o<a.length;o+=1)a[o].c()},l(o){e=Pe(o,"g",{});var c=g(e);for(let n=0;n<a.length;n+=1)a[n].l(c);c.forEach(_)},m(o,c){q(o,e,c);for(let n=0;n<a.length;n+=1)a[n].m(e,null);i=!0},p(o,c){if(c[0]&32768){r=o[15];let n;for(n=0;n<r.length;n+=1){const p=ql(o,r,n);a[n]?a[n].p(p,c):(a[n]=Tt(p),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}},i(o){i||(Ie(()=>{t&&t.end(1),l=Ye(e,Le,{}),l.start()}),i=!0)},o(o){l&&l.invalidate(),t=Ke(e,Le,{}),i=!1},d(o){o&&_(e),ue(a,o),o&&t&&t.end()}}}function Tt(s){let e,l;return{c(){e=Ee("path"),this.h()},l(t){e=Pe(t,"path",{class:!0,d:!0}),g(e).forEach(_),this.h()},h(){m(e,"class","mesh-community svelte-1jfuj1x"),m(e,"d",l=s[74])},m(t,i){q(t,e,i)},p(t,i){i[0]&32768&&l!==(l=t[74])&&m(e,"d",l)},d(t){t&&_(e)}}}function Ot(s){let e,l,t,i,r,a;return{c(){e=Ee("g"),l=Ee("path"),this.h()},l(o){e=Pe(o,"g",{});var c=g(e);l=Pe(c,"path",{class:!0,d:!0}),g(l).forEach(_),c.forEach(_),this.h()},h(){m(l,"class","mesh-district svelte-1jfuj1x"),m(l,"d",t=s[7][s[18]]),Qe(l,"showPluralities",s[11])},m(o,c){q(o,e,c),u(e,l),a=!0},p(o,c){(!a||c[0]&262272&&t!==(t=o[7][o[18]]))&&m(l,"d",t),c[0]&2048&&Qe(l,"showPluralities",o[11])},i(o){a||(Ie(()=>{r&&r.end(1),i=Ye(e,Le,{}),i.start()}),a=!0)},o(o){i&&i.invalidate(),r=Ke(e,Le,{}),a=!1},d(o){o&&_(e),o&&r&&r.end()}}}function Dt(s){let e,l,t,i,r,a;return{c(){e=Ee("g"),l=Ee("path"),this.h()},l(o){e=Pe(o,"g",{});var c=g(e);l=Pe(c,"path",{class:!0,d:!0}),g(l).forEach(_),c.forEach(_),this.h()},h(){m(l,"class","mesh-district svelte-1jfuj1x"),m(l,"d",t=s[8](s[27](s[56],s[0])))},m(o,c){q(o,e,c),u(e,l),a=!0},p(o,c){(!a||c[0]&262401&&t!==(t=o[8](o[27](o[56],o[0]))))&&m(l,"d",t)},i(o){a||(Ie(()=>{r&&r.end(1),i=Ye(e,Le,{}),i.start()}),a=!0)},o(o){i&&i.invalidate(),r=Ke(e,Le,{}),a=!1},d(o){o&&_(e),o&&r&&r.end()}}}function It(s){let e,l,t,i,r=s[2],a=[];for(let o=0;o<r.length;o+=1)a[o]=Nt(Rl(s,r,o));return{c(){e=Ee("g");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=Pe(o,"g",{class:!0});var c=g(e);for(let n=0;n<a.length;n+=1)a[n].l(c);c.forEach(_),this.h()},h(){m(e,"class","labels svelte-1jfuj1x")},m(o,c){q(o,e,c);for(let n=0;n<a.length;n+=1)a[n].m(e,null);i=!0},p(o,c){if(c[0]&786436|c[1]&16){r=o[2];let n;for(n=0;n<r.length;n+=1){const p=Rl(o,r,n);a[n]?a[n].p(p,c):(a[n]=Nt(p),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}},i(o){i||(Ie(()=>{t&&t.end(1),l=Ye(e,Le,{}),l.start()}),i=!0)},o(o){l&&l.invalidate(),t=Ke(e,Le,{}),i=!1},d(o){o&&_(e),ue(a,o),o&&t&&t.end()}}}function yt(s){let e,l=s[69][s[18]]+"",t,i,r,a,o;function c(){return s[57](s[69])}return{c(){e=Ee("text"),t=C(l),this.h()},l(n){e=Pe(n,"text",{x:!0,y:!0,class:!0});var p=g(e);t=M(p,l),p.forEach(_),this.h()},h(){m(e,"x",i=s[70]),m(e,"y",r=s[71]),m(e,"class","svelte-1jfuj1x"),Qe(e,"chosen",s[19].includes(`${s[18]},${s[69][s[18]]}`))},m(n,p){q(n,e,p),u(e,t),a||(o=fe(e,"click",c),a=!0)},p(n,p){s=n,p[0]&262148&&l!==(l=s[69][s[18]]+"")&&ve(t,l),p[0]&4&&i!==(i=s[70])&&m(e,"x",i),p[0]&4&&r!==(r=s[71])&&m(e,"y",r),p[0]&786436&&Qe(e,"chosen",s[19].includes(`${s[18]},${s[69][s[18]]}`))},d(n){n&&_(e),a=!1,o()}}}function Nt(s){let e,l=s[18]in s[69]&&yt(s);return{c(){l&&l.c(),e=Te()},l(t){l&&l.l(t),e=Te()},m(t,i){l&&l.m(t,i),q(t,e,i)},p(t,i){t[18]in t[69]?l?l.p(t,i):(l=yt(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&_(e)}}}function Bt(s){let e,l=s[66]+"",t,i,r;function a(){return s[60](s[66])}return{c(){e=w("button"),t=C(l),this.h()},l(o){e=V(o,"BUTTON",{class:!0});var c=g(e);t=M(c,l),c.forEach(_),this.h()},h(){m(e,"class","svelte-1jfuj1x")},m(o,c){q(o,e,c),u(e,t),i||(r=fe(e,"click",a),i=!0)},p(o,c){s=o},d(o){o&&_(e),i=!1,r()}}}function ls(s){let e,l,t,i,r,a,o=s[3].includes(s[10]),c,n=s[3].includes(s[10]),p,O,D,P,b,d,I,T,j,B,k=(s[23]?"Original":"Modify")+"",H,_e,se,G,oe,Y,K,F,L,N,U,z,W,pe,Q=[],ne=new Map,X,me,He,Ne,Ge,Be,Ce,Me,Z,de,Ue,ze,tl,we,el,sl,Se=s[3],ae=[];for(let f=0;f<Se.length;f+=1)ae[f]=ot(st(s,Se,f));let Ae=s[4],ie=[];for(let f=0;f<Ae.length;f+=1)ie[f]=nt(tt(s,Ae,f));let re=o&&at(s),ce=n&&rt(s);function ol(f,E){return(O==null||E[0]&3080)&&(O=!!(f[3].includes(f[10])&&f[11])),O?es:((D==null||E[0]&1048640)&&(D=!!f[6].includes(f[20])),D?xt:$t)}let We=ol(s,[-1,-1,-1,-1]),je=We(s),$=s[21]&&dt(s),x=s[12]&&kt(s),Fe=s[1];const nl=f=>be(f[77]);for(let f=0;f<Fe.length;f+=1){let E=Hl(s,Fe,f),v=nl(E);ne.set(v,Q[f]=wt(v,E))}let ee=s[12]&&Vt(s),le=s[21]&&!s[23]&&Ot(s),te=s[23]&&Dt(s),h=(s[21]||s[23])&&It(s),R=Object.keys(s[34]),y=[];for(let f=0;f<R.length;f+=1)y[f]=Bt(zl(s,R,f));return{c(){e=w("div"),l=w("div"),t=w("select"),i=w("optgroup");for(let f=0;f<ae.length;f+=1)ae[f].c();r=w("optgroup");for(let f=0;f<ie.length;f+=1)ie[f].c();a=S(),re&&re.c(),c=S(),ce&&ce.c(),p=S(),je.c(),P=S(),b=w("div"),d=w("h3"),I=w("button"),T=C("Plans \u2193"),j=S(),B=w("button"),H=C(k),_e=S(),$&&$.c(),se=S(),G=w("div"),oe=w("h3"),Y=w("button"),K=C("Communities \u2193"),F=S(),L=w("button"),N=C("+"),U=S(),x&&x.c(),z=S(),W=Ee("svg"),pe=Ee("g");for(let f=0;f<Q.length;f+=1)Q[f].c();X=Ee("g"),me=Ee("path"),ee&&ee.c(),Ne=Te(),le&&le.c(),Ge=Te(),te&&te.c(),Be=Te(),h&&h.c(),Me=S(),Z=w("div"),de=w("h3"),Ue=C("Views"),ze=S();for(let f=0;f<y.length;f+=1)y[f].c();this.h()},l(f){e=V(f,"DIV",{class:!0,style:!0});var E=g(e);l=V(E,"DIV",{class:!0});var v=g(l);t=V(v,"SELECT",{style:!0,class:!0});var J=g(t);i=V(J,"OPTGROUP",{label:!0});var Ve=g(i);for(let ge=0;ge<ae.length;ge+=1)ae[ge].l(Ve);Ve.forEach(_),r=V(J,"OPTGROUP",{label:!0});var al=g(r);for(let ge=0;ge<ie.length;ge+=1)ie[ge].l(al);al.forEach(_),J.forEach(_),a=A(v),re&&re.l(v),c=A(v),ce&&ce.l(v),p=A(v),je.l(v),P=A(v),b=V(v,"DIV",{class:!0});var Re=g(b);d=V(Re,"H3",{class:!0});var il=g(d);I=V(il,"BUTTON",{});var bl=g(I);T=M(bl,"Plans \u2193"),bl.forEach(_),j=A(il),B=V(il,"BUTTON",{class:!0});var jl=g(B);H=M(jl,k),jl.forEach(_),il.forEach(_),_e=A(Re),$&&$.l(Re),Re.forEach(_),se=A(v),G=V(v,"DIV",{class:!0});var rl=g(G);oe=V(rl,"H3",{class:!0});var cl=g(oe);Y=V(cl,"BUTTON",{});var kl=g(Y);K=M(kl,"Communities \u2193"),kl.forEach(_),F=A(cl),L=V(cl,"BUTTON",{});var El=g(L);N=M(El,"+"),El.forEach(_),cl.forEach(_),U=A(rl),x&&x.l(rl),rl.forEach(_),v.forEach(_),z=A(E),W=Pe(E,"svg",{viewBox:!0,style:!0,class:!0});var vl=g(W);pe=Pe(vl,"g",{});var Pl=g(pe);for(let ge=0;ge<Q.length;ge+=1)Q[ge].l(Pl);Pl.forEach(_),X=Pe(vl,"g",{class:!0});var Je=g(X);me=Pe(Je,"path",{class:!0,d:!0}),g(me).forEach(_),ee&&ee.l(Je),Ne=Te(),le&&le.l(Je),Ge=Te(),te&&te.l(Je),Be=Te(),h&&h.l(Je),Je.forEach(_),vl.forEach(_),Me=A(E),Z=V(E,"DIV",{class:!0});var fl=g(Z);de=V(fl,"H3",{class:!0});var wl=g(de);Ue=M(wl,"Views"),wl.forEach(_),ze=A(fl);for(let ge=0;ge<y.length;ge+=1)y[ge].l(fl);fl.forEach(_),E.forEach(_),this.h()},h(){m(i,"label","Redistricting data"),m(r,"label","American Community Survey data"),ke(t,"width",s[4].includes(s[10])?"auto":"calc(var(--control-width) - 20px)"),m(t,"class","svelte-1jfuj1x"),s[10]===void 0&&Ie(()=>s[42].call(t)),m(B,"class","subbutton svelte-1jfuj1x"),m(d,"class","svelte-1jfuj1x"),m(b,"class","stats svelte-1jfuj1x"),m(oe,"class","svelte-1jfuj1x"),m(G,"class","stats svelte-1jfuj1x"),m(l,"class","controls svelte-1jfuj1x"),m(me,"class","mesh-bg svelte-1jfuj1x"),m(me,"d",He=s[5].includes(s[20])?s[29]:s[28]),m(X,"class","meshes svelte-1jfuj1x"),m(W,"viewBox",Ce=s[16].join(" ")),ke(W,"--font-size",s[24]+"px"),m(W,"class","svelte-1jfuj1x"),m(de,"class","svelte-1jfuj1x"),m(Z,"class","views svelte-1jfuj1x"),m(e,"class","container svelte-1jfuj1x"),ke(e,"cursor",s[22]?"crosshair":"auto"),Ie(()=>s[61].call(e))},m(f,E){q(f,e,E),u(e,l),u(l,t),u(t,i);for(let v=0;v<ae.length;v+=1)ae[v].m(i,null);u(t,r);for(let v=0;v<ie.length;v+=1)ie[v].m(r,null);ul(t,s[10]),u(l,a),re&&re.m(l,null),u(l,c),ce&&ce.m(l,null),u(l,p),je.m(l,null),u(l,P),u(l,b),u(b,d),u(d,I),u(I,T),u(d,j),u(d,B),u(B,H),u(b,_e),$&&$.m(b,null),u(l,se),u(l,G),u(G,oe),u(oe,Y),u(Y,K),u(oe,F),u(oe,L),u(L,N),u(G,U),x&&x.m(G,null),u(e,z),u(e,W),u(W,pe);for(let v=0;v<Q.length;v+=1)Q[v].m(pe,null);u(W,X),u(X,me),ee&&ee.m(X,null),u(X,Ne),le&&le.m(X,null),u(X,Ge),te&&te.m(X,null),u(X,Be),h&&h.m(X,null),u(e,Me),u(e,Z),u(Z,de),u(de,Ue),u(Z,ze);for(let v=0;v<y.length;v+=1)y[v].m(Z,null);tl=Gt(e,s[61].bind(e)),we=!0,el||(sl=[fe(t,"change",s[42]),fe(I,"click",s[46]),fe(B,"click",s[47]),fe(Y,"click",s[50]),fe(L,"click",s[51]),fe(W,"mousedown",s[58]),fe(W,"mouseup",s[59])],el=!0)},p(f,E){if(E[0]&8){Se=f[3];let v;for(v=0;v<Se.length;v+=1){const J=st(f,Se,v);ae[v]?ae[v].p(J,E):(ae[v]=ot(J),ae[v].c(),ae[v].m(i,null))}for(;v<ae.length;v+=1)ae[v].d(1);ae.length=Se.length}if(E[0]&16){Ae=f[4];let v;for(v=0;v<Ae.length;v+=1){const J=tt(f,Ae,v);ie[v]?ie[v].p(J,E):(ie[v]=nt(J),ie[v].c(),ie[v].m(r,null))}for(;v<ie.length;v+=1)ie[v].d(1);ie.length=Ae.length}if((!we||E[0]&1040)&&ke(t,"width",f[4].includes(f[10])?"auto":"calc(var(--control-width) - 20px)"),E[0]&1048&&ul(t,f[10]),E[0]&1032&&(o=f[3].includes(f[10])),o?re?re.p(f,E):(re=at(f),re.c(),re.m(l,c)):re&&(re.d(1),re=null),E[0]&1032&&(n=f[3].includes(f[10])),n?ce?ce.p(f,E):(ce=rt(f),ce.c(),ce.m(l,p)):ce&&(ce.d(1),ce=null),We===(We=ol(f,E))&&je?je.p(f,E):(je.d(1),je=We(f),je&&(je.c(),je.m(l,P))),(!we||E[0]&8388608)&&k!==(k=(f[23]?"Original":"Modify")+"")&&ve(H,k),f[21]?$?($.p(f,E),E[0]&2097152&&he($,1)):($=dt(f),$.c(),he($,1),$.m(b,null)):$&&(Ze(),Oe($,1,1,()=>{$=null}),Xe()),f[12]?x?(x.p(f,E),E[0]&4096&&he(x,1)):(x=kt(f),x.c(),he(x,1),x.m(G,null)):x&&(Ze(),Oe(x,1,1,()=>{x=null}),Xe()),E[0]&1087400706|E[1]&1&&(Fe=f[1],Q=Wt(Q,E,nl,1,f,Fe,ne,pe,Xt,wt,null,Hl)),(!we||E[0]&1048608&&He!==(He=f[5].includes(f[20])?f[29]:f[28]))&&m(me,"d",He),f[12]?ee?(ee.p(f,E),E[0]&4096&&he(ee,1)):(ee=Vt(f),ee.c(),he(ee,1),ee.m(X,Ne)):ee&&(Ze(),Oe(ee,1,1,()=>{ee=null}),Xe()),f[21]&&!f[23]?le?(le.p(f,E),E[0]&10485760&&he(le,1)):(le=Ot(f),le.c(),he(le,1),le.m(X,Ge)):le&&(Ze(),Oe(le,1,1,()=>{le=null}),Xe()),f[23]?te?(te.p(f,E),E[0]&8388608&&he(te,1)):(te=Dt(f),te.c(),he(te,1),te.m(X,Be)):te&&(Ze(),Oe(te,1,1,()=>{te=null}),Xe()),f[21]||f[23]?h?(h.p(f,E),E[0]&10485760&&he(h,1)):(h=It(f),h.c(),he(h,1),h.m(X,null)):h&&(Ze(),Oe(h,1,1,()=>{h=null}),Xe()),(!we||E[0]&65536&&Ce!==(Ce=f[16].join(" ")))&&m(W,"viewBox",Ce),(!we||E[0]&16777216)&&ke(W,"--font-size",f[24]+"px"),E[0]&65536|E[1]&8){R=Object.keys(f[34]);let v;for(v=0;v<R.length;v+=1){const J=zl(f,R,v);y[v]?y[v].p(J,E):(y[v]=Bt(J),y[v].c(),y[v].m(Z,null))}for(;v<y.length;v+=1)y[v].d(1);y.length=R.length}(!we||E[0]&4194304)&&ke(e,"cursor",f[22]?"crosshair":"auto")},i(f){we||(he($),he(x),he(ee),he(le),he(te),he(h),we=!0)},o(f){Oe($),Oe(x),Oe(ee),Oe(le),Oe(te),Oe(h),we=!1},d(f){f&&_(e),ue(ae,f),ue(ie,f),re&&re.d(),ce&&ce.d(),je.d(),$&&$.d(),x&&x.d();for(let E=0;E<Q.length;E+=1)Q[E].d();ee&&ee.d(),le&&le.d(),te&&te.d(),h&&h.d(),ue(y,f),tl(),el=!1,Bl(sl)}}}async function ts(s){const l=await(await s("/points.topojson")).json();return Il(l,l.objects.layer).features}async function is({fetch:s}){const l=await(await s("/output.topojson")).json(),t=Yt(l.objects.census),i=Il(l,t).features,r=["cvap","pop"],a=[...i.reduce((O,D)=>{const P=Object.keys(D.properties).filter(b=>[...r,"GEOID","senate","assembly","congress"].every(d=>!b.includes(d))&&b===b.toLowerCase()).map(b=>b.split("_")[0]);return new Set([...O,...P])},[])],o=i.reduce((O,D,P)=>(O[D.properties.GEOID]=P,O),{}),c=Ut(),n={},p=O=>Object.values(O.properties)[0];return Object.keys(l.objects).forEach(O=>{O!=="census"&&(n[O]=c(yl(l,l.objects[O],(D,P)=>p(D)!==p(P))))}),{props:{topoData:l,obj:t,data:i,neighbors:zt(t.geometries),dynamicVars:r,staticVars:a,idToIndex:o,points:await ts(s),path:c,plansMeshes:n,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}function ss(s,e,l){let t,i,r,a,{topoData:o,obj:c,neighbors:n,data:p,points:O,dynamicVars:D,staticVars:P,tractVars:b,pluralityVars:d,plansMeshes:I,path:T,idToIndex:j}=e;const B=h=>yl(o,c,h),k=T(B((h,R)=>be(h)!==be(R))),H=T(B((h,R)=>be(h).substring(0,11)!==be(R).substring(0,11))),_e=h=>p[h].properties[Z];let se;function G(h){const R=_e(h),y=new Set(n[h].map(_e).filter(f=>f!==R));if(y.size===1){const f=y.values().next().value;l(0,c.geometries[h].properties[Z]=f,c),l(0,c),se=f}else y.has(se)&&(l(0,c.geometries[h].properties[Z]=se,c),l(0,c))}let oe="present",Y="pop";const K={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let F=!1;function L({properties:h}){if(h.ALAND===0)return"#fff";const R=h[`${t}_total`];if(d.includes(t)){const y=E=>h[`${t}_${E}`];if(y(ye[0])===null)return"#ddd";const f=[...ye].sort((E,v)=>y(v)-y(E));return xe[ye.length][ye.indexOf(f[0])]}else if(P.includes(t)){if(!Al(i(h)))return"#ddd";if(R<=10)return"#fff";for(let y=1;y<r.length;y++)if(i(h)<r[y])return xe[r.length][y];return xe[r.length][r.length-1]}else{if(R<=10)return"#fff";const y=f=>h[`${t}_${f}`]/h[`${t}_total`];if(F){const f=qe.filter(J=>y(J)>.5)[0];if(f!==void 0)return ml[f]+pl[R<130?0:R<200?1:2];const E=[...qe].sort((J,Ve)=>y(Ve)-y(J)),v=y(E[0])-y(E[1]);return ml[E[0]]+pl[v<.093?0:1]}else{const f=K[Y];for(let E=1;E<f.length;E++)if(y("asian")<f[E])return gl[E-1];return gl[f.length-1]}}}let N,U,z,W,pe,Q=[],ne=[];function X(h){let R;typeof h[0]=="string"?R=h.map(J=>p[j[J]].properties):R=h.map(J=>J.properties);const y=(J,Ve)=>R.reduce((al,Re)=>al+(Re[J]||0)*(Ve&&Re[Ve]||1),0),f=J=>y(J,"pop20_total")/y("pop20_total"),E=(J,Ve)=>y(`${J}_${Ve}`)/y(`${J}_total`),v={income:f("income"),hhlang:E("hhlang","asian"),benefits:E("families","benefits"),pop20_total:y("pop20_total")};return["pop20","cvap19"].forEach(J=>qe.forEach(Ve=>v[J+Ve]=E(J,Ve))),v}const me=h=>l(15,ne=ne.filter((R,y)=>y!==h));async function He(){await fetch("/data.json",{method:"POST",body:JSON.stringify(ne)})}let Ne;async function Ge(){const h=await fetch("/data.json");l(15,ne=(await h.json()).map(R=>Dl(Ol({},R),{stats:X(R.ids)})))}const Be={Manhattan:[80,430,500,440],Brooklyn:[20,550,600,600],Full:[0,0,975,1420]};let Ce=Be.Manhattan,Me,Z="assembly",de=[],Ue={};function ze(h){de.includes(h)?l(19,de=de.filter(R=>R!==h)):l(19,de=[...de,h])}const tl=[[]];function we(){Y=Cl(this),l(10,Y),l(4,P),l(3,D)}function el(){oe=this.__value,l(9,oe)}const sl=()=>l(11,F=!F),Se=()=>{l(21,N=!N),l(12,U=!1)},ae=()=>l(23,pe=!pe);function Ae(){Z=Cl(this),l(18,Z)}const ie=h=>ze(h),re=()=>{l(12,U=!U),l(21,N=!1)},ce=()=>l(22,z=!0),ol=h=>me(h),We=h=>pe&&G(h),je=h=>console.log(h.properties),$=h=>z&&W&&(Q.length===0?l(14,Q=[be(h)]):Q.push(be(h))),x=(h,R)=>h.properties[Z]!==R.properties[Z]||be(h)===be(R),Fe=h=>ze(`${Z},${h[Z]}`),nl=()=>l(13,W=!0),ee=()=>l(13,W=l(22,z=!1)),le=h=>l(16,Ce=Be[h]);function te(){Me=this.clientWidth,l(17,Me)}return s.$$set=h=>{"topoData"in h&&l(36,o=h.topoData),"obj"in h&&l(0,c=h.obj),"neighbors"in h&&l(37,n=h.neighbors),"data"in h&&l(1,p=h.data),"points"in h&&l(2,O=h.points),"dynamicVars"in h&&l(3,D=h.dynamicVars),"staticVars"in h&&l(4,P=h.staticVars),"tractVars"in h&&l(5,b=h.tractVars),"pluralityVars"in h&&l(6,d=h.pluralityVars),"plansMeshes"in h&&l(7,I=h.plansMeshes),"path"in h&&l(8,T=h.path),"idToIndex"in h&&l(38,j=h.idToIndex)},s.$$.update=()=>{if(s.$$.dirty[0]&1552&&l(20,t=P.includes(Y)?Y:Y+(oe==="past"?10:Y==="cvap"?19:20)),s.$$.dirty[0]&1048576&&l(41,i={income:h=>h[t],hhlang:h=>h[`${t}_asian`]/h[`${t}_total`],graduates:h=>(h[`${t}_hs_grad`]+h[`${t}_ba_above`])/h[`${t}_total`],families:h=>h[`${t}_benefits`]/h[`${t}_total`],workers:h=>h[`${t}_publictransport`]/h[`${t}_total`]}[t]),s.$$.dirty[0]&1051674|s.$$.dirty[1]&1280&&l(25,r=D.includes(Y)&&!F?K[Y]:K[t]||!P.includes(t)||t==="asiaentry"||l(39,K[t]=Ft(p.map(h=>i(h.properties)).filter(Al),6),K)),s.$$.dirty[0]&57602&&!W&&Q.length>0){if(Q[0]===Q[Q.length-1]){const h=new Set(Q),R=Jt(B((f,E)=>Zt(h.has(be(f)),h.has(be(E)))).coordinates.flat()),y=p.map(f=>[Kt(Qt(f.geometry.coordinates[0]),R),be(f)]).filter(f=>f[0]).map(f=>f[1]);l(15,ne=[...ne,{outline:T({type:"LineString",coordinates:R}),ids:y,stats:X(y)}])}l(14,Q=[])}if(s.$$.dirty[0]&4096|s.$$.dirty[1]&512&&U&&!Ne&&(Ge(),l(40,Ne=!0)),s.$$.dirty[0]&458752&&l(24,a=(Z.endsWith("_names")?13:16)/((Me-410)/Ce[2])),s.$$.dirty[0]&786433)for(let h=0;h<de.length;h++){const[R,y]=de[h].split(",");R===Z&&l(26,Ue[de[h]]=X(c.geometries.filter(({properties:f})=>y===""+f[Z])),Ue)}},[c,p,O,D,P,b,d,I,T,oe,Y,F,U,W,Q,ne,Ce,Me,Z,de,t,N,z,pe,a,r,Ue,B,k,H,G,L,me,He,Be,ze,o,n,j,K,Ne,i,we,el,tl,sl,Se,ae,Ae,ie,re,ce,ol,We,je,$,x,Fe,nl,ee,le,te]}class rs extends Rt{constructor(e){super();qt(this,e,ss,ls,Ht,{topoData:36,obj:0,neighbors:37,data:1,points:2,dynamicVars:3,staticVars:4,tractVars:5,pluralityVars:6,plansMeshes:7,path:8,idToIndex:38},null,[-1,-1,-1,-1])}}export{rs as default,is as load};
