var Pt=Object.defineProperty,Dt=Object.defineProperties;var Vt=Object.getOwnPropertyDescriptors;var gl=Object.getOwnPropertySymbols;var Mt=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable;var dl=(t,e,l)=>e in t?Pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,pl=(t,e)=>{for(var l in e||(e={}))Mt.call(e,l)&&dl(t,l,e[l]);if(gl)for(var l of gl(e))Tt.call(e,l)&&dl(t,l,e[l]);return t},vl=(t,e)=>Dt(t,Vt(e));import{S as ml,i as bl,s as kl,J as Ve,K as Me,a as E,d as u,b as j,L as ye,f as q,M as de,N as El,O as hl,P as Ae,Q as Fe,R as He,T as Je,U as pe,H as h,l as Ce,t as z,g as U,h as ke,V as Te,W as jl,X as It,x as _e,r as Ke,u as Ie,w as Qe,Y as Ot,Z as wl,_ as Ct,$ as fl,a0 as Bt,e as D,c as V,k as B,n as L,a1 as tl,I as sl,j as Lt,m as St,o as Nt,a2 as At,v as zt,a3 as Ut,a4 as yt,a5 as Ht,a6 as Rt,a7 as nl,a8 as Pl}from"../chunks/vendor-b1986be3.js";import{b as Ze}from"../chunks/paths-28a87002.js";import{i as Be,u as Wt,D as ol,c as xe,p as Dl,a as Pe,m as Xe,d as Vl,b as Ml,x as qt,e as Gt}from"../chunks/utils-eca50613.js";const ul={black:"#9fd400",hispanic:"#ffaa00",asian:"#ff0000",white:"#73B2FF"},al=["44","99","ee"],ze=["asian","black","hispanic","white"],Re=["1990_earlier","1990_1999","2000_2009","2010_later"],il={hhlang:"Proportion of households that speak an Asian language and are LEP",income:"Median household income",graduates:"Proportion of people who graduated >= high school",families:"Proportion of families who receive gov't benefits",asiaentry:"Dominant entry period for Asian families",workers:"Proportion of workers who take public transportation",cvap:"Citizen voting age population by race",pop:"Population by race"},rl=["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26"],Ye=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],cl={assembly_letters:134675,assembly_names:134626,senate_letters:320655,senate_names:321190,congress_letters:776971,congress_names:776971};function Tl(t,e,l){const s=t.slice();return s[33]=e[l].properties,s[34]=e[l].geometry.coordinates[0],s[35]=e[l].geometry.coordinates[1],s}function Il(t,e,l){const s=t.slice();return s[38]=e[l].outline,s}function Ol(t,e,l){const s=t.slice();return s[41]=e[l],s[43]=l,s}function Cl(t,e){let l,s,i,r,o;function n(){return e[28](e[43])}function c(){return e[29](e[41])}function a(){return e[30](e[41])}return{key:t,first:null,c(){l=Ve("path"),this.h()},l(_){l=Me(_,"path",{class:!0,d:!0,fill:!0}),E(l).forEach(u),this.h()},h(){j(l,"class","block-group svelte-1h46plc"),j(l,"d",s=e[4](e[41])),j(l,"fill",i=e[5](e[41],e[9],e[10],e[8])),ye(l,"head",e[2][0]===Be(e[41])),this.first=l},m(_,w){q(_,l,w),r||(o=[de(l,"click",n),de(l,"contextmenu",El(c)),de(l,"mousemove",El(a))],r=!0)},p(_,w){e=_,w[0]&24&&s!==(s=e[4](e[41]))&&j(l,"d",s),w[0]&1832&&i!==(i=e[5](e[41],e[9],e[10],e[8]))&&j(l,"fill",i),w[0]&12&&ye(l,"head",e[2][0]===Be(e[41]))},d(_){_&&u(l),r=!1,hl(o)}}}function Bl(t){let e,l,s,i,r=t[13],o=[];for(let n=0;n<r.length;n+=1)o[n]=Ll(Il(t,r,n));return{c(){e=Ve("g");for(let n=0;n<o.length;n+=1)o[n].c()},l(n){e=Me(n,"g",{});var c=E(e);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u)},m(n,c){q(n,e,c);for(let a=0;a<o.length;a+=1)o[a].m(e,null);i=!0},p(n,c){if(c[0]&8192){r=n[13];let a;for(a=0;a<r.length;a+=1){const _=Il(n,r,a);o[a]?o[a].p(_,c):(o[a]=Ll(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i(n){i||(Ae(()=>{s&&s.end(1),l=Fe(e,He,{}),l.start()}),i=!0)},o(n){l&&l.invalidate(),s=Je(e,He,{}),i=!1},d(n){n&&u(e),pe(o,n),n&&s&&s.end()}}}function Ll(t){let e,l;return{c(){e=Ve("path"),this.h()},l(s){e=Me(s,"path",{class:!0,d:!0}),E(e).forEach(u),this.h()},h(){j(e,"class","mesh-community svelte-1h46plc"),j(e,"d",l=t[38])},m(s,i){q(s,e,i)},p(s,i){i[0]&8192&&l!==(l=s[38])&&j(e,"d",l)},d(s){s&&u(e)}}}function Sl(t){let e,l,s,i,r,o;return{c(){e=Ve("g"),l=Ve("path"),this.h()},l(n){e=Me(n,"g",{});var c=E(e);l=Me(c,"path",{class:!0,d:!0}),E(l).forEach(u),c.forEach(u),this.h()},h(){j(l,"class","mesh-district svelte-1h46plc"),j(l,"d",s=(t[15].startsWith("congress")?t[23]||{}:t[24])[t[15]]),ye(l,"showPluralities",t[8])},m(n,c){q(n,e,c),h(e,l),o=!0},p(n,c){(!o||c[0]&25198592&&s!==(s=(n[15].startsWith("congress")?n[23]||{}:n[24])[n[15]]))&&j(l,"d",s),c[0]&256&&ye(l,"showPluralities",n[8])},i(n){o||(Ae(()=>{r&&r.end(1),i=Fe(e,He,{}),i.start()}),o=!0)},o(n){i&&i.invalidate(),r=Je(e,He,{}),o=!1},d(n){n&&u(e),n&&r&&r.end()}}}function Nl(t){let e,l,s,i,r,o;return{c(){e=Ve("g"),l=Ve("path"),this.h()},l(n){e=Me(n,"g",{});var c=E(e);l=Me(c,"path",{class:!0,d:!0}),E(l).forEach(u),c.forEach(u),this.h()},h(){j(l,"class","mesh-district svelte-1h46plc"),j(l,"d",s=t[4](t[19](t[31],t[21])))},m(n,c){q(n,e,c),h(e,l),o=!0},p(n,c){(!o||c[0]&2654224&&s!==(s=n[4](n[19](n[31],n[21]))))&&j(l,"d",s)},i(n){o||(Ae(()=>{r&&r.end(1),i=Fe(e,He,{}),i.start()}),o=!0)},o(n){i&&i.invalidate(),r=Je(e,He,{}),o=!1},d(n){n&&u(e),n&&r&&r.end()}}}function Al(t){let e,l,s,i,r=t[16],o=[];for(let n=0;n<r.length;n+=1)o[n]=Ul(Tl(t,r,n));return{c(){e=Ve("g");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=Me(n,"g",{class:!0});var c=E(e);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u),this.h()},h(){j(e,"class","labels svelte-1h46plc")},m(n,c){q(n,e,c);for(let a=0;a<o.length;a+=1)o[a].m(e,null);i=!0},p(n,c){if(c[0]&5341184){r=n[16];let a;for(a=0;a<r.length;a+=1){const _=Tl(n,r,a);o[a]?o[a].p(_,c):(o[a]=Ul(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i(n){i||(Ae(()=>{s&&s.end(1),l=Fe(e,He,{}),l.start()}),i=!0)},o(n){l&&l.invalidate(),s=Je(e,He,{}),i=!1},d(n){n&&u(e),pe(o,n),n&&s&&s.end()}}}function zl(t){let e,l=t[33][t[15]]+"",s,i,r,o,n;function c(){return t[32](t[33])}return{c(){e=Ve("text"),s=z(l),this.h()},l(a){e=Me(a,"text",{x:!0,y:!0,class:!0});var _=E(e);s=U(_,l),_.forEach(u),this.h()},h(){j(e,"x",i=t[34]),j(e,"y",r=t[35]),j(e,"class","svelte-1h46plc"),ye(e,"chosen",t[20].includes(`${t[15]},${t[33][t[15]]}`))},m(a,_){q(a,e,_),h(e,s),o||(n=de(e,"click",c),o=!0)},p(a,_){t=a,_[0]&98304&&l!==(l=t[33][t[15]]+"")&&ke(s,l),_[0]&65536&&i!==(i=t[34])&&j(e,"x",i),_[0]&65536&&r!==(r=t[35])&&j(e,"y",r),_[0]&1146880&&ye(e,"chosen",t[20].includes(`${t[15]},${t[33][t[15]]}`))},d(a){a&&u(e),o=!1,n()}}}function Ul(t){let e,l=t[15]in t[33]&&zl(t);return{c(){l&&l.c(),e=Ce()},l(s){l&&l.l(s),e=Ce()},m(s,i){l&&l.m(s,i),q(s,e,i)},p(s,i){s[15]in s[33]?l?l.p(s,i):(l=zl(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&u(e)}}}function Ft(t){let e,l,s=[],i=new Map,r,o,n,c,a,_,w,P,b,f,g=t[3];const v=A=>Be(A[41]);for(let A=0;A<g.length;A+=1){let S=Ol(t,g,A),Q=v(S);i.set(Q,s[A]=Cl(Q,S))}let k=t[12]&&Bl(t),M=t[14]&&!t[6]&&Sl(t),I=t[6]&&Nl(t),C=(t[14]||t[6])&&Al(t);return{c(){e=Ve("svg"),l=Ve("g");for(let A=0;A<s.length;A+=1)s[A].c();r=Ve("g"),o=Ve("path"),k&&k.c(),c=Ce(),M&&M.c(),a=Ce(),I&&I.c(),_=Ce(),C&&C.c(),this.h()},l(A){e=Me(A,"svg",{viewBox:!0,style:!0,class:!0});var S=E(e);l=Me(S,"g",{});var Q=E(l);for(let se=0;se<s.length;se+=1)s[se].l(Q);Q.forEach(u),r=Me(S,"g",{class:!0});var Y=E(r);o=Me(Y,"path",{class:!0,d:!0}),E(o).forEach(u),k&&k.l(Y),c=Ce(),M&&M.l(Y),a=Ce(),I&&I.l(Y),_=Ce(),C&&C.l(Y),Y.forEach(u),S.forEach(u),this.h()},h(){j(o,"class","mesh-bg svelte-1h46plc"),j(o,"d",n=t[11].includes(t[9])?t[17]:t[18]),j(r,"class","meshes svelte-1h46plc"),j(e,"viewBox",w=t[0].join(" ")),Te(e,"--font-size",(t[1]||11)+"px"),j(e,"class","svelte-1h46plc")},m(A,S){q(A,e,S),h(e,l);for(let Q=0;Q<s.length;Q+=1)s[Q].m(l,null);h(e,r),h(r,o),k&&k.m(r,null),h(r,c),M&&M.m(r,null),h(r,a),I&&I.m(r,null),h(r,_),C&&C.m(r,null),P=!0,b||(f=[de(e,"mousedown",function(){jl(t[25])&&t[25].apply(this,arguments)}),de(e,"mouseup",function(){jl(t[26])&&t[26].apply(this,arguments)})],b=!0)},p(A,S){t=A,S[0]&134219772&&(g=t[3],s=It(s,S,v,1,t,g,i,l,Ot,Cl,null,Ol)),(!P||S[0]&395776&&n!==(n=t[11].includes(t[9])?t[17]:t[18]))&&j(o,"d",n),t[12]?k?(k.p(t,S),S[0]&4096&&_e(k,1)):(k=Bl(t),k.c(),_e(k,1),k.m(r,c)):k&&(Ke(),Ie(k,1,1,()=>{k=null}),Qe()),t[14]&&!t[6]?M?(M.p(t,S),S[0]&16448&&_e(M,1)):(M=Sl(t),M.c(),_e(M,1),M.m(r,a)):M&&(Ke(),Ie(M,1,1,()=>{M=null}),Qe()),t[6]?I?(I.p(t,S),S[0]&64&&_e(I,1)):(I=Nl(t),I.c(),_e(I,1),I.m(r,_)):I&&(Ke(),Ie(I,1,1,()=>{I=null}),Qe()),t[14]||t[6]?C?(C.p(t,S),S[0]&16448&&_e(C,1)):(C=Al(t),C.c(),_e(C,1),C.m(r,null)):C&&(Ke(),Ie(C,1,1,()=>{C=null}),Qe()),(!P||S[0]&1&&w!==(w=t[0].join(" ")))&&j(e,"viewBox",w),(!P||S[0]&2)&&Te(e,"--font-size",(t[1]||11)+"px")},i(A){P||(_e(k),_e(M),_e(I),_e(C),P=!0)},o(A){Ie(k),Ie(M),Ie(I),Ie(C),P=!1},d(A){A&&u(e);for(let S=0;S<s.length;S+=1)s[S].d();k&&k.d(),M&&M.d(),I&&I.d(),C&&C.d(),b=!1,hl(f)}}}function Jt(t,e,l){let{viewBox:s,labelSize:i,draggedBgs:r,data:o,path:n,color:c,changingLines:a,neighbor:_,showPluralities:w,metric:P,period:b,tractVars:f,showComms:g,drawings:v,showPlans:k,plan:M,points:I,tractMesh:C,bgMesh:A,mesh:S,aggregates:Q,obj:Y,handleLabelClick:se,congressMeshes:G,plansMeshes:F,startDrag:H,endDrag:K,handleMouseMove:R}=e;const oe=m=>a&&_(m),ue=m=>console.log(m.properties),Z=m=>R(m),ve=(m,Ee)=>m.properties[M]!==Ee.properties[M],x=m=>se(`${M},${m[M]}`);return t.$$set=m=>{"viewBox"in m&&l(0,s=m.viewBox),"labelSize"in m&&l(1,i=m.labelSize),"draggedBgs"in m&&l(2,r=m.draggedBgs),"data"in m&&l(3,o=m.data),"path"in m&&l(4,n=m.path),"color"in m&&l(5,c=m.color),"changingLines"in m&&l(6,a=m.changingLines),"neighbor"in m&&l(7,_=m.neighbor),"showPluralities"in m&&l(8,w=m.showPluralities),"metric"in m&&l(9,P=m.metric),"period"in m&&l(10,b=m.period),"tractVars"in m&&l(11,f=m.tractVars),"showComms"in m&&l(12,g=m.showComms),"drawings"in m&&l(13,v=m.drawings),"showPlans"in m&&l(14,k=m.showPlans),"plan"in m&&l(15,M=m.plan),"points"in m&&l(16,I=m.points),"tractMesh"in m&&l(17,C=m.tractMesh),"bgMesh"in m&&l(18,A=m.bgMesh),"mesh"in m&&l(19,S=m.mesh),"aggregates"in m&&l(20,Q=m.aggregates),"obj"in m&&l(21,Y=m.obj),"handleLabelClick"in m&&l(22,se=m.handleLabelClick),"congressMeshes"in m&&l(23,G=m.congressMeshes),"plansMeshes"in m&&l(24,F=m.plansMeshes),"startDrag"in m&&l(25,H=m.startDrag),"endDrag"in m&&l(26,K=m.endDrag),"handleMouseMove"in m&&l(27,R=m.handleMouseMove)},[s,i,r,o,n,c,a,_,w,P,b,f,g,v,k,M,I,C,A,S,Q,Y,se,G,F,H,K,R,oe,ue,Z,ve,x]}class Kt extends ml{constructor(e){super();bl(this,e,Jt,Ft,kl,{viewBox:0,labelSize:1,draggedBgs:2,data:3,path:4,color:5,changingLines:6,neighbor:7,showPluralities:8,metric:9,period:10,tractVars:11,showComms:12,drawings:13,showPlans:14,plan:15,points:16,tractMesh:17,bgMesh:18,mesh:19,aggregates:20,obj:21,handleLabelClick:22,congressMeshes:23,plansMeshes:24,startDrag:25,endDrag:26,handleMouseMove:27},null,[-1,-1])}}function yl(t,e,l){const s=t.slice();return s[64]=e[l],s}function Hl(t,e,l){const s=t.slice();return s[67]=e[l].name,s[26]=e[l].stats,s[69]=l,s}function Rl(t,e,l){const s=t.slice();return s[70]=e[l],s}function Wl(t,e,l){const s=t.slice();return s[73]=e[l],s}function ql(t,e,l){const s=t.slice();return s[70]=e[l],s}function Gl(t,e,l){const s=t.slice();return s[78]=e[l],s}function Fl(t,e,l){const s=t.slice();return s[81]=e[l],s}function Jl(t,e,l){const s=t.slice();return s[94]=e[l],s[69]=l,s}function Kl(t,e,l){const s=t.slice();return s[94]=e[l],s[69]=l,s}function Ql(t,e,l){const s=t.slice();return s[90]=e[l],s}function Xl(t,e,l){const s=t.slice();return s[90]=e[l],s[69]=l,s}function Yl(t,e,l){const s=t.slice();return s[84]=e[l],s}function Zl(t,e,l){const s=t.slice();return s[87]=e[l],s}function xl(t,e,l){const s=t.slice();return s[90]=e[l],s}function $l(t,e,l){const s=t.slice();return s[64]=e[l],s}function et(t,e,l){const s=t.slice();return s[64]=e[l],s}function lt(t){let e,l=(il[t[64]]||t[64])+"",s,i;return{c(){e=D("option"),s=z(l),this.h()},l(r){e=V(r,"OPTION",{});var o=E(e);s=U(o,l),o.forEach(u),this.h()},h(){e.__value=i=t[64],e.value=e.__value},m(r,o){q(r,e,o),h(e,s)},p(r,o){o[0]&8&&l!==(l=(il[r[64]]||r[64])+"")&&ke(s,l),o[0]&8&&i!==(i=r[64])&&(e.__value=i,e.value=e.__value)},d(r){r&&u(e)}}}function tt(t){let e,l=(il[t[64]]||t[64])+"",s,i;return{c(){e=D("option"),s=z(l),this.h()},l(r){e=V(r,"OPTION",{});var o=E(e);s=U(o,l),o.forEach(u),this.h()},h(){e.__value=i=t[64],e.value=e.__value},m(r,o){q(r,e,o),h(e,s)},p(r,o){o[0]&16&&l!==(l=(il[r[64]]||r[64])+"")&&ke(s,l),o[0]&16&&i!==(i=r[64])&&(e.__value=i,e.value=e.__value)},d(r){r&&u(e)}}}function st(t){let e,l=["past","present"],s=[];for(let i=0;i<2;i+=1)s[i]=nt(xl(t,l,i));return{c(){for(let i=0;i<2;i+=1)s[i].c();e=Ce()},l(i){for(let r=0;r<2;r+=1)s[r].l(i);e=Ce()},m(i,r){for(let o=0;o<2;o+=1)s[o].m(i,r);q(i,e,r)},p(i,r){if(r[0]&512){l=["past","present"];let o;for(o=0;o<2;o+=1){const n=xl(i,l,o);s[o]?s[o].p(n,r):(s[o]=nt(n),s[o].c(),s[o].m(e.parentNode,e))}for(;o<2;o+=1)s[o].d(1)}},d(i){pe(s,i),i&&u(e)}}}function nt(t){let e,l,s,i=xe(t[90])+"",r,o,n,c;return{c(){e=D("label"),l=D("input"),s=B(),r=z(i),o=B(),this.h()},l(a){e=V(a,"LABEL",{});var _=E(e);l=V(_,"INPUT",{type:!0,name:!0}),s=L(_),r=U(_,i),o=L(_),_.forEach(u),this.h()},h(){j(l,"type","radio"),j(l,"name","period"),l.__value=t[90],l.value=l.__value,t[48][0].push(l)},m(a,_){q(a,e,_),h(e,l),l.checked=l.__value===t[9],h(e,s),h(e,r),h(e,o),n||(c=de(l,"change",t[47]),n=!0)},p(a,_){_[0]&512&&(l.checked=l.__value===a[9])},d(a){a&&u(e),t[48][0].splice(t[48][0].indexOf(l),1),n=!1,c()}}}function ot(t){let e,l,s=(t[11]?"pct. asian":"pluralities")+"",i,r,o;return{c(){e=D("button"),l=z("Show "),i=z(s),this.h()},l(n){e=V(n,"BUTTON",{class:!0});var c=E(e);l=U(c,"Show "),i=U(c,s),c.forEach(u),this.h()},h(){j(e,"class","plurality-toggle svelte-1xj2c1h")},m(n,c){q(n,e,c),h(e,l),h(e,i),r||(o=de(e,"click",t[49]),r=!0)},p(n,c){c[0]&2048&&s!==(s=(n[11]?"pct. asian":"pluralities")+"")&&ke(i,s)},d(n){n&&u(e),r=!1,o()}}}function Qt(t){let e,l,s=t[25],i=[];for(let n=0;n<s.length;n+=1)i[n]=at(Kl(t,s,n));let r=t[25],o=[];for(let n=0;n<r.length;n+=1)o[n]=rt(Jl(t,r,n));return{c(){e=D("div");for(let n=0;n<i.length;n+=1)i[n].c();l=B();for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=V(n,"DIV",{class:!0,style:!0});var c=E(e);for(let a=0;a<i.length;a+=1)i[a].l(c);l=L(c);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u),this.h()},h(){j(e,"class","color-legend svelte-1xj2c1h"),Te(e,"grid-template-columns","repeat("+(t[3].includes(t[10])?5:6)+", 40px)"),ye(e,"pctasian",t[3].includes(t[10]))},m(n,c){q(n,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);h(e,l);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(n,c){if(c[0]&33555464){s=n[25];let a;for(a=0;a<s.length;a+=1){const _=Kl(n,s,a);i[a]?i[a].p(_,c):(i[a]=at(_),i[a].c(),i[a].m(e,l))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}if(c[0]&33555464){r=n[25];let a;for(a=0;a<r.length;a+=1){const _=Jl(n,r,a);o[a]?o[a].p(_,c):(o[a]=rt(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}c[0]&1032&&Te(e,"grid-template-columns","repeat("+(n[3].includes(n[10])?5:6)+", 40px)"),c[0]&1032&&ye(e,"pctasian",n[3].includes(n[10]))},d(n){n&&u(e),pe(i,n),pe(o,n)}}}function Xt(t){let e,l,s=Re,i=[];for(let n=0;n<s.length;n+=1)i[n]=ct(Xl(t,s,n));let r=Re,o=[];for(let n=0;n<r.length;n+=1)o[n]=ht(Ql(t,r,n));return{c(){e=D("div");for(let n=0;n<i.length;n+=1)i[n].c();l=B();for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=V(n,"DIV",{class:!0});var c=E(e);for(let a=0;a<i.length;a+=1)i[a].l(c);l=L(c);for(let a=0;a<o.length;a+=1)o[a].l(c);c.forEach(u),this.h()},h(){j(e,"class","color-legend plurality-legend svelte-1xj2c1h")},m(n,c){q(n,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);h(e,l);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(n,c){if(c&0){s=Re;let a;for(a=0;a<s.length;a+=1){const _=Xl(n,s,a);i[a]?i[a].p(_,c):(i[a]=ct(_),i[a].c(),i[a].m(e,l))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}if(c&0){r=Re;let a;for(a=0;a<r.length;a+=1){const _=Ql(n,r,a);o[a]?o[a].p(_,c):(o[a]=ht(_),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d(n){n&&u(e),pe(i,n),pe(o,n)}}}function Yt(t){let e,l,s,i,r,o,n,c,a,_,w,P,b=ze,f=[];for(let g=0;g<b.length;g+=1)f[g]=ut(Yl(t,b,g));return{c(){e=D("div");for(let g=0;g<f.length;g+=1)f[g].c();l=B(),s=D("p"),i=D("span"),r=z("Weak plurality"),o=B(),n=D("p"),c=B(),a=D("p"),_=z("Majority"),w=B(),P=D("p"),this.h()},l(g){e=V(g,"DIV",{class:!0});var v=E(e);for(let C=0;C<f.length;C+=1)f[C].l(v);l=L(v),s=V(v,"P",{class:!0});var k=E(s);i=V(k,"SPAN",{});var M=E(i);r=U(M,"Weak plurality"),M.forEach(u),k.forEach(u),o=L(v),n=V(v,"P",{class:!0}),E(n).forEach(u),c=L(v),a=V(v,"P",{class:!0});var I=E(a);_=U(I,"Majority"),I.forEach(u),w=L(v),P=V(v,"P",{class:!0}),E(P).forEach(u),v.forEach(u),this.h()},h(){j(s,"class","col-head svelte-1xj2c1h"),j(n,"class","col-head svelte-1xj2c1h"),j(a,"class","col-head svelte-1xj2c1h"),j(P,"class","col-head svelte-1xj2c1h"),j(e,"class","legend svelte-1xj2c1h")},m(g,v){q(g,e,v);for(let k=0;k<f.length;k+=1)f[k].m(e,null);h(e,l),h(e,s),h(s,i),h(i,r),h(e,o),h(e,n),h(e,c),h(e,a),h(a,_),h(e,w),h(e,P)},p(g,v){if(v&0){b=ze;let k;for(k=0;k<b.length;k+=1){const M=Yl(g,b,k);f[k]?f[k].p(M,v):(f[k]=ut(M),f[k].c(),f[k].m(e,l))}for(;k<f.length;k+=1)f[k].d(1);f.length=b.length}},d(g){g&&u(e),pe(f,g)}}}function at(t){let e;return{c(){e=D("div"),this.h()},l(l){e=V(l,"DIV",{style:!0}),E(e).forEach(u),this.h()},h(){Te(e,"background-color",t[3].includes(t[10])?rl[t[69]]:Ye[t[69]])},m(l,s){q(l,e,s)},p(l,s){s[0]&1032&&Te(e,"background-color",l[3].includes(l[10])?rl[l[69]]:Ye[l[69]])},d(l){l&&u(e)}}}function it(t){let e;return{c(){e=z("Asian")},l(l){e=U(l,"Asian")},m(l,s){q(l,e,s)},d(l){l&&u(e)}}}function rt(t){let e,l=(t[25][t[25].length-1]<1?Pe(t[94],0):t[25][t[25].length-1]>1e3?Xe(t[94]):t[94])+"",s,i,r=t[3].includes(t[10])&&t[69]===t[25].length-1,o,n=r&&it();return{c(){e=D("p"),s=z(l),i=B(),n&&n.c(),o=B(),this.h()},l(c){e=V(c,"P",{class:!0});var a=E(e);s=U(a,l),i=L(a),n&&n.l(a),o=L(a),a.forEach(u),this.h()},h(){j(e,"class","svelte-1xj2c1h")},m(c,a){q(c,e,a),h(e,s),h(e,i),n&&n.m(e,null),h(e,o)},p(c,a){a[0]&33554432&&l!==(l=(c[25][c[25].length-1]<1?Pe(c[94],0):c[25][c[25].length-1]>1e3?Xe(c[94]):c[94])+"")&&ke(s,l),a[0]&33555464&&(r=c[3].includes(c[10])&&c[69]===c[25].length-1),r?n||(n=it(),n.c(),n.m(e,o)):n&&(n.d(1),n=null)},d(c){c&&u(e),n&&n.d()}}}function ct(t){let e;return{c(){e=D("div"),this.h()},l(l){e=V(l,"DIV",{style:!0}),E(e).forEach(u),this.h()},h(){Te(e,"background-color",Ye[t[69]])},m(l,s){q(l,e,s)},p:sl,d(l){l&&u(e)}}}function ht(t){let e,l=t[90].replace("_","-")+"",s;return{c(){e=D("p"),s=z(l),this.h()},l(i){e=V(i,"P",{class:!0});var r=E(e);s=U(r,l),r.forEach(u),this.h()},h(){j(e,"class","svelte-1xj2c1h")},m(i,r){q(i,e,r),h(e,s)},p:sl,d(i){i&&u(e)}}}function ft(t){let e;return{c(){e=D("div"),this.h()},l(l){e=V(l,"DIV",{style:!0}),E(e).forEach(u),this.h()},h(){Te(e,"background-color",ul[t[84]]+t[87])},m(l,s){q(l,e,s)},p:sl,d(l){l&&u(e)}}}function ut(t){let e,l,s=xe(t[84])+"",i,r=al,o=[];for(let n=0;n<r.length;n+=1)o[n]=ft(Zl(t,r,n));return{c(){for(let n=0;n<o.length;n+=1)o[n].c();e=B(),l=D("p"),i=z(s),this.h()},l(n){for(let a=0;a<o.length;a+=1)o[a].l(n);e=L(n),l=V(n,"P",{class:!0});var c=E(l);i=U(c,s),c.forEach(u),this.h()},h(){j(l,"class","row-label svelte-1xj2c1h")},m(n,c){for(let a=0;a<o.length;a+=1)o[a].m(n,c);q(n,e,c),q(n,l,c),h(l,i)},p(n,c){if(c&0){r=al;let a;for(a=0;a<r.length;a+=1){const _=Zl(n,r,a);o[a]?o[a].p(_,c):(o[a]=ft(_),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},d(n){pe(o,n),n&&u(e),n&&u(l)}}}function _t(t){let e,l,s,i,r,o,n,c,a,_=["assembly","senate","congress"],w=[];for(let f=0;f<3;f+=1)w[f]=dt(Gl(t,_,f));let P=t[19],b=[];for(let f=0;f<P.length;f+=1)b[f]=mt(Wl(t,P,f));return{c(){e=D("div"),l=D("div"),s=D("select");for(let f=0;f<3;f+=1)w[f].c();i=B();for(let f=0;f<b.length;f+=1)b[f].c();this.h()},l(f){e=V(f,"DIV",{class:!0});var g=E(e);l=V(g,"DIV",{class:!0});var v=E(l);s=V(v,"SELECT",{class:!0});var k=E(s);for(let M=0;M<3;M+=1)w[M].l(k);k.forEach(u),v.forEach(u),i=L(g);for(let M=0;M<b.length;M+=1)b[M].l(g);g.forEach(u),this.h()},h(){j(s,"class","svelte-1xj2c1h"),t[18]===void 0&&Ae(()=>t[52].call(s)),j(l,"class","plan-selector svelte-1xj2c1h"),j(e,"class","svelte-1xj2c1h")},m(f,g){q(f,e,g),h(e,l),h(l,s);for(let v=0;v<3;v+=1)w[v].m(s,null);tl(s,t[18]),h(e,i);for(let v=0;v<b.length;v+=1)b[v].m(e,null);n=!0,c||(a=de(s,"change",t[52]),c=!0)},p(f,g){if(g&0){_=["assembly","senate","congress"];let v;for(v=0;v<3;v+=1){const k=Gl(f,_,v);w[v]?w[v].p(k,g):(w[v]=dt(k),w[v].c(),w[v].m(s,null))}for(;v<3;v+=1)w[v].d(1)}if(g[0]&262144&&tl(s,f[18]),g[0]&76283904|g[1]&16){P=f[19];let v;for(v=0;v<P.length;v+=1){const k=Wl(f,P,v);b[v]?b[v].p(k,g):(b[v]=mt(k),b[v].c(),b[v].m(e,null))}for(;v<b.length;v+=1)b[v].d(1);b.length=P.length}},i(f){n||(Ae(()=>{o&&o.end(1),r=Fe(e,nl,{}),r.start()}),n=!0)},o(f){r&&r.invalidate(),o=Je(e,nl,{}),n=!1},d(f){f&&u(e),pe(w,f),pe(b,f),f&&o&&o.end(),c=!1,a()}}}function gt(t){let e,l=Gt(t[78]+t[81])+"",s,i;return{c(){e=D("option"),s=z(l),this.h()},l(r){e=V(r,"OPTION",{});var o=E(e);s=U(o,l),o.forEach(u),this.h()},h(){e.__value=i=t[78]+t[81],e.value=e.__value},m(r,o){q(r,e,o),h(e,s)},p:sl,d(r){r&&u(e)}}}function dt(t){let e,l=["","_letters","_names"],s=[];for(let i=0;i<3;i+=1)s[i]=gt(Fl(t,l,i));return{c(){e=D("optgroup");for(let i=0;i<3;i+=1)s[i].c();this.h()},l(i){e=V(i,"OPTGROUP",{label:!0});var r=E(e);for(let o=0;o<3;o+=1)s[o].l(r);r.forEach(u),this.h()},h(){j(e,"label",xe(t[78]))},m(i,r){q(i,e,r);for(let o=0;o<3;o+=1)s[o].m(e,null)},p(i,r){if(r&0){l=["","_letters","_names"];let o;for(o=0;o<3;o+=1){const n=Fl(i,l,o);s[o]?s[o].p(n,r):(s[o]=gt(n),s[o].c(),s[o].m(e,null))}for(;o<3;o+=1)s[o].d(1)}},d(i){i&&u(e),pe(s,i)}}}function pt(t){let e,l,s,i=Dl(t[73])+"",r,o,n,c,a,_,w,P,b,f,g,v,k,M,I,C=Xe(t[26][t[73]].income)+(t[23]&&t[18]in cl?"; "+Vl(t[26][t[73]].pop20_total-cl[t[18]]):"")+"",A,S,Q,Y;function se(){return t[53](t[73])}let G=ze,F=[];for(let H=0;H<G.length;H+=1)F[H]=vt(ql(t,G,H));return{c(){e=D("div"),l=D("p"),s=D("i"),r=z(i),o=B(),n=D("table"),c=D("tr"),a=D("th"),_=B(),w=D("th"),P=z("CVAP"),b=B(),f=D("th"),g=z("Pop."),v=B();for(let H=0;H<F.length;H+=1)F[H].c();k=B(),M=D("p"),I=z("Income: "),A=z(C),S=B(),this.h()},l(H){e=V(H,"DIV",{class:!0});var K=E(e);l=V(K,"P",{class:!0});var R=E(l);s=V(R,"I",{});var oe=E(s);r=U(oe,i),oe.forEach(u),R.forEach(u),o=L(K),n=V(K,"TABLE",{class:!0});var ue=E(n);c=V(ue,"TR",{class:!0});var Z=E(c);a=V(Z,"TH",{class:!0}),E(a).forEach(u),_=L(Z),w=V(Z,"TH",{class:!0});var ve=E(w);P=U(ve,"CVAP"),ve.forEach(u),b=L(Z),f=V(Z,"TH",{class:!0});var x=E(f);g=U(x,"Pop."),x.forEach(u),Z.forEach(u),v=L(ue);for(let Ee=0;Ee<F.length;Ee+=1)F[Ee].l(ue);ue.forEach(u),k=L(K),M=V(K,"P",{class:!0});var m=E(M);I=U(m,"Income: "),A=U(m,C),m.forEach(u),S=L(K),K.forEach(u),this.h()},h(){j(l,"class","svelte-1xj2c1h"),j(a,"class","svelte-1xj2c1h"),j(w,"class","svelte-1xj2c1h"),j(f,"class","svelte-1xj2c1h"),j(c,"class","svelte-1xj2c1h"),j(n,"class","svelte-1xj2c1h"),j(M,"class","table-footer svelte-1xj2c1h"),j(e,"class","district-aggregate svelte-1xj2c1h")},m(H,K){q(H,e,K),h(e,l),h(l,s),h(s,r),h(e,o),h(e,n),h(n,c),h(c,a),h(c,_),h(c,w),h(w,P),h(c,b),h(c,f),h(f,g),h(n,v);for(let R=0;R<F.length;R+=1)F[R].m(n,null);h(e,k),h(e,M),h(M,I),h(M,A),h(e,S),Q||(Y=de(l,"click",se),Q=!0)},p(H,K){if(t=H,K[0]&524288&&i!==(i=Dl(t[73])+"")&&ke(r,i),K[0]&67633152){G=ze;let R;for(R=0;R<G.length;R+=1){const oe=ql(t,G,R);F[R]?F[R].p(oe,K):(F[R]=vt(oe),F[R].c(),F[R].m(n,null))}for(;R<F.length;R+=1)F[R].d(1);F.length=G.length}K[0]&76283904&&C!==(C=Xe(t[26][t[73]].income)+(t[23]&&t[18]in cl?"; "+Vl(t[26][t[73]].pop20_total-cl[t[18]]):"")+"")&&ke(A,C)},d(H){H&&u(e),pe(F,H),Q=!1,Y()}}}function vt(t){let e,l,s=xe(t[70])+"",i,r,o,n=Pe(t[26][t[73]]["cvap19"+t[70]])+"",c,a,_,w=Pe(t[26][t[73]]["pop20"+t[70]])+"",P,b;return{c(){e=D("tr"),l=D("td"),i=z(s),r=B(),o=D("td"),c=z(n),a=B(),_=D("td"),P=z(w),b=B(),this.h()},l(f){e=V(f,"TR",{class:!0});var g=E(e);l=V(g,"TD",{class:!0});var v=E(l);i=U(v,s),v.forEach(u),r=L(g),o=V(g,"TD",{class:!0});var k=E(o);c=U(k,n),k.forEach(u),a=L(g),_=V(g,"TD",{class:!0});var M=E(_);P=U(M,w),M.forEach(u),b=L(g),g.forEach(u),this.h()},h(){j(l,"class","svelte-1xj2c1h"),j(o,"class","svelte-1xj2c1h"),j(_,"class","svelte-1xj2c1h"),j(e,"class","svelte-1xj2c1h")},m(f,g){q(f,e,g),h(e,l),h(l,i),h(e,r),h(e,o),h(o,c),h(e,a),h(e,_),h(_,P),h(e,b)},p(f,g){g[0]&67633152&&n!==(n=Pe(f[26][f[73]]["cvap19"+f[70]])+"")&&ke(c,n),g[0]&67633152&&w!==(w=Pe(f[26][f[73]]["pop20"+f[70]])+"")&&ke(P,w)},d(f){f&&u(e)}}}function mt(t){let e=t[73].split(",")[0].split("_")[0]===t[18].split("_")[0],l,s=e&&pt(t);return{c(){s&&s.c(),l=Ce()},l(i){s&&s.l(i),l=Ce()},m(i,r){s&&s.m(i,r),q(i,l,r)},p(i,r){r[0]&786432&&(e=i[73].split(",")[0].split("_")[0]===i[18].split("_")[0]),e?s?s.p(i,r):(s=pt(i),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(i){s&&s.d(i),i&&u(l)}}}function bt(t){let e,l,s,i,r,o,n,c,a,_,w=t[14],P=[];for(let b=0;b<w.length;b+=1)P[b]=Et(Hl(t,w,b));return{c(){e=D("div");for(let b=0;b<P.length;b+=1)P[b].c();l=B(),s=D("button"),i=D("b"),r=z("[SAVE]"),this.h()},l(b){e=V(b,"DIV",{class:!0});var f=E(e);for(let k=0;k<P.length;k+=1)P[k].l(f);l=L(f),s=V(f,"BUTTON",{style:!0});var g=E(s);i=V(g,"B",{});var v=E(i);r=U(v,"[SAVE]"),v.forEach(u),g.forEach(u),f.forEach(u),this.h()},h(){Te(s,"font-size","13px"),j(e,"class","community svelte-1xj2c1h")},m(b,f){q(b,e,f);for(let g=0;g<P.length;g+=1)P[g].m(e,null);h(e,l),h(e,s),h(s,i),h(i,r),c=!0,a||(_=de(s,"click",t[33]),a=!0)},p(b,f){if(f[0]&16384|f[1]&2){w=b[14];let g;for(g=0;g<w.length;g+=1){const v=Hl(b,w,g);P[g]?P[g].p(v,f):(P[g]=Et(v),P[g].c(),P[g].m(e,l))}for(;g<P.length;g+=1)P[g].d(1);P.length=w.length}},i(b){c||(Ae(()=>{n&&n.end(1),o=Fe(e,nl,{}),o.start()}),c=!0)},o(b){o&&o.invalidate(),n=Je(e,nl,{}),c=!1},d(b){b&&u(e),pe(P,b),b&&n&&n.end(),a=!1,_()}}}function kt(t){let e,l,s=xe(t[70])+"",i,r,o,n=Pe(t[26]["cvap19"+t[70]])+"",c,a,_,w=Pe(t[26]["pop20"+t[70]])+"",P,b;return{c(){e=D("tr"),l=D("td"),i=z(s),r=B(),o=D("td"),c=z(n),a=B(),_=D("td"),P=z(w),b=B(),this.h()},l(f){e=V(f,"TR",{class:!0});var g=E(e);l=V(g,"TD",{class:!0});var v=E(l);i=U(v,s),v.forEach(u),r=L(g),o=V(g,"TD",{class:!0});var k=E(o);c=U(k,n),k.forEach(u),a=L(g),_=V(g,"TD",{class:!0});var M=E(_);P=U(M,w),M.forEach(u),b=L(g),g.forEach(u),this.h()},h(){j(l,"class","svelte-1xj2c1h"),j(o,"class","svelte-1xj2c1h"),j(_,"class","svelte-1xj2c1h"),j(e,"class","svelte-1xj2c1h")},m(f,g){q(f,e,g),h(e,l),h(l,i),h(e,r),h(e,o),h(o,c),h(e,a),h(e,_),h(_,P),h(e,b)},p(f,g){g[0]&16384&&n!==(n=Pe(f[26]["cvap19"+f[70]])+"")&&ke(c,n),g[0]&16384&&w!==(w=Pe(f[26]["pop20"+f[70]])+"")&&ke(P,w)},d(f){f&&u(e)}}}function Et(t){let e,l,s,i=(t[67]||"COI"+(t[69]+1))+"",r,o,n,c,a,_,w,P,b,f,g,v,k,M,I,C,A,S,Q=Xe(t[26].income)+"",Y,se,G,F,H=Pe(t[26].hhlang)+"",K,R,oe,ue,Z=Pe(t[26].benefits)+"",ve,x,m;function Ee(){return t[56](t[69])}let Oe=ze,ie=[];for(let ee=0;ee<Oe.length;ee+=1)ie[ee]=kt(Rl(t,Oe,ee));return{c(){e=D("div"),l=D("p"),s=D("i"),r=z(i),o=B(),n=D("button"),c=z("\u{1F5D1}"),a=B(),_=D("table"),w=D("tr"),P=D("th"),b=B(),f=D("th"),g=z("CVAP"),v=B(),k=D("th"),M=z("Pop."),I=B();for(let ee=0;ee<ie.length;ee+=1)ie[ee].c();C=B(),A=D("p"),S=z("Income: "),Y=z(Q),se=B(),G=D("p"),F=z("Asian and LEP: "),K=z(H),R=B(),oe=D("p"),ue=z("Pct. gov't benefits: "),ve=z(Z),this.h()},l(ee){e=V(ee,"DIV",{class:!0});var ae=E(e);l=V(ae,"P",{class:!0});var le=E(l);s=V(le,"I",{});var we=E(s);r=U(we,i),we.forEach(u),o=L(le),n=V(le,"BUTTON",{});var re=E(n);c=U(re,"\u{1F5D1}"),re.forEach(u),le.forEach(u),a=L(ae),_=V(ae,"TABLE",{class:!0});var je=E(_);w=V(je,"TR",{class:!0});var te=E(w);P=V(te,"TH",{class:!0}),E(P).forEach(u),b=L(te),f=V(te,"TH",{class:!0});var X=E(f);g=U(X,"CVAP"),X.forEach(u),v=L(te),k=V(te,"TH",{class:!0});var $=E(k);M=U($,"Pop."),$.forEach(u),te.forEach(u),I=L(je);for(let ne=0;ne<ie.length;ne+=1)ie[ne].l(je);je.forEach(u),C=L(ae),A=V(ae,"P",{class:!0});var Se=E(A);S=U(Se,"Income: "),Y=U(Se,Q),Se.forEach(u),se=L(ae),G=V(ae,"P",{class:!0});var Le=E(G);F=U(Le,"Asian and LEP: "),K=U(Le,H),Le.forEach(u),R=L(ae),oe=V(ae,"P",{class:!0});var me=E(oe);ue=U(me,"Pct. gov't benefits: "),ve=U(me,Z),me.forEach(u),ae.forEach(u),this.h()},h(){j(l,"class","svelte-1xj2c1h"),j(P,"class","svelte-1xj2c1h"),j(f,"class","svelte-1xj2c1h"),j(k,"class","svelte-1xj2c1h"),j(w,"class","svelte-1xj2c1h"),j(_,"class","svelte-1xj2c1h"),j(A,"class","table-footer svelte-1xj2c1h"),j(G,"class","table-footer svelte-1xj2c1h"),j(oe,"class","table-footer svelte-1xj2c1h"),j(e,"class","svelte-1xj2c1h")},m(ee,ae){q(ee,e,ae),h(e,l),h(l,s),h(s,r),h(l,o),h(l,n),h(n,c),h(e,a),h(e,_),h(_,w),h(w,P),h(w,b),h(w,f),h(f,g),h(w,v),h(w,k),h(k,M),h(_,I);for(let le=0;le<ie.length;le+=1)ie[le].m(_,null);h(e,C),h(e,A),h(A,S),h(A,Y),h(e,se),h(e,G),h(G,F),h(G,K),h(e,R),h(e,oe),h(oe,ue),h(oe,ve),x||(m=de(n,"click",Ee),x=!0)},p(ee,ae){if(t=ee,ae[0]&16384&&i!==(i=(t[67]||"COI"+(t[69]+1))+"")&&ke(r,i),ae[0]&16384){Oe=ze;let le;for(le=0;le<Oe.length;le+=1){const we=Rl(t,Oe,le);ie[le]?ie[le].p(we,ae):(ie[le]=kt(we),ie[le].c(),ie[le].m(_,null))}for(;le<ie.length;le+=1)ie[le].d(1);ie.length=Oe.length}ae[0]&16384&&Q!==(Q=Xe(t[26].income)+"")&&ke(Y,Q),ae[0]&16384&&H!==(H=Pe(t[26].hhlang)+"")&&ke(K,H),ae[0]&16384&&Z!==(Z=Pe(t[26].benefits)+"")&&ke(ve,Z)},d(ee){ee&&u(e),pe(ie,ee),x=!1,m()}}}function jt(t){let e,l=t[64]+"",s,i,r;function o(){return t[57](t[64])}return{c(){e=D("button"),s=z(l),this.h()},l(n){e=V(n,"BUTTON",{class:!0});var c=E(e);s=U(c,l),c.forEach(u),this.h()},h(){j(e,"class","svelte-1xj2c1h")},m(n,c){q(n,e,c),h(e,s),i||(r=de(e,"click",o),i=!0)},p(n,c){t=n},d(n){n&&u(e),i=!1,r()}}}function Zt(t){let e,l,s,i,r,o,n=t[3].includes(t[10]),c,a=t[3].includes(t[10]),_,w,P,b,f,g,v,k,M,I,C=(t[23]?"Original":"Modify")+"",A,S,Q,Y,se,G,F,H,K,R,oe,ue,Z,ve,x,m,Ee,Oe,ie,ee,ae,le,we=t[3],re=[];for(let p=0;p<we.length;p+=1)re[p]=lt(et(t,we,p));let je=t[4],te=[];for(let p=0;p<je.length;p+=1)te[p]=tt($l(t,je,p));let X=n&&st(t),$=a&&ot(t);function Se(p,T){return(w==null||T[0]&3080)&&(w=!!(p[3].includes(p[10])&&p[11])),w?Yt:((P==null||T[0]&1048640)&&(P=!!p[6].includes(p[20])),P?Xt:Qt)}let Le=Se(t,[-1,-1,-1,-1]),me=Le(t),ne=t[21]&&_t(t),he=t[12]&&bt(t);Z=new Kt({props:{viewBox:t[16],labelSize:t[24],draggedBgs:t[13],data:t[1],path:t[8],color:t[31],changingLines:t[23],neighbor:t[30],showPluralities:t[11],metric:t[20],period:t[9],tractVars:t[5],showComms:t[12],drawings:t[14],showPlans:t[21],plan:t[18],points:t[2],tractMesh:t[29],bgMesh:t[28],mesh:t[27],aggregates:t[19],obj:t[0],handleLabelClick:t[35],congressMeshes:t[15],plansMeshes:t[7],startDrag:t[36],endDrag:t[37],handleMouseMove:t[38]}});let Ue=Object.keys(t[34]),ge=[];for(let p=0;p<Ue.length;p+=1)ge[p]=jt(yl(t,Ue,p));return{c(){e=D("div"),l=D("div"),s=D("select"),i=D("optgroup");for(let p=0;p<re.length;p+=1)re[p].c();r=D("optgroup");for(let p=0;p<te.length;p+=1)te[p].c();o=B(),X&&X.c(),c=B(),$&&$.c(),_=B(),me.c(),b=B(),f=D("div"),g=D("h3"),v=D("button"),k=z("Plans \u2193"),M=B(),I=D("button"),A=z(C),S=B(),ne&&ne.c(),Q=B(),Y=D("div"),se=D("h3"),G=D("button"),F=z("Communities \u2193"),H=B(),K=D("button"),R=z("+"),oe=B(),he&&he.c(),ue=B(),Lt(Z.$$.fragment),ve=B(),x=D("div"),m=D("h3"),Ee=z("Views"),Oe=B();for(let p=0;p<ge.length;p+=1)ge[p].c();this.h()},l(p){e=V(p,"DIV",{class:!0,style:!0});var T=E(e);l=V(T,"DIV",{class:!0});var O=E(l);s=V(O,"SELECT",{style:!0,class:!0});var N=E(s);i=V(N,"OPTGROUP",{label:!0});var De=E(i);for(let fe=0;fe<re.length;fe+=1)re[fe].l(De);De.forEach(u),r=V(N,"OPTGROUP",{label:!0});var $e=E(r);for(let fe=0;fe<te.length;fe+=1)te[fe].l($e);$e.forEach(u),N.forEach(u),o=L(O),X&&X.l(O),c=L(O),$&&$.l(O),_=L(O),me.l(O),b=L(O),f=V(O,"DIV",{class:!0});var We=E(f);g=V(We,"H3",{class:!0});var qe=E(g);v=V(qe,"BUTTON",{});var el=E(v);k=U(el,"Plans \u2193"),el.forEach(u),M=L(qe),I=V(qe,"BUTTON",{class:!0});var ll=E(I);A=U(ll,C),ll.forEach(u),qe.forEach(u),S=L(We),ne&&ne.l(We),We.forEach(u),Q=L(O),Y=V(O,"DIV",{class:!0});var Ge=E(Y);se=V(Ge,"H3",{class:!0});var d=E(se);G=V(d,"BUTTON",{});var J=E(G);F=U(J,"Communities \u2193"),J.forEach(u),H=L(d),K=V(d,"BUTTON",{});var y=E(K);R=U(y,"+"),y.forEach(u),d.forEach(u),oe=L(Ge),he&&he.l(Ge),Ge.forEach(u),O.forEach(u),ue=L(T),St(Z.$$.fragment,T),ve=L(T),x=V(T,"DIV",{class:!0});var W=E(x);m=V(W,"H3",{class:!0});var ce=E(m);Ee=U(ce,"Views"),ce.forEach(u),Oe=L(W);for(let fe=0;fe<ge.length;fe+=1)ge[fe].l(W);W.forEach(u),T.forEach(u),this.h()},h(){j(i,"label","Redistricting data"),j(r,"label","American Community Survey data"),Te(s,"width",t[4].includes(t[10])?"auto":"calc(var(--control-width) - 20px)"),j(s,"class","svelte-1xj2c1h"),t[10]===void 0&&Ae(()=>t[46].call(s)),j(I,"class","subbutton svelte-1xj2c1h"),j(g,"class","svelte-1xj2c1h"),j(f,"class","stats svelte-1xj2c1h"),j(se,"class","svelte-1xj2c1h"),j(Y,"class","stats svelte-1xj2c1h"),j(l,"class","controls svelte-1xj2c1h"),j(m,"class","svelte-1xj2c1h"),j(x,"class","views svelte-1xj2c1h"),j(e,"class","container svelte-1xj2c1h"),Te(e,"cursor",t[22]?"crosshair":"auto"),Ae(()=>t[58].call(e))},m(p,T){q(p,e,T),h(e,l),h(l,s),h(s,i);for(let O=0;O<re.length;O+=1)re[O].m(i,null);h(s,r);for(let O=0;O<te.length;O+=1)te[O].m(r,null);tl(s,t[10]),h(l,o),X&&X.m(l,null),h(l,c),$&&$.m(l,null),h(l,_),me.m(l,null),h(l,b),h(l,f),h(f,g),h(g,v),h(v,k),h(g,M),h(g,I),h(I,A),h(f,S),ne&&ne.m(f,null),h(l,Q),h(l,Y),h(Y,se),h(se,G),h(G,F),h(se,H),h(se,K),h(K,R),h(Y,oe),he&&he.m(Y,null),h(e,ue),Nt(Z,e,null),h(e,ve),h(e,x),h(x,m),h(m,Ee),h(x,Oe);for(let O=0;O<ge.length;O+=1)ge[O].m(x,null);ie=At(e,t[58].bind(e)),ee=!0,ae||(le=[de(s,"change",t[46]),de(v,"click",t[50]),de(I,"click",t[51]),de(G,"click",t[54]),de(K,"click",t[55])],ae=!0)},p(p,T){if(T[0]&8){we=p[3];let N;for(N=0;N<we.length;N+=1){const De=et(p,we,N);re[N]?re[N].p(De,T):(re[N]=lt(De),re[N].c(),re[N].m(i,null))}for(;N<re.length;N+=1)re[N].d(1);re.length=we.length}if(T[0]&16){je=p[4];let N;for(N=0;N<je.length;N+=1){const De=$l(p,je,N);te[N]?te[N].p(De,T):(te[N]=tt(De),te[N].c(),te[N].m(r,null))}for(;N<te.length;N+=1)te[N].d(1);te.length=je.length}(!ee||T[0]&1040)&&Te(s,"width",p[4].includes(p[10])?"auto":"calc(var(--control-width) - 20px)"),T[0]&1048&&tl(s,p[10]),T[0]&1032&&(n=p[3].includes(p[10])),n?X?X.p(p,T):(X=st(p),X.c(),X.m(l,c)):X&&(X.d(1),X=null),T[0]&1032&&(a=p[3].includes(p[10])),a?$?$.p(p,T):($=ot(p),$.c(),$.m(l,_)):$&&($.d(1),$=null),Le===(Le=Se(p,T))&&me?me.p(p,T):(me.d(1),me=Le(p),me&&(me.c(),me.m(l,b))),(!ee||T[0]&8388608)&&C!==(C=(p[23]?"Original":"Modify")+"")&&ke(A,C),p[21]?ne?(ne.p(p,T),T[0]&2097152&&_e(ne,1)):(ne=_t(p),ne.c(),_e(ne,1),ne.m(f,null)):ne&&(Ke(),Ie(ne,1,1,()=>{ne=null}),Qe()),p[12]?he?(he.p(p,T),T[0]&4096&&_e(he,1)):(he=bt(p),he.c(),_e(he,1),he.m(Y,null)):he&&(Ke(),Ie(he,1,1,()=>{he=null}),Qe());const O={};if(T[0]&65536&&(O.viewBox=p[16]),T[0]&16777216&&(O.labelSize=p[24]),T[0]&8192&&(O.draggedBgs=p[13]),T[0]&2&&(O.data=p[1]),T[0]&256&&(O.path=p[8]),T[0]&8388608&&(O.changingLines=p[23]),T[0]&2048&&(O.showPluralities=p[11]),T[0]&1048576&&(O.metric=p[20]),T[0]&512&&(O.period=p[9]),T[0]&32&&(O.tractVars=p[5]),T[0]&4096&&(O.showComms=p[12]),T[0]&16384&&(O.drawings=p[14]),T[0]&2097152&&(O.showPlans=p[21]),T[0]&262144&&(O.plan=p[18]),T[0]&4&&(O.points=p[2]),T[0]&524288&&(O.aggregates=p[19]),T[0]&1&&(O.obj=p[0]),T[0]&32768&&(O.congressMeshes=p[15]),T[0]&128&&(O.plansMeshes=p[7]),Z.$set(O),T[0]&65536|T[1]&8){Ue=Object.keys(p[34]);let N;for(N=0;N<Ue.length;N+=1){const De=yl(p,Ue,N);ge[N]?ge[N].p(De,T):(ge[N]=jt(De),ge[N].c(),ge[N].m(x,null))}for(;N<ge.length;N+=1)ge[N].d(1);ge.length=Ue.length}(!ee||T[0]&4194304)&&Te(e,"cursor",p[22]?"crosshair":"auto")},i(p){ee||(_e(ne),_e(he),_e(Z.$$.fragment,p),ee=!0)},o(p){Ie(ne),Ie(he),Ie(Z.$$.fragment,p),ee=!1},d(p){p&&u(e),pe(re,p),pe(te,p),X&&X.d(),$&&$.d(),me.d(),ne&&ne.d(),he&&he.d(),zt(Z),pe(ge,p),ie(),ae=!1,hl(le)}}}async function xt(t){const l=await(await t(`${Ze}/points.topojson`)).json();return wl(l,l.objects.layer).features}async function ns({fetch:t}){const l=await(await t(`${Ze}/output_no-congress.topojson`)).json(),s=Wt(l.objects.census),i=wl(l,s).features,r=["cvap","pop"],o=[...i.reduce((_,w)=>{const P=Object.keys(w.properties).filter(b=>[...r,"GEOID","senate","assembly","congress"].every(f=>!b.includes(f))&&b===b.toLowerCase()).map(b=>b.split("_")[0]);return new Set([..._,...P])},[])],n=i.reduce((_,w,P)=>(_[w.properties.GEOID]=P,_),{}),c=Ct(),a={};return Object.keys(l.objects).forEach(_=>{_!=="census"&&(a[_]=c(fl(l,l.objects[_],(w,P)=>ol(w)!==ol(P))))}),{props:{topoData:l,obj:s,data:i,neighbors:Bt(s.geometries),dynamicVars:r,staticVars:o,idToIndex:n,points:await xt(t),path:c,plansMeshes:a,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}function $t(t,e,l){let s,i,r,o,{topoData:n,obj:c,neighbors:a,data:_,points:w,dynamicVars:P,staticVars:b,tractVars:f,pluralityVars:g,plansMeshes:v,path:k,idToIndex:M}=e;const I=d=>fl(n,c,d),C=k(I((d,J)=>Be(d)!==Be(J))),A=k(I((d,J)=>Be(d).substring(0,11)!==Be(J).substring(0,11))),S=d=>_[d].properties[X];let Q;function Y(d){const J=S(d),y=new Set(a[d].map(S).filter(W=>W!==J));if(y.size===1){const W=y.values().next().value;l(0,c.geometries[d].properties[X]=W,c),l(0,c),Q=W}else y.has(Q)&&(l(0,c.geometries[d].properties[X]=Q,c),l(0,c))}let se="present",G="pop";const F={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let H=!1;function K({properties:d}){if(d.ALAND===0)return"#fff";const J=d[`${s}_total`];if(g.includes(s)){const y=ce=>d[`${s}_${ce}`];if(y(Re[0])===null)return"#eee";const W=[...Re].sort((ce,fe)=>y(fe)-y(ce));return Ye[Re.indexOf(W[0])]}else if(b.includes(s)){if(!d.ALAND)return"#fff";if(!Ml(i(d)))return"#eee";if(J<=10)return"#fff";for(let y=1;y<r.length;y++)if(i(d)<r[y])return Ye[y];return Ye[r.length-1]}else{if(J<=10)return"#fff";const y=W=>d[`${s}_${W}`]/d[`${s}_total`];if(H){const W=ze.filter(be=>y(be)>.5)[0];if(W!==void 0)return ul[W]+al[J<130?0:J<200?1:2];const ce=[...ze].sort((be,Ne)=>y(Ne)-y(be)),fe=y(ce[0])-y(ce[1]);return ul[ce[0]]+al[fe<.093?0:1]}else{const W=F[G];for(let ce=1;ce<W.length;ce++)if(y("asian")<W[ce])return rl[ce-1];return rl[W.length-1]}}}let R,oe,ue,Z,ve,x=[],m=[],Ee;async function Oe(){const J=await(await fetch(`${Ze}/output_congress.topojson`)).json();l(15,Ee=Object.keys(J.objects).reduce((y,W)=>(y[W]=k(fl(J,J.objects[W],(ce,fe)=>ol(ce)!==ol(fe))),y),{}))}function ie(d){let J;typeof d[0]=="string"?J=d.map(be=>_[M[be]].properties):J=d.map(be=>be.properties);const y=(be,Ne)=>J.reduce((wt,_l)=>wt+(_l[be]||0)*(Ne&&_l[Ne]||1),0),W=be=>y(be,"pop20_total")/y("pop20_total"),ce=(be,Ne)=>y(`${be}_${Ne}`)/y(`${be}_total`),fe={income:W("income"),hhlang:ce("hhlang","asian"),benefits:ce("families","benefits"),pop20_total:y("pop20_total")};return["pop20","cvap19"].forEach(be=>ze.forEach(Ne=>fe[be+Ne]=ce(be,Ne))),fe}const ee=d=>l(14,m=m.filter((J,y)=>y!==d));async function ae(){try{await fetch(`${Ze}/data.json`,{method:"POST",body:JSON.stringify(m)})}catch(d){console.error(d)}}let le;async function we(){const d=await fetch(`${Ze}/data.json`);l(14,m=(await d.json()).map(J=>vl(pl({},J),{stats:ie(J.ids)})))}const re={Chinatown:[80,500,300,220],"Chinatown Wide":[80,430,500,440],Brooklyn:[20,550,600,600],Full:[0,0,975,1420]};let je=re.Chinatown,te,X="assembly",$=[],Se={};function Le(d){$.includes(d)?l(19,$=$.filter(J=>J!==d)):l(19,$=[...$,d])}const me=()=>l(43,Z=!0),ne=()=>l(43,Z=l(22,ue=!1)),he=d=>ue&&Z&&(x.length===0?l(13,x=[Be(d)]):x.push(Be(d))),Ue=[[]];function ge(){G=Pl(this),l(10,G),l(4,b),l(3,P)}function p(){se=this.__value,l(9,se)}const T=()=>l(11,H=!H),O=()=>{l(21,R=!R),l(12,oe=!1)},N=()=>l(23,ve=!ve);function De(){X=Pl(this),l(18,X)}const $e=d=>Le(d),We=()=>{l(12,oe=!oe),l(21,R=!1)},qe=()=>l(22,ue=!0),el=d=>ee(d),ll=d=>l(16,je=re[d]);function Ge(){te=this.clientWidth,l(17,te)}return t.$$set=d=>{"topoData"in d&&l(39,n=d.topoData),"obj"in d&&l(0,c=d.obj),"neighbors"in d&&l(40,a=d.neighbors),"data"in d&&l(1,_=d.data),"points"in d&&l(2,w=d.points),"dynamicVars"in d&&l(3,P=d.dynamicVars),"staticVars"in d&&l(4,b=d.staticVars),"tractVars"in d&&l(5,f=d.tractVars),"pluralityVars"in d&&l(6,g=d.pluralityVars),"plansMeshes"in d&&l(7,v=d.plansMeshes),"path"in d&&l(8,k=d.path),"idToIndex"in d&&l(41,M=d.idToIndex)},t.$$.update=()=>{if(t.$$.dirty[0]&1552&&l(20,s=b.includes(G)?G:G+(se==="past"?10:G==="cvap"?19:20)),t.$$.dirty[0]&1048576&&l(45,i={income:d=>d[s],hhlang:d=>d[`${s}_asian`]/d[`${s}_total`],graduates:d=>(d[`${s}_hs_grad`]+d[`${s}_ba_above`])/d[`${s}_total`],families:d=>d[`${s}_benefits`]/d[`${s}_total`],workers:d=>d[`${s}_publictransport`]/d[`${s}_total`]}[s]),t.$$.dirty[0]&1051674|t.$$.dirty[1]&18432&&l(25,r=P.includes(G)&&!H?F[G]:F[s]||!b.includes(s)||s==="asiaentry"||l(42,F[s]=Ut(_.map(d=>i(d.properties)).filter(Ml),6),F)),t.$$.dirty[0]&24834|t.$$.dirty[1]&4096&&!Z&&x.length>0){if(x[0]===x[x.length-1]){const d=new Set(x),J=yt(I((W,ce)=>qt(d.has(Be(W)),d.has(Be(ce)))).coordinates.flat()),y=_.map(W=>[Ht(Rt(W.geometry.coordinates[0]),J),Be(W)]).filter(W=>W[0]).map(W=>W[1]);l(14,m=[...m,{outline:k({type:"LineString",coordinates:J}),ids:y,stats:ie(y)}])}l(13,x=[])}if(t.$$.dirty[0]&294912&&Ee===void 0&&X.startsWith("congress")&&Oe(),t.$$.dirty[0]&4096|t.$$.dirty[1]&8192&&oe&&!le&&(we(),l(44,le=!0)),t.$$.dirty[0]&458752&&l(24,o=(X.endsWith("_names")?13:16)/((te-410)/je[2])),t.$$.dirty[0]&786433)for(let d=0;d<$.length;d++){const[J,y]=$[d].split(",");J===X&&l(26,Se[$[d]]=ie(c.geometries.filter(({properties:W})=>y===""+W[X])),Se)}},[c,_,w,P,b,f,g,v,k,se,G,H,oe,x,m,Ee,je,te,X,$,s,R,ue,ve,o,r,Se,I,C,A,Y,K,ee,ae,re,Le,me,ne,he,n,a,M,F,Z,le,i,ge,p,Ue,T,O,N,De,$e,We,qe,el,ll,Ge]}class os extends ml{constructor(e){super();bl(this,e,$t,Zt,kl,{topoData:39,obj:0,neighbors:40,data:1,points:2,dynamicVars:3,staticVars:4,tractVars:5,pluralityVars:6,plansMeshes:7,path:8,idToIndex:41},null,[-1,-1,-1,-1])}}export{os as default,ns as load};
