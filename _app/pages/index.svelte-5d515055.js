var Tt=Object.defineProperty,Mt=Object.defineProperties;var Ct=Object.getOwnPropertyDescriptors;var dl=Object.getOwnPropertySymbols;var It=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable;var pl=(l,e,t)=>e in l?Tt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,vl=(l,e)=>{for(var t in e||(e={}))It.call(e,t)&&pl(l,t,e[t]);if(dl)for(var t of dl(e))Ot.call(e,t)&&pl(l,t,e[t]);return l},ml=(l,e)=>Mt(l,Ct(e));import{S as bl,i as kl,s as El,l as ve,f as R,J as Me,K as Ce,a as k,d as f,b,L as Ue,M as me,N as wl,O as fl,P as Ne,Q as Je,R as He,T as Ke,U as be,H as h,t as y,g as U,h as Pe,V as Ie,W as jl,X as Bt,x as ge,r as Qe,u as Oe,w as Xe,Y as Lt,Z as Pl,_ as St,$ as Nt,e as j,c as P,k as A,n as z,a0 as sl,I as nl,j as At,m as zt,o as yt,a1 as Ut,v as Ht,a2 as ul,A as Rt,a3 as Wt,a4 as qt,a5 as Gt,a6 as Ft,a7 as ol,a8 as Dl}from"../chunks/vendor-f9d72692.js";import{b as Ye}from"../chunks/paths-28a87002.js";import{i as Le,u as Jt,r as Vl,c as $e,p as Tl,a as Ve,m as Ze,d as Ml,b as Cl,x as Kt,e as Qt,D as al}from"../chunks/utils-836203e5.js";const _l={black:"#9fd400",hispanic:"#ffaa00",asian:"#ff0000",white:"#73B2FF"},il=["44","99","ee"],Ae=["asian","black","hispanic","white"],Re=["1990_earlier","1990_1999","2000_2009","2010_later"],rl={hhlang:"Proportion of households that speak an Asian language and are LEP",income:"Median household income",graduates:"Proportion of people who graduated >= high school",families:"Proportion of families who receive gov't benefits",asiaentry:"Dominant entry period for Asian families",workers:"Proportion of workers who take public transportation",cvap:"Citizen voting age population by race",pop:"Population by race"},cl=["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26"],xe=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],hl={assembly_letters:134675,assembly_names:134626,senate_letters:320655,senate_names:321190,congress_letters:776971,congress_names:776971};function Il(l,e,t){const s=l.slice();return s[34]=e[t].properties,s[35]=e[t].geometry.coordinates[0],s[36]=e[t].geometry.coordinates[1],s}function Ol(l,e,t){const s=l.slice();return s[39]=e[t].outline,s}function Bl(l,e,t){const s=l.slice();return s[42]=e[t],s[44]=t,s}function Ll(l){let e,t,s,o,r;function a(){return l[29](l[44])}function n(){return l[30](l[42])}function c(){return l[31](l[42])}return{c(){e=Me("path"),this.h()},l(i){e=Ce(i,"path",{d:!0,fill:!0,class:!0}),k(e).forEach(f),this.h()},h(){b(e,"d",t=l[4](l[42])),b(e,"fill",s=l[5](l[42],l[9],l[10],l[8])),b(e,"class","svelte-fth5l8"),Ue(e,"head",l[2][0]===Le(l[42]))},m(i,_){R(i,e,_),o||(r=[me(e,"click",a),me(e,"contextmenu",wl(n)),me(e,"mousemove",wl(c))],o=!0)},p(i,_){l=i,_[0]&24&&t!==(t=l[4](l[42]))&&b(e,"d",t),_[0]&1832&&s!==(s=l[5](l[42],l[9],l[10],l[8]))&&b(e,"fill",s),_[0]&12&&Ue(e,"head",l[2][0]===Le(l[42]))},d(i){i&&f(e),o=!1,fl(r)}}}function Sl(l,e){let t,s,o=e[44]<e[28]&&Ll(e);return{key:l,first:null,c(){t=ve(),o&&o.c(),s=ve(),this.h()},l(r){t=ve(),o&&o.l(r),s=ve(),this.h()},h(){this.first=t},m(r,a){R(r,t,a),o&&o.m(r,a),R(r,s,a)},p(r,a){e=r,e[44]<e[28]?o?o.p(e,a):(o=Ll(e),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(r){r&&f(t),o&&o.d(r),r&&f(s)}}}function Nl(l){let e,t;return{c(){e=Me("path"),this.h()},l(s){e=Ce(s,"path",{class:!0,d:!0}),k(e).forEach(f),this.h()},h(){b(e,"class","mesh-bg svelte-fth5l8"),b(e,"d",t=l[11].includes(l[9])?l[17]:l[18])},m(s,o){R(s,e,o)},p(s,o){o[0]&395776&&t!==(t=s[11].includes(s[9])?s[17]:s[18])&&b(e,"d",t)},d(s){s&&f(e)}}}function Al(l){let e,t,s,o,r=l[13],a=[];for(let n=0;n<r.length;n+=1)a[n]=zl(Ol(l,r,n));return{c(){e=Me("g");for(let n=0;n<a.length;n+=1)a[n].c()},l(n){e=Ce(n,"g",{});var c=k(e);for(let i=0;i<a.length;i+=1)a[i].l(c);c.forEach(f)},m(n,c){R(n,e,c);for(let i=0;i<a.length;i+=1)a[i].m(e,null);o=!0},p(n,c){if(c[0]&8192){r=n[13];let i;for(i=0;i<r.length;i+=1){const _=Ol(n,r,i);a[i]?a[i].p(_,c):(a[i]=zl(_),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},i(n){o||(Ne(()=>{s&&s.end(1),t=Je(e,He,{}),t.start()}),o=!0)},o(n){t&&t.invalidate(),s=Ke(e,He,{}),o=!1},d(n){n&&f(e),be(a,n),n&&s&&s.end()}}}function zl(l){let e,t;return{c(){e=Me("path"),this.h()},l(s){e=Ce(s,"path",{class:!0,d:!0}),k(e).forEach(f),this.h()},h(){b(e,"class","mesh-community svelte-fth5l8"),b(e,"d",t=l[39])},m(s,o){R(s,e,o)},p(s,o){o[0]&8192&&t!==(t=s[39])&&b(e,"d",t)},d(s){s&&f(e)}}}function yl(l){let e,t,s,o,r,a;return{c(){e=Me("g"),t=Me("path"),this.h()},l(n){e=Ce(n,"g",{});var c=k(e);t=Ce(c,"path",{class:!0,d:!0}),k(t).forEach(f),c.forEach(f),this.h()},h(){b(t,"class","mesh-district svelte-fth5l8"),b(t,"d",s=((l[15].startsWith("congress")?l[23]:l[24])||{})[l[15]]),Ue(t,"showPluralities",l[8])},m(n,c){R(n,e,c),h(e,t),a=!0},p(n,c){(!a||c[0]&25198592&&s!==(s=((n[15].startsWith("congress")?n[23]:n[24])||{})[n[15]]))&&b(t,"d",s),c[0]&256&&Ue(t,"showPluralities",n[8])},i(n){a||(Ne(()=>{r&&r.end(1),o=Je(e,He,{}),o.start()}),a=!0)},o(n){o&&o.invalidate(),r=Ke(e,He,{}),a=!1},d(n){n&&f(e),n&&r&&r.end()}}}function Ul(l){let e,t,s,o,r,a;return{c(){e=Me("g"),t=Me("path"),this.h()},l(n){e=Ce(n,"g",{});var c=k(e);t=Ce(c,"path",{class:!0,d:!0}),k(t).forEach(f),c.forEach(f),this.h()},h(){b(t,"class","mesh-district svelte-fth5l8"),b(t,"d",s=l[4](l[19](l[32],l[21])))},m(n,c){R(n,e,c),h(e,t),a=!0},p(n,c){(!a||c[0]&2654224&&s!==(s=n[4](n[19](n[32],n[21]))))&&b(t,"d",s)},i(n){a||(Ne(()=>{r&&r.end(1),o=Je(e,He,{}),o.start()}),a=!0)},o(n){o&&o.invalidate(),r=Ke(e,He,{}),a=!1},d(n){n&&f(e),n&&r&&r.end()}}}function Hl(l){let e,t,s,o,r=l[16],a=[];for(let n=0;n<r.length;n+=1)a[n]=Wl(Il(l,r,n));return{c(){e=Me("g");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=Ce(n,"g",{class:!0});var c=k(e);for(let i=0;i<a.length;i+=1)a[i].l(c);c.forEach(f),this.h()},h(){b(e,"class","labels svelte-fth5l8")},m(n,c){R(n,e,c);for(let i=0;i<a.length;i+=1)a[i].m(e,null);o=!0},p(n,c){if(c[0]&5341184){r=n[16];let i;for(i=0;i<r.length;i+=1){const _=Il(n,r,i);a[i]?a[i].p(_,c):(a[i]=Wl(_),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},i(n){o||(Ne(()=>{s&&s.end(1),t=Je(e,He,{}),t.start()}),o=!0)},o(n){t&&t.invalidate(),s=Ke(e,He,{}),o=!1},d(n){n&&f(e),be(a,n),n&&s&&s.end()}}}function Rl(l){let e,t=l[34][l[15]]+"",s,o,r,a,n;function c(){return l[33](l[34])}return{c(){e=Me("text"),s=y(t),this.h()},l(i){e=Ce(i,"text",{x:!0,y:!0,class:!0});var _=k(e);s=U(_,t),_.forEach(f),this.h()},h(){b(e,"x",o=l[35]),b(e,"y",r=l[36]),b(e,"class","svelte-fth5l8"),Ue(e,"chosen",l[20].includes(`${l[15]},${l[34][l[15]]}`))},m(i,_){R(i,e,_),h(e,s),a||(n=me(e,"click",c),a=!0)},p(i,_){l=i,_[0]&98304&&t!==(t=l[34][l[15]]+"")&&Pe(s,t),_[0]&65536&&o!==(o=l[35])&&b(e,"x",o),_[0]&65536&&r!==(r=l[36])&&b(e,"y",r),_[0]&1146880&&Ue(e,"chosen",l[20].includes(`${l[15]},${l[34][l[15]]}`))},d(i){i&&f(e),a=!1,n()}}}function Wl(l){let e,t=l[15]in l[34]&&Rl(l);return{c(){t&&t.c(),e=ve()},l(s){t&&t.l(s),e=ve()},m(s,o){t&&t.m(s,o),R(s,e,o)},p(s,o){s[15]in s[34]?t?t.p(s,o):(t=Rl(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&f(e)}}}function Xt(l){let e,t,s=[],o=new Map,r,a,n,c,i,_,D,T,w,u=l[3];const d=L=>Le(L[42]);for(let L=0;L<u.length;L+=1){let S=Bl(l,u,L),Y=d(S);o.set(Y,s[L]=Sl(Y,S))}let g=l[18]&&Nl(l),E=l[12]&&Al(l),V=l[14]&&!l[6]&&yl(l),I=l[6]&&Ul(l),O=(l[14]||l[6])&&Hl(l);return{c(){e=Me("svg"),t=Me("g");for(let L=0;L<s.length;L+=1)s[L].c();r=Me("g"),g&&g.c(),a=ve(),E&&E.c(),n=ve(),V&&V.c(),c=ve(),I&&I.c(),i=ve(),O&&O.c(),this.h()},l(L){e=Ce(L,"svg",{viewBox:!0,style:!0,class:!0});var S=k(e);t=Ce(S,"g",{class:!0});var Y=k(t);for(let ae=0;ae<s.length;ae+=1)s[ae].l(Y);Y.forEach(f),r=Ce(S,"g",{class:!0});var Q=k(r);g&&g.l(Q),a=ve(),E&&E.l(Q),n=ve(),V&&V.l(Q),c=ve(),I&&I.l(Q),i=ve(),O&&O.l(Q),Q.forEach(f),S.forEach(f),this.h()},h(){b(t,"class","block-groups svelte-fth5l8"),b(r,"class","meshes svelte-fth5l8"),b(e,"viewBox",_=l[0].join(" ")),Ie(e,"--font-size",(l[1]||11)+"px"),b(e,"class","svelte-fth5l8")},m(L,S){R(L,e,S),h(e,t);for(let Y=0;Y<s.length;Y+=1)s[Y].m(t,null);h(e,r),g&&g.m(r,null),h(r,a),E&&E.m(r,null),h(r,n),V&&V.m(r,null),h(r,c),I&&I.m(r,null),h(r,i),O&&O.m(r,null),D=!0,T||(w=[me(e,"mousedown",function(){jl(l[25])&&l[25].apply(this,arguments)}),me(e,"mouseup",function(){jl(l[26])&&l[26].apply(this,arguments)})],T=!0)},p(L,S){l=L,S[0]&402655228&&(u=l[3],s=Bt(s,S,d,1,l,u,o,t,Lt,Sl,null,Bl)),l[18]?g?g.p(l,S):(g=Nl(l),g.c(),g.m(r,a)):g&&(g.d(1),g=null),l[12]?E?(E.p(l,S),S[0]&4096&&ge(E,1)):(E=Al(l),E.c(),ge(E,1),E.m(r,n)):E&&(Qe(),Oe(E,1,1,()=>{E=null}),Xe()),l[14]&&!l[6]?V?(V.p(l,S),S[0]&16448&&ge(V,1)):(V=yl(l),V.c(),ge(V,1),V.m(r,c)):V&&(Qe(),Oe(V,1,1,()=>{V=null}),Xe()),l[6]?I?(I.p(l,S),S[0]&64&&ge(I,1)):(I=Ul(l),I.c(),ge(I,1),I.m(r,i)):I&&(Qe(),Oe(I,1,1,()=>{I=null}),Xe()),l[14]||l[6]?O?(O.p(l,S),S[0]&16448&&ge(O,1)):(O=Hl(l),O.c(),ge(O,1),O.m(r,null)):O&&(Qe(),Oe(O,1,1,()=>{O=null}),Xe()),(!D||S[0]&1&&_!==(_=l[0].join(" ")))&&b(e,"viewBox",_),(!D||S[0]&2)&&Ie(e,"--font-size",(l[1]||11)+"px")},i(L){D||(ge(E),ge(V),ge(I),ge(O),D=!0)},o(L){Oe(E),Oe(V),Oe(I),Oe(O),D=!1},d(L){L&&f(e);for(let S=0;S<s.length;S+=1)s[S].d();g&&g.d(),E&&E.d(),V&&V.d(),I&&I.d(),O&&O.d(),T=!1,fl(w)}}}function Yt(l,e,t){let{viewBox:s,labelSize:o,draggedBgs:r,data:a,path:n,color:c,changingLines:i,neighbor:_,showPluralities:D,metric:T,period:w,tractVars:u,showComms:d,drawings:g,showPlans:E,plan:V,points:I,tractMesh:O,bgMesh:L,mesh:S,aggregates:Y,obj:Q,handleLabelClick:ae,congressMeshes:Z,plansMeshes:H,startDrag:W,endDrag:G,handleMouseMove:K,viewCutoff:oe}=e;const ue=m=>i&&_(m),$=m=>console.log(m.properties),_e=m=>K(m),re=(m,Ee)=>m.properties[V]!==Ee.properties[V],le=m=>ae(`${V},${m[V]}`);return l.$$set=m=>{"viewBox"in m&&t(0,s=m.viewBox),"labelSize"in m&&t(1,o=m.labelSize),"draggedBgs"in m&&t(2,r=m.draggedBgs),"data"in m&&t(3,a=m.data),"path"in m&&t(4,n=m.path),"color"in m&&t(5,c=m.color),"changingLines"in m&&t(6,i=m.changingLines),"neighbor"in m&&t(7,_=m.neighbor),"showPluralities"in m&&t(8,D=m.showPluralities),"metric"in m&&t(9,T=m.metric),"period"in m&&t(10,w=m.period),"tractVars"in m&&t(11,u=m.tractVars),"showComms"in m&&t(12,d=m.showComms),"drawings"in m&&t(13,g=m.drawings),"showPlans"in m&&t(14,E=m.showPlans),"plan"in m&&t(15,V=m.plan),"points"in m&&t(16,I=m.points),"tractMesh"in m&&t(17,O=m.tractMesh),"bgMesh"in m&&t(18,L=m.bgMesh),"mesh"in m&&t(19,S=m.mesh),"aggregates"in m&&t(20,Y=m.aggregates),"obj"in m&&t(21,Q=m.obj),"handleLabelClick"in m&&t(22,ae=m.handleLabelClick),"congressMeshes"in m&&t(23,Z=m.congressMeshes),"plansMeshes"in m&&t(24,H=m.plansMeshes),"startDrag"in m&&t(25,W=m.startDrag),"endDrag"in m&&t(26,G=m.endDrag),"handleMouseMove"in m&&t(27,K=m.handleMouseMove),"viewCutoff"in m&&t(28,oe=m.viewCutoff)},[s,o,r,a,n,c,i,_,D,T,w,u,d,g,E,V,I,O,L,S,Y,Q,ae,Z,H,W,G,K,oe,ue,$,_e,re,le]}class Zt extends bl{constructor(e){super();kl(this,e,Yt,Xt,El,{viewBox:0,labelSize:1,draggedBgs:2,data:3,path:4,color:5,changingLines:6,neighbor:7,showPluralities:8,metric:9,period:10,tractVars:11,showComms:12,drawings:13,showPlans:14,plan:15,points:16,tractMesh:17,bgMesh:18,mesh:19,aggregates:20,obj:21,handleLabelClick:22,congressMeshes:23,plansMeshes:24,startDrag:25,endDrag:26,handleMouseMove:27,viewCutoff:28},null,[-1,-1])}}function ql(l,e,t){const s=l.slice();return s[65]=e[t],s}function Gl(l,e,t){const s=l.slice();return s[68]=e[t].name,s[28]=e[t].stats,s[70]=t,s}function Fl(l,e,t){const s=l.slice();return s[71]=e[t],s}function Jl(l,e,t){const s=l.slice();return s[74]=e[t],s}function Kl(l,e,t){const s=l.slice();return s[71]=e[t],s}function Ql(l,e,t){const s=l.slice();return s[79]=e[t],s}function Xl(l,e,t){const s=l.slice();return s[82]=e[t],s}function Yl(l,e,t){const s=l.slice();return s[95]=e[t],s[70]=t,s}function Zl(l,e,t){const s=l.slice();return s[95]=e[t],s[70]=t,s}function xl(l,e,t){const s=l.slice();return s[91]=e[t],s}function $l(l,e,t){const s=l.slice();return s[91]=e[t],s[70]=t,s}function et(l,e,t){const s=l.slice();return s[85]=e[t],s}function lt(l,e,t){const s=l.slice();return s[88]=e[t],s}function tt(l,e,t){const s=l.slice();return s[91]=e[t],s}function st(l,e,t){const s=l.slice();return s[65]=e[t],s}function nt(l,e,t){const s=l.slice();return s[65]=e[t],s}function ot(l){let e,t=(rl[l[65]]||l[65])+"",s,o;return{c(){e=j("option"),s=y(t),this.h()},l(r){e=P(r,"OPTION",{});var a=k(e);s=U(a,t),a.forEach(f),this.h()},h(){e.__value=o=l[65],e.value=e.__value},m(r,a){R(r,e,a),h(e,s)},p(r,a){a[0]&8&&t!==(t=(rl[r[65]]||r[65])+"")&&Pe(s,t),a[0]&8&&o!==(o=r[65])&&(e.__value=o,e.value=e.__value)},d(r){r&&f(e)}}}function at(l){let e,t=(rl[l[65]]||l[65])+"",s,o;return{c(){e=j("option"),s=y(t),this.h()},l(r){e=P(r,"OPTION",{});var a=k(e);s=U(a,t),a.forEach(f),this.h()},h(){e.__value=o=l[65],e.value=e.__value},m(r,a){R(r,e,a),h(e,s)},p(r,a){a[0]&16&&t!==(t=(rl[r[65]]||r[65])+"")&&Pe(s,t),a[0]&16&&o!==(o=r[65])&&(e.__value=o,e.value=e.__value)},d(r){r&&f(e)}}}function it(l){let e,t=["past","present"],s=[];for(let o=0;o<2;o+=1)s[o]=rt(tt(l,t,o));return{c(){for(let o=0;o<2;o+=1)s[o].c();e=ve()},l(o){for(let r=0;r<2;r+=1)s[r].l(o);e=ve()},m(o,r){for(let a=0;a<2;a+=1)s[a].m(o,r);R(o,e,r)},p(o,r){if(r[0]&256){t=["past","present"];let a;for(a=0;a<2;a+=1){const n=tt(o,t,a);s[a]?s[a].p(n,r):(s[a]=rt(n),s[a].c(),s[a].m(e.parentNode,e))}for(;a<2;a+=1)s[a].d(1)}},d(o){be(s,o),o&&f(e)}}}function rt(l){let e,t,s,o=$e(l[91])+"",r,a,n,c;return{c(){e=j("label"),t=j("input"),s=A(),r=y(o),a=A(),this.h()},l(i){e=P(i,"LABEL",{});var _=k(e);t=P(_,"INPUT",{type:!0,name:!0}),s=z(_),r=U(_,o),a=z(_),_.forEach(f),this.h()},h(){b(t,"type","radio"),b(t,"name","period"),t.__value=l[91],t.value=t.__value,l[49][0].push(t)},m(i,_){R(i,e,_),h(e,t),t.checked=t.__value===l[8],h(e,s),h(e,r),h(e,a),n||(c=me(t,"change",l[48]),n=!0)},p(i,_){_[0]&256&&(t.checked=t.__value===i[8])},d(i){i&&f(e),l[49][0].splice(l[49][0].indexOf(t),1),n=!1,c()}}}function ct(l){let e,t,s=(l[10]?"pct. asian":"pluralities")+"",o,r,a;return{c(){e=j("button"),t=y("Show "),o=y(s),this.h()},l(n){e=P(n,"BUTTON",{class:!0});var c=k(e);t=U(c,"Show "),o=U(c,s),c.forEach(f),this.h()},h(){b(e,"class","plurality-toggle svelte-1xj2c1h")},m(n,c){R(n,e,c),h(e,t),h(e,o),r||(a=me(e,"click",l[50]),r=!0)},p(n,c){c[0]&1024&&s!==(s=(n[10]?"pct. asian":"pluralities")+"")&&Pe(o,s)},d(n){n&&f(e),r=!1,a()}}}function xt(l){let e,t,s=l[27],o=[];for(let n=0;n<s.length;n+=1)o[n]=ht(Zl(l,s,n));let r=l[27],a=[];for(let n=0;n<r.length;n+=1)a[n]=ft(Yl(l,r,n));return{c(){e=j("div");for(let n=0;n<o.length;n+=1)o[n].c();t=A();for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=P(n,"DIV",{class:!0,style:!0});var c=k(e);for(let i=0;i<o.length;i+=1)o[i].l(c);t=z(c);for(let i=0;i<a.length;i+=1)a[i].l(c);c.forEach(f),this.h()},h(){b(e,"class","color-legend svelte-1xj2c1h"),Ie(e,"grid-template-columns","repeat("+(l[3].includes(l[9])?5:6)+", 40px)"),Ue(e,"pctasian",l[3].includes(l[9]))},m(n,c){R(n,e,c);for(let i=0;i<o.length;i+=1)o[i].m(e,null);h(e,t);for(let i=0;i<a.length;i+=1)a[i].m(e,null)},p(n,c){if(c[0]&134218248){s=n[27];let i;for(i=0;i<s.length;i+=1){const _=Zl(n,s,i);o[i]?o[i].p(_,c):(o[i]=ht(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}if(c[0]&134218248){r=n[27];let i;for(i=0;i<r.length;i+=1){const _=Yl(n,r,i);a[i]?a[i].p(_,c):(a[i]=ft(_),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}c[0]&520&&Ie(e,"grid-template-columns","repeat("+(n[3].includes(n[9])?5:6)+", 40px)"),c[0]&520&&Ue(e,"pctasian",n[3].includes(n[9]))},d(n){n&&f(e),be(o,n),be(a,n)}}}function $t(l){let e,t,s=Re,o=[];for(let n=0;n<s.length;n+=1)o[n]=ut($l(l,s,n));let r=Re,a=[];for(let n=0;n<r.length;n+=1)a[n]=_t(xl(l,r,n));return{c(){e=j("div");for(let n=0;n<o.length;n+=1)o[n].c();t=A();for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=P(n,"DIV",{class:!0});var c=k(e);for(let i=0;i<o.length;i+=1)o[i].l(c);t=z(c);for(let i=0;i<a.length;i+=1)a[i].l(c);c.forEach(f),this.h()},h(){b(e,"class","color-legend plurality-legend svelte-1xj2c1h")},m(n,c){R(n,e,c);for(let i=0;i<o.length;i+=1)o[i].m(e,null);h(e,t);for(let i=0;i<a.length;i+=1)a[i].m(e,null)},p(n,c){if(c&0){s=Re;let i;for(i=0;i<s.length;i+=1){const _=$l(n,s,i);o[i]?o[i].p(_,c):(o[i]=ut(_),o[i].c(),o[i].m(e,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}if(c&0){r=Re;let i;for(i=0;i<r.length;i+=1){const _=xl(n,r,i);a[i]?a[i].p(_,c):(a[i]=_t(_),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(n){n&&f(e),be(o,n),be(a,n)}}}function es(l){let e,t,s,o,r,a,n,c,i,_,D,T,w=Ae,u=[];for(let d=0;d<w.length;d+=1)u[d]=dt(et(l,w,d));return{c(){e=j("div");for(let d=0;d<u.length;d+=1)u[d].c();t=A(),s=j("p"),o=j("span"),r=y("Weak plurality"),a=A(),n=j("p"),c=A(),i=j("p"),_=y("Majority"),D=A(),T=j("p"),this.h()},l(d){e=P(d,"DIV",{class:!0});var g=k(e);for(let O=0;O<u.length;O+=1)u[O].l(g);t=z(g),s=P(g,"P",{class:!0});var E=k(s);o=P(E,"SPAN",{});var V=k(o);r=U(V,"Weak plurality"),V.forEach(f),E.forEach(f),a=z(g),n=P(g,"P",{class:!0}),k(n).forEach(f),c=z(g),i=P(g,"P",{class:!0});var I=k(i);_=U(I,"Majority"),I.forEach(f),D=z(g),T=P(g,"P",{class:!0}),k(T).forEach(f),g.forEach(f),this.h()},h(){b(s,"class","col-head svelte-1xj2c1h"),b(n,"class","col-head svelte-1xj2c1h"),b(i,"class","col-head svelte-1xj2c1h"),b(T,"class","col-head svelte-1xj2c1h"),b(e,"class","legend svelte-1xj2c1h")},m(d,g){R(d,e,g);for(let E=0;E<u.length;E+=1)u[E].m(e,null);h(e,t),h(e,s),h(s,o),h(o,r),h(e,a),h(e,n),h(e,c),h(e,i),h(i,_),h(e,D),h(e,T)},p(d,g){if(g&0){w=Ae;let E;for(E=0;E<w.length;E+=1){const V=et(d,w,E);u[E]?u[E].p(V,g):(u[E]=dt(V),u[E].c(),u[E].m(e,t))}for(;E<u.length;E+=1)u[E].d(1);u.length=w.length}},d(d){d&&f(e),be(u,d)}}}function ht(l){let e;return{c(){e=j("div"),this.h()},l(t){e=P(t,"DIV",{style:!0}),k(e).forEach(f),this.h()},h(){Ie(e,"background-color",l[3].includes(l[9])?cl[l[70]]:xe[l[70]])},m(t,s){R(t,e,s)},p(t,s){s[0]&520&&Ie(e,"background-color",t[3].includes(t[9])?cl[t[70]]:xe[t[70]])},d(t){t&&f(e)}}}function ft(l){let e,t=(l[27][l[27].length-1]<1?Ve(l[95],0):l[27][l[27].length-1]>1e3?Ze(l[95]):l[95])+(l[3].includes(l[9])&&l[70]===l[27].length-1?" Asian":"")+"",s,o;return{c(){e=j("p"),s=y(t),o=A(),this.h()},l(r){e=P(r,"P",{class:!0});var a=k(e);s=U(a,t),o=z(a),a.forEach(f),this.h()},h(){b(e,"class","svelte-1xj2c1h")},m(r,a){R(r,e,a),h(e,s),h(e,o)},p(r,a){a[0]&134218248&&t!==(t=(r[27][r[27].length-1]<1?Ve(r[95],0):r[27][r[27].length-1]>1e3?Ze(r[95]):r[95])+(r[3].includes(r[9])&&r[70]===r[27].length-1?" Asian":"")+"")&&Pe(s,t)},d(r){r&&f(e)}}}function ut(l){let e;return{c(){e=j("div"),this.h()},l(t){e=P(t,"DIV",{style:!0}),k(e).forEach(f),this.h()},h(){Ie(e,"background-color",xe[l[70]])},m(t,s){R(t,e,s)},p:nl,d(t){t&&f(e)}}}function _t(l){let e,t=l[91].replace("_","-")+"",s;return{c(){e=j("p"),s=y(t),this.h()},l(o){e=P(o,"P",{class:!0});var r=k(e);s=U(r,t),r.forEach(f),this.h()},h(){b(e,"class","svelte-1xj2c1h")},m(o,r){R(o,e,r),h(e,s)},p:nl,d(o){o&&f(e)}}}function gt(l){let e;return{c(){e=j("div"),this.h()},l(t){e=P(t,"DIV",{style:!0}),k(e).forEach(f),this.h()},h(){Ie(e,"background-color",_l[l[85]]+l[88])},m(t,s){R(t,e,s)},p:nl,d(t){t&&f(e)}}}function dt(l){let e,t,s=$e(l[85])+"",o,r=il,a=[];for(let n=0;n<r.length;n+=1)a[n]=gt(lt(l,r,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=A(),t=j("p"),o=y(s),this.h()},l(n){for(let i=0;i<a.length;i+=1)a[i].l(n);e=z(n),t=P(n,"P",{class:!0});var c=k(t);o=U(c,s),c.forEach(f),this.h()},h(){b(t,"class","row-label svelte-1xj2c1h")},m(n,c){for(let i=0;i<a.length;i+=1)a[i].m(n,c);R(n,e,c),R(n,t,c),h(t,o)},p(n,c){if(c&0){r=il;let i;for(i=0;i<r.length;i+=1){const _=lt(n,r,i);a[i]?a[i].p(_,c):(a[i]=gt(_),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(n){be(a,n),n&&f(e),n&&f(t)}}}function pt(l){let e,t,s,o,r,a,n,c,i,_=["assembly","senate","congress"],D=[];for(let u=0;u<3;u+=1)D[u]=mt(Ql(l,_,u));let T=l[18],w=[];for(let u=0;u<T.length;u+=1)w[u]=Et(Jl(l,T,u));return{c(){e=j("div"),t=j("div"),s=j("select");for(let u=0;u<3;u+=1)D[u].c();o=A();for(let u=0;u<w.length;u+=1)w[u].c();this.h()},l(u){e=P(u,"DIV",{class:!0});var d=k(e);t=P(d,"DIV",{class:!0});var g=k(t);s=P(g,"SELECT",{class:!0});var E=k(s);for(let V=0;V<3;V+=1)D[V].l(E);E.forEach(f),g.forEach(f),o=z(d);for(let V=0;V<w.length;V+=1)w[V].l(d);d.forEach(f),this.h()},h(){b(s,"class","svelte-1xj2c1h"),l[17]===void 0&&Ne(()=>l[53].call(s)),b(t,"class","plan-selector svelte-1xj2c1h"),b(e,"class","svelte-1xj2c1h")},m(u,d){R(u,e,d),h(e,t),h(t,s);for(let g=0;g<3;g+=1)D[g].m(s,null);sl(s,l[17]),h(e,o);for(let g=0;g<w.length;g+=1)w[g].m(e,null);n=!0,c||(i=me(s,"change",l[53]),c=!0)},p(u,d){if(d&0){_=["assembly","senate","congress"];let g;for(g=0;g<3;g+=1){const E=Ql(u,_,g);D[g]?D[g].p(E,d):(D[g]=mt(E),D[g].c(),D[g].m(s,null))}for(;g<3;g+=1)D[g].d(1)}if(d[0]&131072&&sl(s,u[17]),d[0]&302383104|d[1]&32){T=u[18];let g;for(g=0;g<T.length;g+=1){const E=Jl(u,T,g);w[g]?w[g].p(E,d):(w[g]=Et(E),w[g].c(),w[g].m(e,null))}for(;g<w.length;g+=1)w[g].d(1);w.length=T.length}},i(u){n||(Ne(()=>{a&&a.end(1),r=Je(e,ol,{}),r.start()}),n=!0)},o(u){r&&r.invalidate(),a=Ke(e,ol,{}),n=!1},d(u){u&&f(e),be(D,u),be(w,u),u&&a&&a.end(),c=!1,i()}}}function vt(l){let e,t=Qt(l[79]+l[82])+"",s,o;return{c(){e=j("option"),s=y(t),this.h()},l(r){e=P(r,"OPTION",{});var a=k(e);s=U(a,t),a.forEach(f),this.h()},h(){e.__value=o=l[79]+l[82],e.value=e.__value},m(r,a){R(r,e,a),h(e,s)},p:nl,d(r){r&&f(e)}}}function mt(l){let e,t=["","_letters","_names"],s=[];for(let o=0;o<3;o+=1)s[o]=vt(Xl(l,t,o));return{c(){e=j("optgroup");for(let o=0;o<3;o+=1)s[o].c();this.h()},l(o){e=P(o,"OPTGROUP",{label:!0});var r=k(e);for(let a=0;a<3;a+=1)s[a].l(r);r.forEach(f),this.h()},h(){b(e,"label",$e(l[79]))},m(o,r){R(o,e,r);for(let a=0;a<3;a+=1)s[a].m(e,null)},p(o,r){if(r&0){t=["","_letters","_names"];let a;for(a=0;a<3;a+=1){const n=Xl(o,t,a);s[a]?s[a].p(n,r):(s[a]=vt(n),s[a].c(),s[a].m(e,null))}for(;a<3;a+=1)s[a].d(1)}},d(o){o&&f(e),be(s,o)}}}function bt(l){let e,t,s,o=Tl(l[74])+"",r,a,n,c,i,_,D,T,w,u,d,g,E,V,I,O=Ze(l[28][l[74]].income)+(l[25]&&l[17]in hl?"; "+Ml(l[28][l[74]].pop20_total-hl[l[17]]):"")+"",L,S,Y,Q;function ae(){return l[54](l[74])}let Z=Ae,H=[];for(let W=0;W<Z.length;W+=1)H[W]=kt(Kl(l,Z,W));return{c(){e=j("div"),t=j("p"),s=j("i"),r=y(o),a=A(),n=j("table"),c=j("tr"),i=j("th"),_=A(),D=j("th"),T=y("CVAP"),w=A(),u=j("th"),d=y("Pop."),g=A();for(let W=0;W<H.length;W+=1)H[W].c();E=A(),V=j("p"),I=y("Income: "),L=y(O),S=A(),this.h()},l(W){e=P(W,"DIV",{class:!0});var G=k(e);t=P(G,"P",{class:!0});var K=k(t);s=P(K,"I",{});var oe=k(s);r=U(oe,o),oe.forEach(f),K.forEach(f),a=z(G),n=P(G,"TABLE",{class:!0});var ue=k(n);c=P(ue,"TR",{class:!0});var $=k(c);i=P($,"TH",{class:!0}),k(i).forEach(f),_=z($),D=P($,"TH",{class:!0});var _e=k(D);T=U(_e,"CVAP"),_e.forEach(f),w=z($),u=P($,"TH",{class:!0});var re=k(u);d=U(re,"Pop."),re.forEach(f),$.forEach(f),g=z(ue);for(let m=0;m<H.length;m+=1)H[m].l(ue);ue.forEach(f),E=z(G),V=P(G,"P",{class:!0});var le=k(V);I=U(le,"Income: "),L=U(le,O),le.forEach(f),S=z(G),G.forEach(f),this.h()},h(){b(t,"class","svelte-1xj2c1h"),b(i,"class","svelte-1xj2c1h"),b(D,"class","svelte-1xj2c1h"),b(u,"class","svelte-1xj2c1h"),b(c,"class","svelte-1xj2c1h"),b(n,"class","svelte-1xj2c1h"),b(V,"class","table-footer svelte-1xj2c1h"),b(e,"class","district-aggregate svelte-1xj2c1h")},m(W,G){R(W,e,G),h(e,t),h(t,s),h(s,r),h(e,a),h(e,n),h(n,c),h(c,i),h(c,_),h(c,D),h(D,T),h(c,w),h(c,u),h(u,d),h(n,g);for(let K=0;K<H.length;K+=1)H[K].m(n,null);h(e,E),h(e,V),h(V,I),h(V,L),h(e,S),Y||(Q=me(t,"click",ae),Y=!0)},p(W,G){if(l=W,G[0]&262144&&o!==(o=Tl(l[74])+"")&&Pe(r,o),G[0]&268697600){Z=Ae;let K;for(K=0;K<Z.length;K+=1){const oe=Kl(l,Z,K);H[K]?H[K].p(oe,G):(H[K]=kt(oe),H[K].c(),H[K].m(n,null))}for(;K<H.length;K+=1)H[K].d(1);H.length=Z.length}G[0]&302383104&&O!==(O=Ze(l[28][l[74]].income)+(l[25]&&l[17]in hl?"; "+Ml(l[28][l[74]].pop20_total-hl[l[17]]):"")+"")&&Pe(L,O)},d(W){W&&f(e),be(H,W),Y=!1,Q()}}}function kt(l){let e,t,s=$e(l[71])+"",o,r,a,n=Ve(l[28][l[74]]["cvap19"+l[71]])+"",c,i,_,D=Ve(l[28][l[74]]["pop20"+l[71]])+"",T,w;return{c(){e=j("tr"),t=j("td"),o=y(s),r=A(),a=j("td"),c=y(n),i=A(),_=j("td"),T=y(D),w=A(),this.h()},l(u){e=P(u,"TR",{class:!0});var d=k(e);t=P(d,"TD",{class:!0});var g=k(t);o=U(g,s),g.forEach(f),r=z(d),a=P(d,"TD",{class:!0});var E=k(a);c=U(E,n),E.forEach(f),i=z(d),_=P(d,"TD",{class:!0});var V=k(_);T=U(V,D),V.forEach(f),w=z(d),d.forEach(f),this.h()},h(){b(t,"class","svelte-1xj2c1h"),b(a,"class","svelte-1xj2c1h"),b(_,"class","svelte-1xj2c1h"),b(e,"class","svelte-1xj2c1h")},m(u,d){R(u,e,d),h(e,t),h(t,o),h(e,r),h(e,a),h(a,c),h(e,i),h(e,_),h(_,T),h(e,w)},p(u,d){d[0]&268697600&&n!==(n=Ve(u[28][u[74]]["cvap19"+u[71]])+"")&&Pe(c,n),d[0]&268697600&&D!==(D=Ve(u[28][u[74]]["pop20"+u[71]])+"")&&Pe(T,D)},d(u){u&&f(e)}}}function Et(l){let e=l[74].split(",")[0].split("_")[0]===l[17].split("_")[0],t,s=e&&bt(l);return{c(){s&&s.c(),t=ve()},l(o){s&&s.l(o),t=ve()},m(o,r){s&&s.m(o,r),R(o,t,r)},p(o,r){r[0]&393216&&(e=o[74].split(",")[0].split("_")[0]===o[17].split("_")[0]),e?s?s.p(o,r):(s=bt(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){s&&s.d(o),o&&f(t)}}}function wt(l){let e,t,s,o,r,a,n,c,i,_,D=l[13],T=[];for(let w=0;w<D.length;w+=1)T[w]=Pt(Gl(l,D,w));return{c(){e=j("div");for(let w=0;w<T.length;w+=1)T[w].c();t=A(),s=j("button"),o=j("b"),r=y("[SAVE]"),this.h()},l(w){e=P(w,"DIV",{class:!0});var u=k(e);for(let E=0;E<T.length;E+=1)T[E].l(u);t=z(u),s=P(u,"BUTTON",{style:!0});var d=k(s);o=P(d,"B",{});var g=k(o);r=U(g,"[SAVE]"),g.forEach(f),d.forEach(f),u.forEach(f),this.h()},h(){Ie(s,"font-size","13px"),b(e,"class","community svelte-1xj2c1h")},m(w,u){R(w,e,u);for(let d=0;d<T.length;d+=1)T[d].m(e,null);h(e,t),h(e,s),h(s,o),h(o,r),c=!0,i||(_=me(s,"click",l[34]),i=!0)},p(w,u){if(u[0]&8192|u[1]&4){D=w[13];let d;for(d=0;d<D.length;d+=1){const g=Gl(w,D,d);T[d]?T[d].p(g,u):(T[d]=Pt(g),T[d].c(),T[d].m(e,t))}for(;d<T.length;d+=1)T[d].d(1);T.length=D.length}},i(w){c||(Ne(()=>{n&&n.end(1),a=Je(e,ol,{}),a.start()}),c=!0)},o(w){a&&a.invalidate(),n=Ke(e,ol,{}),c=!1},d(w){w&&f(e),be(T,w),w&&n&&n.end(),i=!1,_()}}}function jt(l){let e,t,s=$e(l[71])+"",o,r,a,n=Ve(l[28]["cvap19"+l[71]])+"",c,i,_,D=Ve(l[28]["pop20"+l[71]])+"",T,w;return{c(){e=j("tr"),t=j("td"),o=y(s),r=A(),a=j("td"),c=y(n),i=A(),_=j("td"),T=y(D),w=A(),this.h()},l(u){e=P(u,"TR",{class:!0});var d=k(e);t=P(d,"TD",{class:!0});var g=k(t);o=U(g,s),g.forEach(f),r=z(d),a=P(d,"TD",{class:!0});var E=k(a);c=U(E,n),E.forEach(f),i=z(d),_=P(d,"TD",{class:!0});var V=k(_);T=U(V,D),V.forEach(f),w=z(d),d.forEach(f),this.h()},h(){b(t,"class","svelte-1xj2c1h"),b(a,"class","svelte-1xj2c1h"),b(_,"class","svelte-1xj2c1h"),b(e,"class","svelte-1xj2c1h")},m(u,d){R(u,e,d),h(e,t),h(t,o),h(e,r),h(e,a),h(a,c),h(e,i),h(e,_),h(_,T),h(e,w)},p(u,d){d[0]&8192&&n!==(n=Ve(u[28]["cvap19"+u[71]])+"")&&Pe(c,n),d[0]&8192&&D!==(D=Ve(u[28]["pop20"+u[71]])+"")&&Pe(T,D)},d(u){u&&f(e)}}}function Pt(l){let e,t,s,o=(l[68]||"COI"+(l[70]+1))+"",r,a,n,c,i,_,D,T,w,u,d,g,E,V,I,O,L,S,Y=Ze(l[28].income)+"",Q,ae,Z,H,W=Ve(l[28].hhlang)+"",G,K,oe,ue,$=Ve(l[28].benefits)+"",_e,re,le;function m(){return l[57](l[70])}let Ee=Ae,he=[];for(let x=0;x<Ee.length;x+=1)he[x]=jt(Fl(l,Ee,x));return{c(){e=j("div"),t=j("p"),s=j("i"),r=y(o),a=A(),n=j("button"),c=y("\u{1F5D1}"),i=A(),_=j("table"),D=j("tr"),T=j("th"),w=A(),u=j("th"),d=y("CVAP"),g=A(),E=j("th"),V=y("Pop."),I=A();for(let x=0;x<he.length;x+=1)he[x].c();O=A(),L=j("p"),S=y("Income: "),Q=y(Y),ae=A(),Z=j("p"),H=y("Asian and LEP: "),G=y(W),K=A(),oe=j("p"),ue=y("Pct. gov't benefits: "),_e=y($),this.h()},l(x){e=P(x,"DIV",{class:!0});var te=k(e);t=P(te,"P",{class:!0});var se=k(t);s=P(se,"I",{});var we=k(s);r=U(we,o),we.forEach(f),a=z(se),n=P(se,"BUTTON",{});var fe=k(n);c=U(fe,"\u{1F5D1}"),fe.forEach(f),se.forEach(f),i=z(te),_=P(te,"TABLE",{class:!0});var De=k(_);D=P(De,"TR",{class:!0});var ee=k(D);T=P(ee,"TH",{class:!0}),k(T).forEach(f),w=z(ee),u=P(ee,"TH",{class:!0});var ie=k(u);d=U(ie,"CVAP"),ie.forEach(f),g=z(ee),E=P(ee,"TH",{class:!0});var X=k(E);V=U(X,"Pop."),X.forEach(f),ee.forEach(f),I=z(De);for(let ne=0;ne<he.length;ne+=1)he[ne].l(De);De.forEach(f),O=z(te),L=P(te,"P",{class:!0});var je=k(L);S=U(je,"Income: "),Q=U(je,Y),je.forEach(f),ae=z(te),Z=P(te,"P",{class:!0});var Be=k(Z);H=U(Be,"Asian and LEP: "),G=U(Be,W),Be.forEach(f),K=z(te),oe=P(te,"P",{class:!0});var de=k(oe);ue=U(de,"Pct. gov't benefits: "),_e=U(de,$),de.forEach(f),te.forEach(f),this.h()},h(){b(t,"class","svelte-1xj2c1h"),b(T,"class","svelte-1xj2c1h"),b(u,"class","svelte-1xj2c1h"),b(E,"class","svelte-1xj2c1h"),b(D,"class","svelte-1xj2c1h"),b(_,"class","svelte-1xj2c1h"),b(L,"class","table-footer svelte-1xj2c1h"),b(Z,"class","table-footer svelte-1xj2c1h"),b(oe,"class","table-footer svelte-1xj2c1h"),b(e,"class","svelte-1xj2c1h")},m(x,te){R(x,e,te),h(e,t),h(t,s),h(s,r),h(t,a),h(t,n),h(n,c),h(e,i),h(e,_),h(_,D),h(D,T),h(D,w),h(D,u),h(u,d),h(D,g),h(D,E),h(E,V),h(_,I);for(let se=0;se<he.length;se+=1)he[se].m(_,null);h(e,O),h(e,L),h(L,S),h(L,Q),h(e,ae),h(e,Z),h(Z,H),h(Z,G),h(e,K),h(e,oe),h(oe,ue),h(oe,_e),re||(le=me(n,"click",m),re=!0)},p(x,te){if(l=x,te[0]&8192&&o!==(o=(l[68]||"COI"+(l[70]+1))+"")&&Pe(r,o),te[0]&8192){Ee=Ae;let se;for(se=0;se<Ee.length;se+=1){const we=Fl(l,Ee,se);he[se]?he[se].p(we,te):(he[se]=jt(we),he[se].c(),he[se].m(_,null))}for(;se<he.length;se+=1)he[se].d(1);he.length=Ee.length}te[0]&8192&&Y!==(Y=Ze(l[28].income)+"")&&Pe(Q,Y),te[0]&8192&&W!==(W=Ve(l[28].hhlang)+"")&&Pe(G,W),te[0]&8192&&$!==($=Ve(l[28].benefits)+"")&&Pe(_e,$)},d(x){x&&f(e),be(he,x),re=!1,le()}}}function Dt(l){let e,t=l[65]+"",s,o,r;function a(){return l[58](l[65])}return{c(){e=j("button"),s=y(t),this.h()},l(n){e=P(n,"BUTTON",{class:!0});var c=k(e);s=U(c,t),c.forEach(f),this.h()},h(){b(e,"class","svelte-1xj2c1h")},m(n,c){R(n,e,c),h(e,s),o||(r=me(e,"click",a),o=!0)},p(n,c){l=n},d(n){n&&f(e),o=!1,r()}}}function ls(l){let e,t,s,o,r,a,n=l[3].includes(l[9]),c,i=l[3].includes(l[9]),_,D,T,w,u,d,g,E,V,I,O=(l[25]?"Original":"Modify")+"",L,S,Y,Q,ae,Z,H,W,G,K,oe,ue,$,_e,re,le,m,Ee,he,x,te,se,we=l[3],fe=[];for(let v=0;v<we.length;v+=1)fe[v]=ot(nt(l,we,v));let De=l[4],ee=[];for(let v=0;v<De.length;v+=1)ee[v]=at(st(l,De,v));let ie=n&&it(l),X=i&&ct(l);function je(v,M){return(D==null||M[0]&1544)&&(D=!!(v[3].includes(v[9])&&v[10])),D?es:((T==null||M[0]&524352)&&(T=!!v[6].includes(v[19])),T?$t:xt)}let Be=je(l,[-1,-1,-1,-1]),de=Be(l),ne=l[23]&&pt(l),ce=l[11]&&wt(l);$=new Zt({props:{viewBox:l[15],labelSize:l[26],draggedBgs:l[12],data:l[1],path:l[7],color:l[32],changingLines:l[25],neighbor:l[31],showPluralities:l[10],metric:l[19],period:l[8],tractVars:l[5],showComms:l[11],drawings:l[13],showPlans:l[23],plan:l[17],points:l[2],tractMesh:l[30],bgMesh:l[21],mesh:l[29],aggregates:l[18],obj:l[0],handleLabelClick:l[36],congressMeshes:l[14],plansMeshes:l[20],startDrag:l[37],endDrag:l[38],handleMouseMove:l[39],viewCutoff:l[22]}});let ze=Object.keys(l[35]),pe=[];for(let v=0;v<ze.length;v+=1)pe[v]=Dt(ql(l,ze,v));return{c(){e=j("div"),t=j("div"),s=j("select"),o=j("optgroup");for(let v=0;v<fe.length;v+=1)fe[v].c();r=j("optgroup");for(let v=0;v<ee.length;v+=1)ee[v].c();a=A(),ie&&ie.c(),c=A(),X&&X.c(),_=A(),de.c(),w=A(),u=j("div"),d=j("h3"),g=j("button"),E=y("Plans \u2193"),V=A(),I=j("button"),L=y(O),S=A(),ne&&ne.c(),Y=A(),Q=j("div"),ae=j("h3"),Z=j("button"),H=y("Communities \u2193"),W=A(),G=j("button"),K=y("+"),oe=A(),ce&&ce.c(),ue=A(),At($.$$.fragment),_e=A(),re=j("div"),le=j("h3"),m=y("Views"),Ee=A();for(let v=0;v<pe.length;v+=1)pe[v].c();this.h()},l(v){e=P(v,"DIV",{class:!0,style:!0});var M=k(e);t=P(M,"DIV",{class:!0});var C=k(t);s=P(C,"SELECT",{style:!0,class:!0});var N=k(s);o=P(N,"OPTGROUP",{label:!0});var Te=k(o);for(let J=0;J<fe.length;J+=1)fe[J].l(Te);Te.forEach(f),r=P(N,"OPTGROUP",{label:!0});var el=k(r);for(let J=0;J<ee.length;J+=1)ee[J].l(el);el.forEach(f),N.forEach(f),a=z(C),ie&&ie.l(C),c=z(C),X&&X.l(C),_=z(C),de.l(C),w=z(C),u=P(C,"DIV",{class:!0});var We=k(u);d=P(We,"H3",{class:!0});var qe=k(d);g=P(qe,"BUTTON",{});var ll=k(g);E=U(ll,"Plans \u2193"),ll.forEach(f),V=z(qe),I=P(qe,"BUTTON",{class:!0});var tl=k(I);L=U(tl,O),tl.forEach(f),qe.forEach(f),S=z(We),ne&&ne.l(We),We.forEach(f),Y=z(C),Q=P(C,"DIV",{class:!0});var Ge=k(Q);ae=P(Ge,"H3",{class:!0});var Fe=k(ae);Z=P(Fe,"BUTTON",{});var p=k(Z);H=U(p,"Communities \u2193"),p.forEach(f),W=z(Fe),G=P(Fe,"BUTTON",{});var F=k(G);K=U(F,"+"),F.forEach(f),Fe.forEach(f),oe=z(Ge),ce&&ce.l(Ge),Ge.forEach(f),C.forEach(f),ue=z(M),zt($.$$.fragment,M),_e=z(M),re=P(M,"DIV",{class:!0});var B=k(re);le=P(B,"H3",{class:!0});var q=k(le);m=U(q,"Views"),q.forEach(f),Ee=z(B);for(let J=0;J<pe.length;J+=1)pe[J].l(B);B.forEach(f),M.forEach(f),this.h()},h(){b(o,"label","Redistricting data"),b(r,"label","American Community Survey data"),Ie(s,"width",l[4].includes(l[9])?"auto":"calc(var(--control-width) - 20px)"),b(s,"class","svelte-1xj2c1h"),l[9]===void 0&&Ne(()=>l[47].call(s)),b(I,"class","subbutton svelte-1xj2c1h"),b(d,"class","svelte-1xj2c1h"),b(u,"class","stats svelte-1xj2c1h"),b(ae,"class","svelte-1xj2c1h"),b(Q,"class","stats svelte-1xj2c1h"),b(t,"class","controls svelte-1xj2c1h"),b(le,"class","svelte-1xj2c1h"),b(re,"class","views svelte-1xj2c1h"),b(e,"class","container svelte-1xj2c1h"),Ie(e,"cursor",l[24]?"crosshair":"auto"),Ne(()=>l[59].call(e))},m(v,M){R(v,e,M),h(e,t),h(t,s),h(s,o);for(let C=0;C<fe.length;C+=1)fe[C].m(o,null);h(s,r);for(let C=0;C<ee.length;C+=1)ee[C].m(r,null);sl(s,l[9]),h(t,a),ie&&ie.m(t,null),h(t,c),X&&X.m(t,null),h(t,_),de.m(t,null),h(t,w),h(t,u),h(u,d),h(d,g),h(g,E),h(d,V),h(d,I),h(I,L),h(u,S),ne&&ne.m(u,null),h(t,Y),h(t,Q),h(Q,ae),h(ae,Z),h(Z,H),h(ae,W),h(ae,G),h(G,K),h(Q,oe),ce&&ce.m(Q,null),h(e,ue),yt($,e,null),h(e,_e),h(e,re),h(re,le),h(le,m),h(re,Ee);for(let C=0;C<pe.length;C+=1)pe[C].m(re,null);he=Ut(e,l[59].bind(e)),x=!0,te||(se=[me(s,"change",l[47]),me(g,"click",l[51]),me(I,"click",l[52]),me(Z,"click",l[55]),me(G,"click",l[56])],te=!0)},p(v,M){if(M[0]&8){we=v[3];let N;for(N=0;N<we.length;N+=1){const Te=nt(v,we,N);fe[N]?fe[N].p(Te,M):(fe[N]=ot(Te),fe[N].c(),fe[N].m(o,null))}for(;N<fe.length;N+=1)fe[N].d(1);fe.length=we.length}if(M[0]&16){De=v[4];let N;for(N=0;N<De.length;N+=1){const Te=st(v,De,N);ee[N]?ee[N].p(Te,M):(ee[N]=at(Te),ee[N].c(),ee[N].m(r,null))}for(;N<ee.length;N+=1)ee[N].d(1);ee.length=De.length}(!x||M[0]&528)&&Ie(s,"width",v[4].includes(v[9])?"auto":"calc(var(--control-width) - 20px)"),M[0]&536&&sl(s,v[9]),M[0]&520&&(n=v[3].includes(v[9])),n?ie?ie.p(v,M):(ie=it(v),ie.c(),ie.m(t,c)):ie&&(ie.d(1),ie=null),M[0]&520&&(i=v[3].includes(v[9])),i?X?X.p(v,M):(X=ct(v),X.c(),X.m(t,_)):X&&(X.d(1),X=null),Be===(Be=je(v,M))&&de?de.p(v,M):(de.d(1),de=Be(v),de&&(de.c(),de.m(t,w))),(!x||M[0]&33554432)&&O!==(O=(v[25]?"Original":"Modify")+"")&&Pe(L,O),v[23]?ne?(ne.p(v,M),M[0]&8388608&&ge(ne,1)):(ne=pt(v),ne.c(),ge(ne,1),ne.m(u,null)):ne&&(Qe(),Oe(ne,1,1,()=>{ne=null}),Xe()),v[11]?ce?(ce.p(v,M),M[0]&2048&&ge(ce,1)):(ce=wt(v),ce.c(),ge(ce,1),ce.m(Q,null)):ce&&(Qe(),Oe(ce,1,1,()=>{ce=null}),Xe());const C={};if(M[0]&32768&&(C.viewBox=v[15]),M[0]&67108864&&(C.labelSize=v[26]),M[0]&4096&&(C.draggedBgs=v[12]),M[0]&2&&(C.data=v[1]),M[0]&128&&(C.path=v[7]),M[0]&33554432&&(C.changingLines=v[25]),M[0]&1024&&(C.showPluralities=v[10]),M[0]&524288&&(C.metric=v[19]),M[0]&256&&(C.period=v[8]),M[0]&32&&(C.tractVars=v[5]),M[0]&2048&&(C.showComms=v[11]),M[0]&8192&&(C.drawings=v[13]),M[0]&8388608&&(C.showPlans=v[23]),M[0]&131072&&(C.plan=v[17]),M[0]&4&&(C.points=v[2]),M[0]&2097152&&(C.bgMesh=v[21]),M[0]&262144&&(C.aggregates=v[18]),M[0]&1&&(C.obj=v[0]),M[0]&16384&&(C.congressMeshes=v[14]),M[0]&1048576&&(C.plansMeshes=v[20]),M[0]&4194304&&(C.viewCutoff=v[22]),$.$set(C),M[0]&32768|M[1]&16){ze=Object.keys(v[35]);let N;for(N=0;N<ze.length;N+=1){const Te=ql(v,ze,N);pe[N]?pe[N].p(Te,M):(pe[N]=Dt(Te),pe[N].c(),pe[N].m(re,null))}for(;N<pe.length;N+=1)pe[N].d(1);pe.length=ze.length}(!x||M[0]&16777216)&&Ie(e,"cursor",v[24]?"crosshair":"auto")},i(v){x||(ge(ne),ge(ce),ge($.$$.fragment,v),x=!0)},o(v){Oe(ne),Oe(ce),Oe($.$$.fragment,v),x=!1},d(v){v&&f(e),be(fe,v),be(ee,v),ie&&ie.d(),X&&X.d(),de.d(),ne&&ne.d(),ce&&ce.d(),Ht($),be(pe,v),he(),te=!1,fl(se)}}}async function ts(l){const e=await(await l(`${Ye}/points.topojson`)).json();return Pl(e,e.objects.layer).features}async function rs({fetch:l}){const e=await(await l(`${Ye}/output_census.topojson`)).json(),t=Jt(e.objects.census),s=Pl(e,t).features.map(Vl),o=["pop","cvap"],r=[...s.reduce((n,c)=>{const i=Object.keys(c.properties).filter(_=>[...o,"GEOID","senate","assembly","congress"].every(D=>!_.includes(D))&&_===_.toLowerCase()).map(_=>_.split("_")[0]);return new Set([...n,...i])},[])],a=s.reduce((n,c,i)=>(n[c.properties.GEOID]=i,n),{});return{props:{topoData:e,obj:t,data:s,neighbors:St(t.geometries),dynamicVars:o,staticVars:r,idToIndex:a,points:await ts(l),path:Nt(),tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}function ss(l,e,t){let s,o,r,a,{topoData:n,obj:c,neighbors:i,data:_,points:D,dynamicVars:T,staticVars:w,tractVars:u,pluralityVars:d,path:g,idToIndex:E}=e,V;const I=p=>ul(n,c,p),O=g(I((p,F)=>Le(p).substring(0,11)!==Le(F).substring(0,11)));let L,S=2765;Rt(async()=>{t(21,L=g(Vl(I((F,B)=>Le(F)!==Le(B))))),t(22,S=6e3);const p=await(await fetch(`${Ye}/output_no-congress.topojson`)).json();t(20,V=Object.keys(p.objects).reduce((F,B)=>(F[B]=g(ul(p,p.objects[B],(q,J)=>al(q)!==al(J))),F),{}))});const Y=p=>_[p].properties[X];let Q;function ae(p){const F=Y(p),B=new Set(i[p].map(Y).filter(q=>q!==F));if(B.size===1){const q=B.values().next().value;t(0,c.geometries[p].properties[X]=q,c),t(0,c),Q=q}else B.has(Q)&&(t(0,c.geometries[p].properties[X]=Q,c),t(0,c))}let Z="present",H="pop";const W={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let G=!1;function K({properties:p}){if(p.ALAND===0)return"#fff";const F=p[`${s}_total`];if(d.includes(s)){const B=J=>p[`${s}_${J}`];if(B(Re[0])===null)return"#eee";const q=[...Re].sort((J,ye)=>B(ye)-B(J));return xe[Re.indexOf(q[0])]}else if(w.includes(s)){if(!p.ALAND)return"#fff";if(!Cl(o(p)))return"#eee";if(F<=10)return"#fff";for(let B=1;B<r.length;B++)if(o(p)<r[B])return xe[B];return xe[r.length-1]}else{if(F<=10)return"#fff";const B=q=>p[`${s}_${q}`]/p[`${s}_total`];if(G){const q=Ae.filter(ke=>B(ke)>.5)[0];if(q!==void 0)return _l[q]+il[F<130?0:F<200?1:2];const J=[...Ae].sort((ke,Se)=>B(Se)-B(ke)),ye=B(J[0])-B(J[1]);return _l[J[0]]+il[ye<.093?0:1]}else{const q=W[H];for(let J=1;J<q.length;J++)if(B("asian")<q[J])return cl[J-1];return cl[q.length-1]}}}let oe,ue,$,_e,re,le=[],m=[],Ee;async function he(){const F=await(await fetch(`${Ye}/output_congress.topojson`)).json();t(14,Ee=Object.keys(F.objects).reduce((B,q)=>(B[q]=g(ul(F,F.objects[q],(J,ye)=>al(J)!==al(ye))),B),{}))}function x(p){let F;typeof p[0]=="string"?F=p.map(ke=>_[E[ke]].properties):F=p.map(ke=>ke.properties);const B=(ke,Se)=>F.reduce((Vt,gl)=>Vt+(gl[ke]||0)*(Se&&gl[Se]||1),0),q=ke=>B(ke,"pop20_total")/B("pop20_total"),J=(ke,Se)=>B(`${ke}_${Se}`)/B(`${ke}_total`),ye={income:q("income"),hhlang:J("hhlang","asian"),benefits:J("families","benefits"),pop20_total:B("pop20_total")};return["pop20","cvap19"].forEach(ke=>Ae.forEach(Se=>ye[ke+Se]=J(ke,Se))),ye}const te=p=>t(13,m=m.filter((F,B)=>B!==p));async function se(){try{await fetch(`${Ye}/data.json`,{method:"POST",body:JSON.stringify(m)})}catch(p){console.error(p)}}let we;async function fe(){const p=await fetch(`${Ye}/data.json`);t(13,m=(await p.json()).map(F=>ml(vl({},F),{stats:x(F.ids)})))}const De={Chinatown:[80,500,300,220],"Chinatown Wide":[80,430,500,440],Brooklyn:[20,550,600,600],Full:[0,0,975,1420]};let ee=De.Brooklyn,ie,X="assembly",je=[],Be={};function de(p){je.includes(p)?t(18,je=je.filter(F=>F!==p)):t(18,je=[...je,p])}const ne=()=>t(44,_e=!0),ce=()=>t(44,_e=t(24,$=!1)),ze=p=>$&&_e&&(le.length===0?t(12,le=[Le(p)]):le.push(Le(p))),pe=[[]];function v(){H=Dl(this),t(9,H),t(4,w),t(3,T)}function M(){Z=this.__value,t(8,Z)}const C=()=>t(10,G=!G),N=()=>{t(23,oe=!oe),t(11,ue=!1)},Te=()=>t(25,re=!re);function el(){X=Dl(this),t(17,X)}const We=p=>de(p),qe=()=>{t(11,ue=!ue),t(23,oe=!1)},ll=()=>t(24,$=!0),tl=p=>te(p),Ge=p=>t(15,ee=De[p]);function Fe(){ie=this.clientWidth,t(16,ie)}return l.$$set=p=>{"topoData"in p&&t(40,n=p.topoData),"obj"in p&&t(0,c=p.obj),"neighbors"in p&&t(41,i=p.neighbors),"data"in p&&t(1,_=p.data),"points"in p&&t(2,D=p.points),"dynamicVars"in p&&t(3,T=p.dynamicVars),"staticVars"in p&&t(4,w=p.staticVars),"tractVars"in p&&t(5,u=p.tractVars),"pluralityVars"in p&&t(6,d=p.pluralityVars),"path"in p&&t(7,g=p.path),"idToIndex"in p&&t(42,E=p.idToIndex)},l.$$.update=()=>{if(l.$$.dirty[0]&784&&t(19,s=w.includes(H)?H:H+(Z==="past"?10:H==="cvap"?19:20)),l.$$.dirty[0]&524288&&t(46,o={income:p=>p[s],hhlang:p=>p[`${s}_asian`]/p[`${s}_total`],graduates:p=>(p[`${s}_hs_grad`]+p[`${s}_ba_above`])/p[`${s}_total`],families:p=>p[`${s}_benefits`]/p[`${s}_total`],workers:p=>p[`${s}_publictransport`]/p[`${s}_total`]}[s]),l.$$.dirty[0]&525850|l.$$.dirty[1]&36864&&t(27,r=T.includes(H)&&!G?W[H]:W[s]||!w.includes(s)||s==="asiaentry"||t(43,W[s]=Wt(_.map(p=>o(p.properties)).filter(Cl),6),W)),l.$$.dirty[0]&12418|l.$$.dirty[1]&8192&&!_e&&le.length>0){if(le[0]===le[le.length-1]){const p=new Set(le),F=qt(I((q,J)=>Kt(p.has(Le(q)),p.has(Le(J)))).coordinates.flat()),B=_.map(q=>[Gt(Ft(q.geometry.coordinates[0]),F),Le(q)]).filter(q=>q[0]).map(q=>q[1]);t(13,m=[...m,{outline:g({type:"LineString",coordinates:F}),ids:B,stats:x(B)}])}t(12,le=[])}if(l.$$.dirty[0]&147456&&Ee===void 0&&X.startsWith("congress")&&he(),l.$$.dirty[0]&2048|l.$$.dirty[1]&16384&&ue&&!we&&(fe(),t(45,we=!0)),l.$$.dirty[0]&229376&&t(26,a=(X.endsWith("_names")?13:16)/((ie-410)/ee[2])),l.$$.dirty[0]&393217)for(let p=0;p<je.length;p++){const[F,B]=je[p].split(",");F===X&&t(28,Be[je[p]]=x(c.geometries.filter(({properties:q})=>B===""+q[X])),Be)}},[c,_,D,T,w,u,d,g,Z,H,G,ue,le,m,Ee,ee,ie,X,je,s,V,L,S,oe,$,re,a,r,Be,I,O,ae,K,te,se,De,de,ne,ce,ze,n,i,E,W,_e,we,o,v,M,pe,C,N,Te,el,We,qe,ll,tl,Ge,Fe]}class cs extends bl{constructor(e){super();kl(this,e,ss,ls,El,{topoData:40,obj:0,neighbors:41,data:1,points:2,dynamicVars:3,staticVars:4,tractVars:5,pluralityVars:6,path:7,idToIndex:42},null,[-1,-1,-1,-1])}}export{cs as default,rs as load};
