var $t=Object.defineProperty,xt=Object.defineProperties;var es=Object.getOwnPropertyDescriptors;var Nl=Object.getOwnPropertySymbols;var ls=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable;var jl=(l,e,t)=>e in l?$t(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,yl=(l,e)=>{for(var t in e||(e={}))ls.call(e,t)&&jl(l,t,e[t]);if(Nl)for(var t of Nl(e))ts.call(e,t)&&jl(l,t,e[t]);return l},Ll=(l,e)=>xt(l,es(e));import{S as Xe,i as Ze,s as $e,e as P,t as L,c as D,a as b,g as B,d as h,b as m,J as _e,f as N,H as u,h as fe,l as te,K as Ee,L as Pe,M as Ne,N as ue,O as Dl,P as al,Q as Se,R as qe,T as Oe,U as He,V as ve,x as $,r as Le,u as ae,w as Be,W as il,k as z,n as R,X as Vl,Y as ss,Z as ns,I as Fe,D as Bl,E as zl,F as Rl,G as Ul,_ as ml,$ as as,a0 as is,j as Ge,m as We,o as Ye,a1 as xe,a2 as os,v as Ke,A as rs,a3 as fs,a4 as cs,a5 as us,a6 as hs,a7 as Tl}from"../chunks/vendor-a95c9b29.js";import{b as Ml}from"../chunks/paths-28a87002.js";import{i as Ce,D as ql,p as ge,m as el,c as Qe,a as Hl,d as Fl,u as _s,r as Gl,b as vl,e as Wl,x as gs,g as ds,f as ps,h as ms,j as vs,k as bs}from"../chunks/utils-2dc8ddbc.js";const Al={black:"#9fd400",hispanic:"#ffaa00",asian:"#ff0000",white:"#73B2FF"},Sl=["44","99","ee"],ll=["asian","black","hispanic","white"],bl=["1990_earlier","1990_1999","2000_2009","2010_later"],kl={hhlang:"Proportion of households that speak an Asian language and are LEP",income:"Median household income",graduates:"Proportion of people who graduated >= high school",families:"Proportion of families who receive gov't benefits",asiaentry:"Dominant entry period for Asian families",workers:"Proportion of workers who take public transportation",cvap:"Citizen voting age population by race",pop:"Population by race"},wl=["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26"],tl=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],ks={assembly_letters:134675,assembly_names:134626,senate_letters:320655,senate_names:321190,congress_letters:776971,congress_names:776971},El={Brooklyn:[20,670,600,520],"Lower Manhattan":[80,430,500,600],Queens:[200,290,775,600],"All of NYC":[20,0,975,1220]},ws={assembly:"49 47 45 41 51 48".split(" ").map(l=>+l),assembly_letters:"AU AW AS AT AV AY AO".split(" "),assembly_names:"BNSNHRST GRAVESEND MADFLAT CNYSHPSHD BAYDYKER SUNSET BOROUGHPARK".split(" "),senate:"20 17 23 22 19".split(" ").map(l=>+l),senate_letters:"G AA Q AC".split(" "),senate_names:"SNSTPRK BAYGRAVES MADMID STATENCONEY FLATBUSH".split(" ")};function Yl(l,e,t){const s=l.slice();return s[48]=e[t],s}function Kl(l,e,t){const s=l.slice();return s[51]=e[t].properties,s[52]=e[t].geometry.coordinates[0],s[53]=e[t].geometry.coordinates[1],s}function Ql(l,e,t){const s=l.slice();return s[56]=e[t].outline,s}function Jl(l,e,t){const s=l.slice();return s[48]=e[t],s[60]=t,s}function Xl(l){let e,t=l[34].label+"",s;return{c(){e=P("p"),s=L(t),this.h()},l(n){e=D(n,"P",{class:!0,style:!0});var i=b(e);s=B(i,t),i.forEach(h),this.h()},h(){m(e,"class","street-inspector svelte-1ug0a5x"),_e(e,"left",l[34].x+"px"),_e(e,"top","calc("+l[34].y+"px - 1em)")},m(n,i){N(n,e,i),u(e,s)},p(n,i){i[1]&8&&t!==(t=n[34].label+"")&&fe(s,t),i[1]&8&&_e(e,"left",n[34].x+"px"),i[1]&8&&_e(e,"top","calc("+n[34].y+"px - 1em)")},d(n){n&&h(e)}}}function Zl(l){let e,t,s,n,i;function a(){return l[38](l[60])}function o(){return l[39](l[48])}function f(){return l[40](l[48])}return{c(){e=Ee("path"),this.h()},l(r){e=Pe(r,"path",{d:!0,fill:!0,class:!0}),b(e).forEach(h),this.h()},h(){m(e,"d",t=l[5](l[48])),m(e,"fill",s=l[6](l[48],l[10],l[11],l[9])),m(e,"class","svelte-1ug0a5x"),Ne(e,"head",l[3][0]===Ce(l[48]))},m(r,c){N(r,e,c),n||(i=[ue(e,"click",a),ue(e,"contextmenu",Dl(o)),ue(e,"mousemove",Dl(f))],n=!0)},p(r,c){l=r,c[0]&48&&t!==(t=l[5](l[48]))&&m(e,"d",t),c[0]&3664&&s!==(s=l[6](l[48],l[10],l[11],l[9]))&&m(e,"fill",s),c[0]&24&&Ne(e,"head",l[3][0]===Ce(l[48]))},d(r){r&&h(e),n=!1,al(i)}}}function $l(l,e){let t,s,n=e[60]<e[27]&&Zl(e);return{key:l,first:null,c(){t=te(),n&&n.c(),s=te(),this.h()},l(i){t=te(),n&&n.l(i),s=te(),this.h()},h(){this.first=t},m(i,a){N(i,t,a),n&&n.m(i,a),N(i,s,a)},p(i,a){e=i,e[60]<e[27]?n?n.p(e,a):(n=Zl(e),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(i){i&&h(t),n&&n.d(i),i&&h(s)}}}function xl(l){let e,t;return{c(){e=Ee("path"),this.h()},l(s){e=Pe(s,"path",{class:!0,d:!0}),b(e).forEach(h),this.h()},h(){m(e,"class","mesh-bg svelte-1ug0a5x"),m(e,"d",t=l[12].includes(l[10])?l[17]:l[18])},m(s,n){N(s,e,n)},p(s,n){n[0]&398336&&t!==(t=s[12].includes(s[10])?s[17]:s[18])&&m(e,"d",t)},d(s){s&&h(e)}}}function et(l){let e,t,s,n,i=l[13],a=[];for(let o=0;o<i.length;o+=1)a[o]=lt(Ql(l,i,o));return{c(){e=Ee("g");for(let o=0;o<a.length;o+=1)a[o].c()},l(o){e=Pe(o,"g",{});var f=b(e);for(let r=0;r<a.length;r+=1)a[r].l(f);f.forEach(h)},m(o,f){N(o,e,f);for(let r=0;r<a.length;r+=1)a[r].m(e,null);n=!0},p(o,f){if(f[0]&8192){i=o[13];let r;for(r=0;r<i.length;r+=1){const c=Ql(o,i,r);a[r]?a[r].p(c,f):(a[r]=lt(c),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},i(o){n||(Se(()=>{s&&s.end(1),t=qe(e,Oe,{}),t.start()}),n=!0)},o(o){t&&t.invalidate(),s=He(e,Oe,{}),n=!1},d(o){o&&h(e),ve(a,o),o&&s&&s.end()}}}function lt(l){let e,t;return{c(){e=Ee("path"),this.h()},l(s){e=Pe(s,"path",{class:!0,d:!0}),b(e).forEach(h),this.h()},h(){m(e,"class","mesh-community svelte-1ug0a5x"),m(e,"d",t=l[56])},m(s,n){N(s,e,n)},p(s,n){n[0]&8192&&t!==(t=s[56])&&m(e,"d",t)},d(s){s&&h(e)}}}function tt(l){let e,t,s,n,i,a;return{c(){e=Ee("g"),t=Ee("path"),this.h()},l(o){e=Pe(o,"g",{});var f=b(e);t=Pe(f,"path",{class:!0,d:!0}),b(t).forEach(h),f.forEach(h),this.h()},h(){m(t,"class","mesh-district svelte-1ug0a5x"),m(t,"d",s=l[36](l[15],l[23],l[22],l[28])),Ne(t,"showPluralities",l[9])},m(o,f){N(o,e,f),u(e,t),a=!0},p(o,f){(!a||f[0]&281051136&&s!==(s=o[36](o[15],o[23],o[22],o[28])))&&m(t,"d",s),f[0]&512&&Ne(t,"showPluralities",o[9])},i(o){a||(Se(()=>{i&&i.end(1),n=qe(e,Oe,{}),n.start()}),a=!0)},o(o){n&&n.invalidate(),i=He(e,Oe,{}),a=!1},d(o){o&&h(e),o&&i&&i.end()}}}function st(l){let e,t,s,n,i,a;return{c(){e=Ee("g"),t=Ee("path"),this.h()},l(o){e=Pe(o,"g",{});var f=b(e);t=Pe(f,"path",{class:!0,d:!0}),b(t).forEach(h),f.forEach(h),this.h()},h(){m(t,"class","mesh-district svelte-1ug0a5x"),m(t,"d",s=l[5](l[19](l[41],l[0])))},m(o,f){N(o,e,f),u(e,t),a=!0},p(o,f){(!a||f[0]&557089&&s!==(s=o[5](o[19](o[41],o[0]))))&&m(t,"d",s)},i(o){a||(Se(()=>{i&&i.end(1),n=qe(e,Oe,{}),n.start()}),a=!0)},o(o){n&&n.invalidate(),i=He(e,Oe,{}),a=!1},d(o){o&&h(e),o&&i&&i.end()}}}function nt(l){let e,t,s,n,i,a=l[16],o=[];for(let c=0;c<a.length;c+=1)o[c]=it(Kl(l,a,c));const f=c=>ae(o[c],1,1,()=>{o[c]=null});let r=l[33]&&ot(l);return{c(){e=Ee("g");for(let c=0;c<o.length;c+=1)o[c].c();t=te(),r&&r.c(),this.h()},l(c){e=Pe(c,"g",{class:!0});var _=b(e);for(let g=0;g<o.length;g+=1)o[g].l(_);t=te(),r&&r.l(_),_.forEach(h),this.h()},h(){m(e,"class","labels svelte-1ug0a5x")},m(c,_){N(c,e,_);for(let g=0;g<o.length;g+=1)o[g].m(e,null);u(e,t),r&&r.m(e,null),i=!0},p(c,_){if(_[0]&3244032|_[1]&22){a=c[16];let g;for(g=0;g<a.length;g+=1){const d=Kl(c,a,g);o[g]?(o[g].p(d,_),$(o[g],1)):(o[g]=it(d),o[g].c(),$(o[g],1),o[g].m(e,t))}for(Le(),g=a.length;g<o.length;g+=1)f(g);Be()}c[33]?r?r.p(c,_):(r=ot(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){if(!i){for(let _=0;_<a.length;_+=1)$(o[_]);Se(()=>{n&&n.end(1),s=qe(e,Oe,{}),s.start()}),i=!0}},o(c){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)ae(o[_]);s&&s.invalidate(),n=He(e,Oe,{}),i=!1},d(c){c&&h(e),ve(o,c),r&&r.d(),c&&n&&n.end()}}}function at(l){let e,t=l[51][l[15]]+"",s,n,i,a,o,f,r,c;function _(){return l[42](l[51])}function g(){return l[43](l[51])}return{c(){e=Ee("text"),s=L(t),this.h()},l(d){e=Pe(d,"text",{x:!0,y:!0,class:!0});var v=b(e);s=B(v,t),v.forEach(h),this.h()},h(){m(e,"x",n=l[52]),m(e,"y",i=l[53]),m(e,"class","svelte-1ug0a5x"),Ne(e,"chosen",l[20].includes(`${l[15]},${l[51][l[15]]}`))},m(d,v){N(d,e,v),u(e,s),f=!0,r||(c=[ue(e,"click",_),ue(e,"mousemove",g),ue(e,"mouseout",l[44]),ue(e,"blur",void 0)],r=!0)},p(d,v){l=d,(!f||v[0]&98304)&&t!==(t=l[51][l[15]]+"")&&fe(s,t),(!f||v[0]&65536&&n!==(n=l[52]))&&m(e,"x",n),(!f||v[0]&65536&&i!==(i=l[53]))&&m(e,"y",i),v[0]&1146880&&Ne(e,"chosen",l[20].includes(`${l[15]},${l[51][l[15]]}`))},i(d){f||(Se(()=>{o&&o.end(1),a=qe(e,Oe,{}),a.start()}),f=!0)},o(d){a&&a.invalidate(),o=He(e,Oe,{}),f=!1},d(d){d&&h(e),d&&o&&o.end(),r=!1,al(c)}}}function it(l){let e=l[15]in l[51]&&(!l[35]||l[35]&&l[32].includes(l[51][l[15]])),t,s,n=e&&at(l);return{c(){n&&n.c(),t=te()},l(i){n&&n.l(i),t=te()},m(i,a){n&&n.m(i,a),N(i,t,a),s=!0},p(i,a){a[0]&98304|a[1]&18&&(e=i[15]in i[51]&&(!i[35]||i[35]&&i[32].includes(i[51][i[15]]))),e?n?(n.p(i,a),a[0]&98304|a[1]&18&&$(n,1)):(n=at(i),n.c(),$(n,1),n.m(t.parentNode,t)):n&&(Le(),ae(n,1,1,()=>{n=null}),Be())},i(i){s||($(n),s=!0)},o(i){ae(n),s=!1},d(i){n&&n.d(i),i&&h(t)}}}function ot(l){let e,t;return{c(){e=Ee("path"),this.h()},l(s){e=Pe(s,"path",{class:!0,d:!0}),b(e).forEach(h),this.h()},h(){m(e,"class","mesh-onhover mesh-district svelte-1ug0a5x"),m(e,"d",t=l[0]&&l[5](il(l[31],{type:l[0].type,geometries:l[0].geometries.filter(l[45])})))},m(s,n){N(s,e,n)},p(s,n){n[0]&32801|n[1]&5&&t!==(t=s[0]&&s[5](il(s[31],{type:s[0].type,geometries:s[0].geometries.filter(s[45])})))&&m(e,"d",t)},d(s){s&&h(e)}}}function rt(l){let e,t,s,n=l[30],i=[];for(let a=0;a<n.length;a+=1)i[a]=ft(Yl(l,n,a));return{c(){e=Ee("g");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=Pe(a,"g",{class:!0});var o=b(e);for(let f=0;f<i.length;f+=1)i[f].l(o);o.forEach(h),this.h()},h(){m(e,"class","streets svelte-1ug0a5x"),Ne(e,"showStreets",l[29])},m(a,o){N(a,e,o);for(let f=0;f<i.length;f+=1)i[f].m(e,null);t||(s=ue(e,"mousemove",l[47]),t=!0)},p(a,o){if(o[0]&1610612768|o[1]&64){n=a[30];let f;for(f=0;f<n.length;f+=1){const r=Yl(a,n,f);i[f]?i[f].p(r,o):(i[f]=ft(r),i[f].c(),i[f].m(e,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=n.length}o[0]&536870912&&Ne(e,"showStreets",a[29])},d(a){a&&h(e),ve(i,a),t=!1,s()}}}function ft(l){let e,t,s,n;function i(...a){return l[46](l[48],...a)}return{c(){e=Ee("path"),this.h()},l(a){e=Pe(a,"path",{d:!0,class:!0}),b(e).forEach(h),this.h()},h(){m(e,"d",t=l[5](l[48])),m(e,"class","svelte-1ug0a5x")},m(a,o){N(a,e,o),s||(n=ue(e,"click",Dl(i)),s=!0)},p(a,o){l=a,o[0]&1073741856&&t!==(t=l[5](l[48]))&&m(e,"d",t)},d(a){a&&h(e),s=!1,n()}}}function Es(l){let e,t,s,n=[],i=new Map,a,o,f=l[14].includes("communities"),r,c=l[14].includes("plans")&&!l[7],_,g,d=l[14].includes("plans")||l[7],v,k,M,V,A,y=l[34]&&Xl(l),F=l[4];const ee=j=>Ce(j[48]);for(let j=0;j<F.length;j+=1){let S=Jl(l,F,j),Y=ee(S);i.set(Y,n[j]=$l(Y,S))}let J=l[18]&&xl(l),U=f&&et(l),X=c&&tt(l),G=l[7]&&st(l),I=d&&nt(l),q=l[30]&&rt(l);return{c(){y&&y.c(),e=z(),t=Ee("svg"),s=Ee("g");for(let j=0;j<n.length;j+=1)n[j].c();a=Ee("g"),J&&J.c(),o=te(),U&&U.c(),r=te(),X&&X.c(),_=te(),G&&G.c(),g=te(),I&&I.c(),v=te(),q&&q.c(),this.h()},l(j){y&&y.l(j),e=R(j),t=Pe(j,"svg",{viewBox:!0,style:!0,class:!0});var S=b(t);s=Pe(S,"g",{class:!0});var Y=b(s);for(let re=0;re<n.length;re+=1)n[re].l(Y);Y.forEach(h),a=Pe(S,"g",{class:!0});var W=b(a);J&&J.l(W),o=te(),U&&U.l(W),r=te(),X&&X.l(W),_=te(),G&&G.l(W),g=te(),I&&I.l(W),v=te(),q&&q.l(W),W.forEach(h),S.forEach(h),this.h()},h(){m(s,"class","block-groups svelte-1ug0a5x"),m(a,"class","meshes svelte-1ug0a5x"),m(t,"viewBox",k=l[1].join(" ")),_e(t,"--font-size",(l[2]||.8)+"em"),m(t,"class","svelte-1ug0a5x")},m(j,S){y&&y.m(j,S),N(j,e,S),N(j,t,S),u(t,s);for(let Y=0;Y<n.length;Y+=1)n[Y].m(s,null);u(t,a),J&&J.m(a,null),u(a,o),U&&U.m(a,null),u(a,r),X&&X.m(a,null),u(a,_),G&&G.m(a,null),u(a,g),I&&I.m(a,null),u(a,v),q&&q.m(a,null),M=!0,V||(A=[ue(t,"mousedown",function(){Vl(l[24])&&l[24].apply(this,arguments)}),ue(t,"mouseup",function(){Vl(l[25])&&l[25].apply(this,arguments)})],V=!0)},p(j,S){l=j,l[34]?y?y.p(l,S):(y=Xl(l),y.c(),y.m(e.parentNode,e)):y&&(y.d(1),y=null),S[0]&201363448&&(F=l[4],n=ss(n,S,ee,1,l,F,i,s,ns,$l,null,Jl)),l[18]?J?J.p(l,S):(J=xl(l),J.c(),J.m(a,o)):J&&(J.d(1),J=null),S[0]&16384&&(f=l[14].includes("communities")),f?U?(U.p(l,S),S[0]&16384&&$(U,1)):(U=et(l),U.c(),$(U,1),U.m(a,r)):U&&(Le(),ae(U,1,1,()=>{U=null}),Be()),S[0]&16512&&(c=l[14].includes("plans")&&!l[7]),c?X?(X.p(l,S),S[0]&16512&&$(X,1)):(X=tt(l),X.c(),$(X,1),X.m(a,_)):X&&(Le(),ae(X,1,1,()=>{X=null}),Be()),l[7]?G?(G.p(l,S),S[0]&128&&$(G,1)):(G=st(l),G.c(),$(G,1),G.m(a,g)):G&&(Le(),ae(G,1,1,()=>{G=null}),Be()),S[0]&16512&&(d=l[14].includes("plans")||l[7]),d?I?(I.p(l,S),S[0]&16512&&$(I,1)):(I=nt(l),I.c(),$(I,1),I.m(a,v)):I&&(Le(),ae(I,1,1,()=>{I=null}),Be()),l[30]?q?q.p(l,S):(q=rt(l),q.c(),q.m(a,null)):q&&(q.d(1),q=null),(!M||S[0]&2&&k!==(k=l[1].join(" ")))&&m(t,"viewBox",k),(!M||S[0]&4)&&_e(t,"--font-size",(l[2]||.8)+"em")},i(j){M||($(U),$(X),$(G),$(I),M=!0)},o(j){ae(U),ae(X),ae(G),ae(I),M=!1},d(j){y&&y.d(j),j&&h(e),j&&h(t);for(let S=0;S<n.length;S+=1)n[S].d();J&&J.d(),U&&U.d(),X&&X.d(),G&&G.d(),I&&I.d(),q&&q.d(),V=!1,al(A)}}}function Ps(l,e,t){let s,n,i,{viewBox:a,labelSize:o,draggedBgs:f,data:r,path:c,color:_,changingLines:g,neighbor:d,showPluralities:v,metric:k,period:M,tractVars:V,drawings:A,panels:y,plan:F,points:ee=[],tractMesh:J,bgMesh:U,mesh:X,aggregates:G,obj:I,handleLabelClick:q,congressPlans:j,plans:S,startDrag:Y,endDrag:W,handleMouseMove:re,viewCutoff:x,showOnlyFocusDistricts:Z,showStreets:p,streets:T}=e;function K(){if(!!i)return c(n?il(i,{type:I.type,geometries:I.geometries.filter(w=>s.includes(w.properties[F]))}):il(i,I,(w,we)=>ql(w)!==ql(we)))}let ie,oe;function le({pageX:w,pageY:we},{properties:{Label:Ve}}){t(34,oe={x:w,y:we,label:Ve})}const Q=w=>g&&F.includes("_")&&d(w),C=w=>console.log(w.properties),O=w=>re(w),se=(w,we)=>w.properties[F]!==we.properties[F],Te=w=>q(`${F},${w[F]}`),be=w=>t(33,ie=w[F]),ce=()=>t(33,ie=null),De=w=>ie===w.properties[F],ke=(w,we)=>p&&le(we,w),Me=()=>t(34,oe=null);return l.$$set=w=>{"viewBox"in w&&t(1,a=w.viewBox),"labelSize"in w&&t(2,o=w.labelSize),"draggedBgs"in w&&t(3,f=w.draggedBgs),"data"in w&&t(4,r=w.data),"path"in w&&t(5,c=w.path),"color"in w&&t(6,_=w.color),"changingLines"in w&&t(7,g=w.changingLines),"neighbor"in w&&t(8,d=w.neighbor),"showPluralities"in w&&t(9,v=w.showPluralities),"metric"in w&&t(10,k=w.metric),"period"in w&&t(11,M=w.period),"tractVars"in w&&t(12,V=w.tractVars),"drawings"in w&&t(13,A=w.drawings),"panels"in w&&t(14,y=w.panels),"plan"in w&&t(15,F=w.plan),"points"in w&&t(16,ee=w.points),"tractMesh"in w&&t(17,J=w.tractMesh),"bgMesh"in w&&t(18,U=w.bgMesh),"mesh"in w&&t(19,X=w.mesh),"aggregates"in w&&t(20,G=w.aggregates),"obj"in w&&t(0,I=w.obj),"handleLabelClick"in w&&t(21,q=w.handleLabelClick),"congressPlans"in w&&t(22,j=w.congressPlans),"plans"in w&&t(23,S=w.plans),"startDrag"in w&&t(24,Y=w.startDrag),"endDrag"in w&&t(25,W=w.endDrag),"handleMouseMove"in w&&t(26,re=w.handleMouseMove),"viewCutoff"in w&&t(27,x=w.viewCutoff),"showOnlyFocusDistricts"in w&&t(28,Z=w.showOnlyFocusDistricts),"showStreets"in w&&t(29,p=w.showStreets),"streets"in w&&t(30,T=w.streets)},l.$$.update=()=>{l.$$.dirty[0]&32768&&t(32,s=ws[F]),l.$$.dirty[0]&268435456|l.$$.dirty[1]&2&&t(35,n=Z&&s),l.$$.dirty[0]&12615680&&t(31,i=F.startsWith("congress")?j:S),l.$$.dirty[0]&32768|l.$$.dirty[1]&1&&t(0,I=i?i.objects[F]:void 0)},[I,a,o,f,r,c,_,g,d,v,k,M,V,A,y,F,ee,J,U,X,G,q,j,S,Y,W,re,x,Z,p,T,i,s,ie,oe,n,K,le,Q,C,O,se,Te,be,ce,De,ke,Me]}class Ds extends Xe{constructor(e){super();Ze(this,e,Ps,Es,$e,{viewBox:1,labelSize:2,draggedBgs:3,data:4,path:5,color:6,changingLines:7,neighbor:8,showPluralities:9,metric:10,period:11,tractVars:12,drawings:13,panels:14,plan:15,points:16,tractMesh:17,bgMesh:18,mesh:19,aggregates:20,obj:0,handleLabelClick:21,congressPlans:22,plans:23,startDrag:24,endDrag:25,handleMouseMove:26,viewCutoff:27,showOnlyFocusDistricts:28,showStreets:29,streets:30},null,[-1,-1])}}function ct(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function ut(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function ht(l,e,t){const s=l.slice();return s[16]=e[t],s}function _t(l,e,t){const s=l.slice();return s[16]=e[t],s[20]=t,s}function gt(l,e,t){const s=l.slice();return s[10]=e[t],s}function dt(l,e,t){const s=l.slice();return s[13]=e[t],s}function Vs(l){let e,t,s=l[9],n=[];for(let o=0;o<s.length;o+=1)n[o]=pt(ut(l,s,o));let i=l[9],a=[];for(let o=0;o<i.length;o+=1)a[o]=mt(ct(l,i,o));return{c(){e=P("div");for(let o=0;o<n.length;o+=1)n[o].c();t=z();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0});var f=b(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=R(f);for(let r=0;r<a.length;r+=1)a[r].l(f);f.forEach(h),this.h()},h(){m(e,"class","color-legend svelte-lnhifj"),_e(e,"grid-template-columns","repeat("+(l[3].includes(l[4])?5:6)+", 2.5em)"),Ne(e,"pctasian",l[3].includes(l[4]))},m(o,f){N(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);u(e,t);for(let r=0;r<a.length;r+=1)a[r].m(e,null)},p(o,f){if(f&536){s=o[9];let r;for(r=0;r<s.length;r+=1){const c=ut(o,s,r);n[r]?n[r].p(c,f):(n[r]=pt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&536){i=o[9];let r;for(r=0;r<i.length;r+=1){const c=ct(o,i,r);a[r]?a[r].p(c,f):(a[r]=mt(c),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}f&24&&_e(e,"grid-template-columns","repeat("+(o[3].includes(o[4])?5:6)+", 2.5em)"),f&24&&Ne(e,"pctasian",o[3].includes(o[4]))},d(o){o&&h(e),ve(n,o),ve(a,o)}}}function Ts(l){let e,t,s=l[8],n=[];for(let o=0;o<s.length;o+=1)n[o]=vt(_t(l,s,o));let i=l[8],a=[];for(let o=0;o<i.length;o+=1)a[o]=bt(ht(l,i,o));return{c(){e=P("div");for(let o=0;o<n.length;o+=1)n[o].c();t=z();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var f=b(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=R(f);for(let r=0;r<a.length;r+=1)a[r].l(f);f.forEach(h),this.h()},h(){m(e,"class","color-legend plurality-legend svelte-lnhifj")},m(o,f){N(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);u(e,t);for(let r=0;r<a.length;r+=1)a[r].m(e,null)},p(o,f){if(f&256){s=o[8];let r;for(r=0;r<s.length;r+=1){const c=_t(o,s,r);n[r]?n[r].p(c,f):(n[r]=vt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&256){i=o[8];let r;for(r=0;r<i.length;r+=1){const c=ht(o,i,r);a[r]?a[r].p(c,f):(a[r]=bt(c),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d(o){o&&h(e),ve(n,o),ve(a,o)}}}function Ms(l){let e,t,s,n,i,a,o,f,r,c,_,g,d=l[0],v=[];for(let k=0;k<d.length;k+=1)v[k]=wt(gt(l,d,k));return{c(){e=P("div");for(let k=0;k<v.length;k+=1)v[k].c();t=z(),s=P("p"),n=P("span"),i=L("Weak plurality"),a=z(),o=P("p"),f=z(),r=P("p"),c=L("Majority"),_=z(),g=P("p"),this.h()},l(k){e=D(k,"DIV",{class:!0});var M=b(e);for(let F=0;F<v.length;F+=1)v[F].l(M);t=R(M),s=D(M,"P",{class:!0});var V=b(s);n=D(V,"SPAN",{});var A=b(n);i=B(A,"Weak plurality"),A.forEach(h),V.forEach(h),a=R(M),o=D(M,"P",{class:!0}),b(o).forEach(h),f=R(M),r=D(M,"P",{class:!0});var y=b(r);c=B(y,"Majority"),y.forEach(h),_=R(M),g=D(M,"P",{class:!0}),b(g).forEach(h),M.forEach(h),this.h()},h(){m(s,"class","col-head svelte-lnhifj"),m(o,"class","col-head svelte-lnhifj"),m(r,"class","col-head svelte-lnhifj"),m(g,"class","col-head svelte-lnhifj"),m(e,"class","legend svelte-lnhifj")},m(k,M){N(k,e,M);for(let V=0;V<v.length;V+=1)v[V].m(e,null);u(e,t),u(e,s),u(s,n),u(n,i),u(e,a),u(e,o),u(e,f),u(e,r),u(r,c),u(e,_),u(e,g)},p(k,M){if(M&7){d=k[0];let V;for(V=0;V<d.length;V+=1){const A=gt(k,d,V);v[V]?v[V].p(A,M):(v[V]=wt(A),v[V].c(),v[V].m(e,t))}for(;V<v.length;V+=1)v[V].d(1);v.length=d.length}},d(k){k&&h(e),ve(v,k)}}}function pt(l){let e;return{c(){e=P("div"),this.h()},l(t){e=D(t,"DIV",{style:!0}),b(e).forEach(h),this.h()},h(){_e(e,"background-color",l[3].includes(l[4])?wl[l[20]]:tl[l[20]])},m(t,s){N(t,e,s)},p(t,s){s&24&&_e(e,"background-color",t[3].includes(t[4])?wl[t[20]]:tl[t[20]])},d(t){t&&h(e)}}}function mt(l){let e,t=(l[9][l[9].length-1]<1?ge(l[21],0):l[9][l[9].length-1]>1e3?el(l[21]):l[21])+(l[3].includes(l[4])&&l[20]===l[9].length-1?"+ Asian":"")+"",s,n;return{c(){e=P("p"),s=L(t),n=z(),this.h()},l(i){e=D(i,"P",{class:!0});var a=b(e);s=B(a,t),n=R(a),a.forEach(h),this.h()},h(){m(e,"class","svelte-lnhifj")},m(i,a){N(i,e,a),u(e,s),u(e,n)},p(i,a){a&536&&t!==(t=(i[9][i[9].length-1]<1?ge(i[21],0):i[9][i[9].length-1]>1e3?el(i[21]):i[21])+(i[3].includes(i[4])&&i[20]===i[9].length-1?"+ Asian":"")+"")&&fe(s,t)},d(i){i&&h(e)}}}function vt(l){let e;return{c(){e=P("div"),this.h()},l(t){e=D(t,"DIV",{style:!0}),b(e).forEach(h),this.h()},h(){_e(e,"background-color",tl[l[20]])},m(t,s){N(t,e,s)},p:Fe,d(t){t&&h(e)}}}function bt(l){let e,t=l[16].replace("_","-")+"",s;return{c(){e=P("p"),s=L(t),this.h()},l(n){e=D(n,"P",{class:!0});var i=b(e);s=B(i,t),i.forEach(h),this.h()},h(){m(e,"class","svelte-lnhifj")},m(n,i){N(n,e,i),u(e,s)},p(n,i){i&256&&t!==(t=n[16].replace("_","-")+"")&&fe(s,t)},d(n){n&&h(e)}}}function kt(l){let e;return{c(){e=P("div"),this.h()},l(t){e=D(t,"DIV",{style:!0}),b(e).forEach(h),this.h()},h(){_e(e,"background-color",l[2][l[10]]+l[13])},m(t,s){N(t,e,s)},p(t,s){s&7&&_e(e,"background-color",t[2][t[10]]+t[13])},d(t){t&&h(e)}}}function wt(l){let e,t,s=Qe(l[10])+"",n,i=l[1],a=[];for(let o=0;o<i.length;o+=1)a[o]=kt(dt(l,i,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=z(),t=P("p"),n=L(s),this.h()},l(o){for(let r=0;r<a.length;r+=1)a[r].l(o);e=R(o),t=D(o,"P",{class:!0});var f=b(t);n=B(f,s),f.forEach(h),this.h()},h(){m(t,"class","row-label svelte-lnhifj")},m(o,f){for(let r=0;r<a.length;r+=1)a[r].m(o,f);N(o,e,f),N(o,t,f),u(t,n)},p(o,f){if(f&7){i=o[1];let r;for(r=0;r<i.length;r+=1){const c=dt(o,i,r);a[r]?a[r].p(c,f):(a[r]=kt(c),a[r].c(),a[r].m(e.parentNode,e))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}f&1&&s!==(s=Qe(o[10])+"")&&fe(n,s)},d(o){ve(a,o),o&&h(e),o&&h(t)}}}function As(l){let e,t,s;function n(o,f){return(e==null||f&88)&&(e=!!(o[3].includes(o[4])&&o[6])),e?Ms:((t==null||f&160)&&(t=!!o[7].includes(o[5])),t?Ts:Vs)}let i=n(l,-1),a=i(l);return{c(){a.c(),s=te()},l(o){a.l(o),s=te()},m(o,f){a.m(o,f),N(o,s,f)},p(o,[f]){i===(i=n(o,f))&&a?a.p(o,f):(a.d(1),a=i(o),a&&(a.c(),a.m(s.parentNode,s)))},i:Fe,o:Fe,d(o){a.d(o),o&&h(s)}}}function Ss(l,e,t){let{groups:s,levels:n,colors:i,dynamicVars:a,variable:o,metric:f,showPluralities:r,pluralityVars:c,periods:_,breaks:g}=e;return l.$$set=d=>{"groups"in d&&t(0,s=d.groups),"levels"in d&&t(1,n=d.levels),"colors"in d&&t(2,i=d.colors),"dynamicVars"in d&&t(3,a=d.dynamicVars),"variable"in d&&t(4,o=d.variable),"metric"in d&&t(5,f=d.metric),"showPluralities"in d&&t(6,r=d.showPluralities),"pluralityVars"in d&&t(7,c=d.pluralityVars),"periods"in d&&t(8,_=d.periods),"breaks"in d&&t(9,g=d.breaks)},[s,n,i,a,o,f,r,c,_,g]}class Os extends Xe{constructor(e){super();Ze(this,e,Ss,As,$e,{groups:0,levels:1,colors:2,dynamicVars:3,variable:4,metric:5,showPluralities:6,pluralityVars:7,periods:8,breaks:9})}}function Et(l,e,t){const s=l.slice();return s[15]=e[t].name,s[9]=e[t].stats,s[17]=t,s}function Pt(l,e,t){const s=l.slice();return s[18]=e[t],s}function Dt(l,e,t){const s=l.slice();return s[12]=e[t],s}function Cs(l){let e,t=l[6],s=[];for(let n=0;n<t.length;n+=1)s[n]=Tt(Et(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=te()},l(n){for(let i=0;i<s.length;i+=1)s[i].l(n);e=te()},m(n,i){for(let a=0;a<s.length;a+=1)s[a].m(n,i);N(n,e,i)},p(n,i){if(i&200){t=n[6];let a;for(a=0;a<t.length;a+=1){const o=Et(n,t,a);s[a]?s[a].p(o,i):(s[a]=Tt(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(n){ve(s,n),n&&h(e)}}}function Is(l){let e,t=l[0],s=[];for(let n=0;n<t.length;n+=1)s[n]=St(Dt(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=te()},l(n){for(let i=0;i<s.length;i+=1)s[i].l(n);e=te()},m(n,i){for(let a=0;a<s.length;a+=1)s[a].m(n,i);N(n,e,i)},p(n,i){if(i&567){t=n[0];let a;for(a=0;a<t.length;a+=1){const o=Dt(n,t,a);s[a]?s[a].p(o,i):(s[a]=St(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(n){ve(s,n),n&&h(e)}}}function Vt(l){let e,t,s=Qe(l[18])+"",n,i,a,o=ge(l[9]["cvap19"+l[18]])+"",f,r,c,_=ge(l[9]["pop20"+l[18]])+"",g,d;return{c(){e=P("tr"),t=P("td"),n=L(s),i=z(),a=P("td"),f=L(o),r=z(),c=P("td"),g=L(_),d=z(),this.h()},l(v){e=D(v,"TR",{class:!0});var k=b(e);t=D(k,"TD",{class:!0});var M=b(t);n=B(M,s),M.forEach(h),i=R(k),a=D(k,"TD",{class:!0});var V=b(a);f=B(V,o),V.forEach(h),r=R(k),c=D(k,"TD",{class:!0});var A=b(c);g=B(A,_),A.forEach(h),d=R(k),k.forEach(h),this.h()},h(){m(t,"class","svelte-1avkicx"),m(a,"class","svelte-1avkicx"),m(c,"class","svelte-1avkicx"),m(e,"class","svelte-1avkicx")},m(v,k){N(v,e,k),u(e,t),u(t,n),u(e,i),u(e,a),u(a,f),u(e,r),u(e,c),u(c,g),u(e,d)},p(v,k){k&8&&s!==(s=Qe(v[18])+"")&&fe(n,s),k&72&&o!==(o=ge(v[9]["cvap19"+v[18]])+"")&&fe(f,o),k&72&&_!==(_=ge(v[9]["pop20"+v[18]])+"")&&fe(g,_)},d(v){v&&h(e)}}}function Tt(l){let e,t,s,n=(l[15]||"COI"+(l[17]+1))+"",i,a,o,f,r,c,_,g,d,v,k,M,V,A,y,F,ee,J,U=el(l[9].income)+"",X,G,I,q,j=ge(l[9].hhlang)+"",S,Y,W,re,x=ge(l[9].benefits)+"",Z,p,T,K;function ie(){return l[11](l[17])}let oe=l[3],le=[];for(let Q=0;Q<oe.length;Q+=1)le[Q]=Vt(Pt(l,oe,Q));return{c(){e=P("div"),t=P("p"),s=P("i"),i=L(n),a=z(),o=P("button"),f=L("\u{1F5D1}"),r=z(),c=P("table"),_=P("tr"),g=P("th"),d=z(),v=P("th"),k=L("CVAP"),M=z(),V=P("th"),A=L("Pop."),y=z();for(let Q=0;Q<le.length;Q+=1)le[Q].c();F=z(),ee=P("p"),J=L("Income: "),X=L(U),G=z(),I=P("p"),q=L("Asian and LEP: "),S=L(j),Y=z(),W=P("p"),re=L("Pct. gov't benefits: "),Z=L(x),p=z(),this.h()},l(Q){e=D(Q,"DIV",{});var C=b(e);t=D(C,"P",{class:!0});var O=b(t);s=D(O,"I",{});var se=b(s);i=B(se,n),se.forEach(h),a=R(O),o=D(O,"BUTTON",{});var Te=b(o);f=B(Te,"\u{1F5D1}"),Te.forEach(h),O.forEach(h),r=R(C),c=D(C,"TABLE",{class:!0});var be=b(c);_=D(be,"TR",{class:!0});var ce=b(_);g=D(ce,"TH",{class:!0}),b(g).forEach(h),d=R(ce),v=D(ce,"TH",{class:!0});var De=b(v);k=B(De,"CVAP"),De.forEach(h),M=R(ce),V=D(ce,"TH",{class:!0});var ke=b(V);A=B(ke,"Pop."),ke.forEach(h),ce.forEach(h),y=R(be);for(let Ve=0;Ve<le.length;Ve+=1)le[Ve].l(be);be.forEach(h),F=R(C),ee=D(C,"P",{class:!0});var Me=b(ee);J=B(Me,"Income: "),X=B(Me,U),Me.forEach(h),G=R(C),I=D(C,"P",{class:!0});var w=b(I);q=B(w,"Asian and LEP: "),S=B(w,j),w.forEach(h),Y=R(C),W=D(C,"P",{class:!0});var we=b(W);re=B(we,"Pct. gov't benefits: "),Z=B(we,x),we.forEach(h),p=R(C),C.forEach(h),this.h()},h(){m(t,"class","svelte-1avkicx"),m(g,"class","svelte-1avkicx"),m(v,"class","svelte-1avkicx"),m(V,"class","svelte-1avkicx"),m(_,"class","svelte-1avkicx"),m(c,"class","svelte-1avkicx"),m(ee,"class","table-footer svelte-1avkicx"),m(I,"class","table-footer svelte-1avkicx"),m(W,"class","table-footer svelte-1avkicx")},m(Q,C){N(Q,e,C),u(e,t),u(t,s),u(s,i),u(t,a),u(t,o),u(o,f),u(e,r),u(e,c),u(c,_),u(_,g),u(_,d),u(_,v),u(v,k),u(_,M),u(_,V),u(V,A),u(c,y);for(let O=0;O<le.length;O+=1)le[O].m(c,null);u(e,F),u(e,ee),u(ee,J),u(ee,X),u(e,G),u(e,I),u(I,q),u(I,S),u(e,Y),u(e,W),u(W,re),u(W,Z),u(e,p),T||(K=ue(o,"click",ie),T=!0)},p(Q,C){if(l=Q,C&64&&n!==(n=(l[15]||"COI"+(l[17]+1))+"")&&fe(i,n),C&72){oe=l[3];let O;for(O=0;O<oe.length;O+=1){const se=Pt(l,oe,O);le[O]?le[O].p(se,C):(le[O]=Vt(se),le[O].c(),le[O].m(c,null))}for(;O<le.length;O+=1)le[O].d(1);le.length=oe.length}C&64&&U!==(U=el(l[9].income)+"")&&fe(X,U),C&64&&j!==(j=ge(l[9].hhlang)+"")&&fe(S,j),C&64&&x!==(x=ge(l[9].benefits)+"")&&fe(Z,x)},d(Q){Q&&h(e),ve(le,Q),T=!1,K()}}}function Mt(l){let e,t,s,n=Hl(l[12])+"",i,a,o,f,r,c,_,g,d,v,k,M,V,A,y,F,ee,J=ge(l[9][l[12]].cvap10asian)+"",U,X,G,I=ge(l[9][l[12]].pop10asian)+"",q,j,S,Y,W,re,x,Z=ge(l[9][l[12]].cvap19asian)+"",p,T,K,ie=ge(l[9][l[12]].pop20asian)+"",oe,le,Q,C,O,se,Te,be=ge(l[9][l[12]].pct_increase)+"",ce,De,ke,Me=ge(l[9][l[12]].pct_increase_cvap)+"",w,we,Ve,sl,ol;function Pl(){return l[10](l[12])}let me=l[4]&&l[2]in l[5]&&At(l);return{c(){e=P("div"),t=P("p"),s=P("i"),i=L(n),a=z(),o=P("table"),f=P("tr"),r=P("th"),c=z(),_=P("th"),g=L("CVAP"),d=z(),v=P("th"),k=L("Pop."),M=z(),V=P("tr"),A=P("td"),y=L("Asians in 2010"),F=z(),ee=P("td"),U=L(J),X=z(),G=P("td"),q=L(I),j=z(),S=P("tr"),Y=P("td"),W=L("Asians now"),re=z(),x=P("td"),p=L(Z),T=z(),K=P("td"),oe=L(ie),le=z(),Q=P("tr"),C=P("td"),O=L("Asian increase"),se=z(),Te=P("td"),ce=L(be),De=z(),ke=P("td"),w=L(Me),we=z(),me&&me.c(),Ve=z(),this.h()},l(je){e=D(je,"DIV",{class:!0});var pe=b(e);t=D(pe,"P",{class:!0});var rl=b(t);s=D(rl,"I",{});var fl=b(s);i=B(fl,n),fl.forEach(h),rl.forEach(h),a=R(pe),o=D(pe,"TABLE",{class:!0});var Ie=b(o);f=D(Ie,"TR",{class:!0});var ze=b(f);r=D(ze,"TH",{class:!0}),b(r).forEach(h),c=R(ze),_=D(ze,"TH",{class:!0});var cl=b(_);g=B(cl,"CVAP"),cl.forEach(h),d=R(ze),v=D(ze,"TH",{class:!0});var ul=b(v);k=B(ul,"Pop."),ul.forEach(h),ze.forEach(h),M=R(Ie),V=D(Ie,"TR",{class:!0});var Re=b(V);A=D(Re,"TD",{class:!0});var hl=b(A);y=B(hl,"Asians in 2010"),hl.forEach(h),F=R(Re),ee=D(Re,"TD",{class:!0});var _l=b(ee);U=B(_l,J),_l.forEach(h),X=R(Re),G=D(Re,"TD",{class:!0});var gl=b(G);q=B(gl,I),gl.forEach(h),Re.forEach(h),j=R(Ie),S=D(Ie,"TR",{class:!0});var Ue=b(S);Y=D(Ue,"TD",{class:!0});var dl=b(Y);W=B(dl,"Asians now"),dl.forEach(h),re=R(Ue),x=D(Ue,"TD",{class:!0});var E=b(x);p=B(E,Z),E.forEach(h),T=R(Ue),K=D(Ue,"TD",{class:!0});var ne=b(K);oe=B(ne,ie),ne.forEach(h),Ue.forEach(h),le=R(Ie),Q=D(Ie,"TR",{class:!0});var H=b(Q);C=D(H,"TD",{class:!0});var he=b(C);O=B(he,"Asian increase"),he.forEach(h),se=R(H),Te=D(H,"TD",{class:!0});var de=b(Te);ce=B(de,be),de.forEach(h),De=R(H),ke=D(H,"TD",{class:!0});var ye=b(ke);w=B(ye,Me),ye.forEach(h),H.forEach(h),Ie.forEach(h),we=R(pe),me&&me.l(pe),Ve=R(pe),pe.forEach(h),this.h()},h(){m(t,"class","svelte-1avkicx"),m(r,"class","svelte-1avkicx"),m(_,"class","svelte-1avkicx"),m(v,"class","svelte-1avkicx"),m(f,"class","svelte-1avkicx"),m(A,"class","svelte-1avkicx"),m(ee,"class","svelte-1avkicx"),m(G,"class","svelte-1avkicx"),m(V,"class","svelte-1avkicx"),m(Y,"class","svelte-1avkicx"),m(x,"class","svelte-1avkicx"),m(K,"class","svelte-1avkicx"),m(S,"class","svelte-1avkicx"),m(C,"class","svelte-1avkicx"),m(Te,"class","svelte-1avkicx"),m(ke,"class","svelte-1avkicx"),m(Q,"class","svelte-1avkicx"),m(o,"class","svelte-1avkicx"),m(e,"class","district-aggregate svelte-1avkicx")},m(je,pe){N(je,e,pe),u(e,t),u(t,s),u(s,i),u(e,a),u(e,o),u(o,f),u(f,r),u(f,c),u(f,_),u(_,g),u(f,d),u(f,v),u(v,k),u(o,M),u(o,V),u(V,A),u(A,y),u(V,F),u(V,ee),u(ee,U),u(V,X),u(V,G),u(G,q),u(o,j),u(o,S),u(S,Y),u(Y,W),u(S,re),u(S,x),u(x,p),u(S,T),u(S,K),u(K,oe),u(o,le),u(o,Q),u(Q,C),u(C,O),u(Q,se),u(Q,Te),u(Te,ce),u(Q,De),u(Q,ke),u(ke,w),u(e,we),me&&me.m(e,null),u(e,Ve),sl||(ol=ue(t,"click",Pl),sl=!0)},p(je,pe){l=je,pe&1&&n!==(n=Hl(l[12])+"")&&fe(i,n),pe&513&&J!==(J=ge(l[9][l[12]].cvap10asian)+"")&&fe(U,J),pe&513&&I!==(I=ge(l[9][l[12]].pop10asian)+"")&&fe(q,I),pe&513&&Z!==(Z=ge(l[9][l[12]].cvap19asian)+"")&&fe(p,Z),pe&513&&ie!==(ie=ge(l[9][l[12]].pop20asian)+"")&&fe(oe,ie),pe&513&&be!==(be=ge(l[9][l[12]].pct_increase)+"")&&fe(ce,be),pe&513&&Me!==(Me=ge(l[9][l[12]].pct_increase_cvap)+"")&&fe(w,Me),l[4]&&l[2]in l[5]?me?me.p(l,pe):(me=At(l),me.c(),me.m(e,Ve)):me&&(me.d(1),me=null)},d(je){je&&h(e),me&&me.d(),sl=!1,ol()}}}function At(l){let e,t,s=el(l[9][l[12]].income)+(l[4]&&l[2]in l[5]?"; "+Fl(l[9][l[12]].pop20_total-l[5][l[2]]):"")+"",n;return{c(){e=P("p"),t=L("Income: "),n=L(s),this.h()},l(i){e=D(i,"P",{class:!0});var a=b(e);t=B(a,"Income: "),n=B(a,s),a.forEach(h),this.h()},h(){m(e,"class","table-footer svelte-1avkicx")},m(i,a){N(i,e,a),u(e,t),u(e,n)},p(i,a){a&565&&s!==(s=el(i[9][i[12]].income)+(i[4]&&i[2]in i[5]?"; "+Fl(i[9][i[12]].pop20_total-i[5][i[2]]):"")+"")&&fe(n,s)},d(i){i&&h(e)}}}function St(l){let e=l[12].split(",")[0].split("_")[0]===l[2].split("_")[0],t,s=e&&Mt(l);return{c(){s&&s.c(),t=te()},l(n){s&&s.l(n),t=te()},m(n,i){s&&s.m(n,i),N(n,t,i)},p(n,i){i&5&&(e=n[12].split(",")[0].split("_")[0]===n[2].split("_")[0]),e?s?s.p(n,i):(s=Mt(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(n){s&&s.d(n),n&&h(t)}}}function Ns(l){let e;function t(i,a){if(i[8]==="districts")return Is;if(i[8]==="community")return Cs}let s=t(l),n=s&&s(l);return{c(){n&&n.c(),e=te()},l(i){n&&n.l(i),e=te()},m(i,a){n&&n.m(i,a),N(i,e,a)},p(i,[a]){s===(s=t(i))&&n?n.p(i,a):(n&&n.d(1),n=s&&s(i),n&&(n.c(),n.m(e.parentNode,e)))},i:Fe,o:Fe,d(i){n&&n.d(i),i&&h(e)}}}function js(l,e,t){let{aggregates:s,handleLabelClick:n,plan:i,stats:a,groups:o,changingLines:f,idealValues:r}=e,{drawings:c=[]}=e,{delDrawing:_=void 0}=e,{type:g="districts"}=e;const d=k=>n(k),v=k=>_(k);return l.$$set=k=>{"aggregates"in k&&t(0,s=k.aggregates),"handleLabelClick"in k&&t(1,n=k.handleLabelClick),"plan"in k&&t(2,i=k.plan),"stats"in k&&t(9,a=k.stats),"groups"in k&&t(3,o=k.groups),"changingLines"in k&&t(4,f=k.changingLines),"idealValues"in k&&t(5,r=k.idealValues),"drawings"in k&&t(6,c=k.drawings),"delDrawing"in k&&t(7,_=k.delDrawing),"type"in k&&t(8,g=k.type)},[s,n,i,o,f,r,c,_,g,a,d,v]}class Ot extends Xe{constructor(e){super();Ze(this,e,js,Ns,$e,{aggregates:0,handleLabelClick:1,plan:2,stats:9,groups:3,changingLines:4,idealValues:5,drawings:6,delDrawing:7,type:8})}}const ys=l=>({}),Ct=l=>({}),Ls=l=>({}),It=l=>({});function Nt(l){let e,t,s,n;const i=l[4].body,a=Bl(i,l,l[3],Ct);return{c(){e=P("div"),a&&a.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=b(e);a&&a.l(f),f.forEach(h),this.h()},h(){m(e,"class","svelte-a3zm9u")},m(o,f){N(o,e,f),a&&a.m(e,null),n=!0},p(o,f){a&&a.p&&(!n||f&8)&&zl(a,i,o,o[3],n?Ul(i,o[3],f,ys):Rl(o[3]),Ct)},i(o){n||($(a,o),Se(()=>{s&&s.end(1),t=qe(e,ml,{}),t.start()}),n=!0)},o(o){ae(a,o),t&&t.invalidate(),s=He(e,ml,{}),n=!1},d(o){o&&h(e),a&&a.d(o),o&&s&&s.end()}}}function Bs(l){let e,t,s,n=(l[2]==="plans"?"Districts and plans":Qe(l[2]))+"",i,a,o=(l[0].includes(l[2])?"\u2191":"\u2193")+"",f,r,c,_=l[0].includes(l[2]),g,d,v;const k=l[4].title,M=Bl(k,l,l[3],It);let V=_&&Nt(l);return{c(){e=P("div"),t=P("h3"),s=P("button"),i=L(n),a=z(),f=L(o),r=z(),M&&M.c(),c=z(),V&&V.c(),this.h()},l(A){e=D(A,"DIV",{class:!0});var y=b(e);t=D(y,"H3",{class:!0});var F=b(t);s=D(F,"BUTTON",{});var ee=b(s);i=B(ee,n),a=R(ee),f=B(ee,o),ee.forEach(h),r=R(F),M&&M.l(F),F.forEach(h),c=R(y),V&&V.l(y),y.forEach(h),this.h()},h(){m(t,"class","svelte-a3zm9u"),m(e,"class","panel svelte-a3zm9u")},m(A,y){N(A,e,y),u(e,t),u(t,s),u(s,i),u(s,a),u(s,f),u(t,r),M&&M.m(t,null),u(e,c),V&&V.m(e,null),g=!0,d||(v=ue(s,"click",l[5]),d=!0)},p(A,[y]){(!g||y&4)&&n!==(n=(A[2]==="plans"?"Districts and plans":Qe(A[2]))+"")&&fe(i,n),(!g||y&5)&&o!==(o=(A[0].includes(A[2])?"\u2191":"\u2193")+"")&&fe(f,o),M&&M.p&&(!g||y&8)&&zl(M,k,A,A[3],g?Ul(k,A[3],y,Ls):Rl(A[3]),It),y&5&&(_=A[0].includes(A[2])),_?V?(V.p(A,y),y&5&&$(V,1)):(V=Nt(A),V.c(),$(V,1),V.m(e,null)):V&&(Le(),ae(V,1,1,()=>{V=null}),Be())},i(A){g||($(M,A),$(V),g=!0)},o(A){ae(M,A),ae(V),g=!1},d(A){A&&h(e),M&&M.d(A),V&&V.d(),d=!1,v()}}}function zs(l,e,t){let{$$slots:s={},$$scope:n}=e,{panels:i,togglePanel:a,panelName:o}=e;const f=()=>a(o);return l.$$set=r=>{"panels"in r&&t(0,i=r.panels),"togglePanel"in r&&t(1,a=r.togglePanel),"panelName"in r&&t(2,o=r.panelName),"$$scope"in r&&t(3,n=r.$$scope)},[i,a,o,n,s,f]}class Ol extends Xe{constructor(e){super();Ze(this,e,zs,Bs,$e,{panels:0,togglePanel:1,panelName:2})}}function jt(l){let e,t,s,n,i,a,o,f,r,c,_;return{c(){e=P("div"),t=P("a"),s=L("Click here"),n=L(` to see a video tutorial of this website!
    `),i=P("button"),a=L("Close message."),this.h()},l(g){e=D(g,"DIV",{class:!0});var d=b(e);t=D(d,"A",{href:!0});var v=b(t);s=B(v,"Click here"),v.forEach(h),n=B(d,` to see a video tutorial of this website!
    `),i=D(d,"BUTTON",{class:!0});var k=b(i);a=B(k,"Close message."),k.forEach(h),d.forEach(h),this.h()},h(){m(t,"href",""),m(i,"class","svelte-a8zkqf"),m(e,"class","modal svelte-a8zkqf")},m(g,d){N(g,e,d),u(e,t),u(t,s),u(e,n),u(e,i),u(i,a),r=!0,c||(_=ue(i,"click",function(){Vl(l[1])&&l[1].apply(this,arguments)}),c=!0)},p(g,d){l=g},i(g){r||(Se(()=>{f&&f.end(1),o=qe(e,Oe,{}),o.start()}),r=!0)},o(g){o&&o.invalidate(),f=He(e,Oe,{}),r=!1},d(g){g&&h(e),g&&f&&f.end(),c=!1,_()}}}function Rs(l){let e,t,s=l[0]&&jt(l);return{c(){s&&s.c(),e=te()},l(n){s&&s.l(n),e=te()},m(n,i){s&&s.m(n,i),N(n,e,i),t=!0},p(n,[i]){n[0]?s?(s.p(n,i),i&1&&$(s,1)):(s=jt(n),s.c(),$(s,1),s.m(e.parentNode,e)):s&&(Le(),ae(s,1,1,()=>{s=null}),Be())},i(n){t||($(s),t=!0)},o(n){ae(s),t=!1},d(n){s&&s.d(n),n&&h(e)}}}function Us(l,e,t){let{showModal:s,closeModal:n}=e;return l.$$set=i=>{"showModal"in i&&t(0,s=i.showModal),"closeModal"in i&&t(1,n=i.closeModal)},[s,n]}class qs extends Xe{constructor(e){super();Ze(this,e,Us,Rs,$e,{showModal:0,closeModal:1})}}function yt(l,e,t){const s=l.slice();return s[69]=e[t],s}function Lt(l,e,t){const s=l.slice();return s[72]=e[t],s}function Bt(l,e,t){const s=l.slice();return s[75]=e[t],s}function zt(l,e,t){const s=l.slice();return s[78]=e[t],s}function Rt(l,e,t){const s=l.slice();return s[69]=e[t],s}function Ut(l,e,t){const s=l.slice();return s[69]=e[t],s}function qt(l){let e,t=(kl[l[69]]||l[69])+"",s,n;return{c(){e=P("option"),s=L(t),this.h()},l(i){e=D(i,"OPTION",{});var a=b(e);s=B(a,t),a.forEach(h),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(i,a){N(i,e,a),u(e,s)},p(i,a){a[0]&4&&t!==(t=(kl[i[69]]||i[69])+"")&&fe(s,t),a[0]&4&&n!==(n=i[69])&&(e.__value=n,e.value=e.__value)},d(i){i&&h(e)}}}function Ht(l){let e,t=(kl[l[69]]||l[69])+"",s,n;return{c(){e=P("option"),s=L(t),this.h()},l(i){e=D(i,"OPTION",{});var a=b(e);s=B(a,t),a.forEach(h),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(i,a){N(i,e,a),u(e,s)},p(i,a){a[0]&8&&t!==(t=(kl[i[69]]||i[69])+"")&&fe(s,t),a[0]&8&&n!==(n=i[69])&&(e.__value=n,e.value=e.__value)},d(i){i&&h(e)}}}function Ft(l){let e,t=l[2].includes(l[17]),s,n=l[2].includes(l[17]),i,a,o,f=t&&Gt(l),r=n&&Yt(l);return{c(){e=P("div"),f&&f.c(),s=z(),r&&r.c()},l(c){e=D(c,"DIV",{});var _=b(e);f&&f.l(_),s=R(_),r&&r.l(_),_.forEach(h)},m(c,_){N(c,e,_),f&&f.m(e,null),u(e,s),r&&r.m(e,null),o=!0},p(c,_){_[0]&131076&&(t=c[2].includes(c[17])),t?f?f.p(c,_):(f=Gt(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null),_[0]&131076&&(n=c[2].includes(c[17])),n?r?r.p(c,_):(r=Yt(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){o||(Se(()=>{a&&a.end(1),i=qe(e,ml,{}),i.start()}),o=!0)},o(c){i&&i.invalidate(),a=He(e,ml,{}),o=!1},d(c){c&&h(e),f&&f.d(),r&&r.d(),c&&a&&a.end()}}}function Gt(l){let e,t=["past","present"],s=[];for(let n=0;n<2;n+=1)s[n]=Wt(zt(l,t,n));return{c(){for(let n=0;n<2;n+=1)s[n].c();e=te()},l(n){for(let i=0;i<2;i+=1)s[i].l(n);e=te()},m(n,i){for(let a=0;a<2;a+=1)s[a].m(n,i);N(n,e,i)},p(n,i){if(i[0]&65536){t=["past","present"];let a;for(a=0;a<2;a+=1){const o=zt(n,t,a);s[a]?s[a].p(o,i):(s[a]=Wt(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<2;a+=1)s[a].d(1)}},d(n){ve(s,n),n&&h(e)}}}function Wt(l){let e,t,s,n=Qe(l[78])+"",i,a,o,f;return{c(){e=P("label"),t=P("input"),s=z(),i=L(n),a=z(),this.h()},l(r){e=D(r,"LABEL",{});var c=b(e);t=D(c,"INPUT",{type:!0,name:!0}),s=R(c),i=B(c,n),a=R(c),c.forEach(h),this.h()},h(){m(t,"type","radio"),m(t,"name","period"),t.__value=l[78],t.value=t.__value,l[56][0].push(t)},m(r,c){N(r,e,c),u(e,t),t.checked=t.__value===l[16],u(e,s),u(e,i),u(e,a),o||(f=ue(t,"change",l[55]),o=!0)},p(r,c){c[0]&65536&&(t.checked=t.__value===r[16])},d(r){r&&h(e),l[56][0].splice(l[56][0].indexOf(t),1),o=!1,f()}}}function Yt(l){let e,t,s=(l[18]?"pct. asian":"pluralities")+"",n,i,a;return{c(){e=P("button"),t=L("Show "),n=L(s),this.h()},l(o){e=D(o,"BUTTON",{class:!0});var f=b(e);t=B(f,"Show "),n=B(f,s),f.forEach(h),this.h()},h(){m(e,"class","plurality-toggle svelte-1fv06xq")},m(o,f){N(o,e,f),u(e,t),u(e,n),i||(a=ue(e,"click",l[57]),i=!0)},p(o,f){f[0]&262144&&s!==(s=(o[18]?"pct. asian":"pluralities")+"")&&fe(n,s)},d(o){o&&h(e),i=!1,a()}}}function Kt(l){let e,t=vs(l[72]+l[75])+"",s,n;return{c(){e=P("option"),s=L(t),this.h()},l(i){e=D(i,"OPTION",{});var a=b(e);s=B(a,t),a.forEach(h),this.h()},h(){e.__value=n=l[72]+l[75],e.value=e.__value},m(i,a){N(i,e,a),u(e,s)},p:Fe,d(i){i&&h(e)}}}function Qt(l){let e,t,s,n,i=["","_letters","_names"],a=[];for(let o=0;o<3;o+=1)a[o]=Kt(Bt(l,i,o));return{c(){e=P("optgroup");for(let o=0;o<3;o+=1)a[o].c();t=P("option"),s=L("Unity Map (soon)"),this.h()},l(o){e=D(o,"OPTGROUP",{label:!0});var f=b(e);for(let c=0;c<3;c+=1)a[c].l(f);t=D(f,"OPTION",{});var r=b(t);s=B(r,"Unity Map (soon)"),r.forEach(h),f.forEach(h),this.h()},h(){t.disabled=!0,t.__value="Unity Map (soon)",t.value=t.__value,m(e,"label",n=Qe(l[72]))},m(o,f){N(o,e,f);for(let r=0;r<3;r+=1)a[r].m(e,null);u(e,t),u(t,s)},p(o,f){if(f&0){i=["","_letters","_names"];let r;for(r=0;r<3;r+=1){const c=Bt(o,i,r);a[r]?a[r].p(c,f):(a[r]=Kt(c),a[r].c(),a[r].m(e,t))}for(;r<3;r+=1)a[r].d(1)}},d(o){o&&h(e),ve(a,o)}}}function Hs(l){let e,t,s,n,i,a,o,f,r=["assembly","senate","congress"],c=[];for(let _=0;_<3;_+=1)c[_]=Qt(Lt(l,r,_));return i=new Ot({props:{aggregates:l[10],handleLabelClick:l[42],plan:l[11],stats:l[25],groups:ll,changingLines:l[33],idealValues:ks}}),{c(){e=P("div"),t=P("div"),s=P("select");for(let _=0;_<3;_+=1)c[_].c();n=z(),Ge(i.$$.fragment),this.h()},l(_){e=D(_,"DIV",{slot:!0});var g=b(e);t=D(g,"DIV",{class:!0});var d=b(t);s=D(d,"SELECT",{class:!0});var v=b(s);for(let k=0;k<3;k+=1)c[k].l(v);v.forEach(h),d.forEach(h),n=R(g),We(i.$$.fragment,g),g.forEach(h),this.h()},h(){m(s,"class","svelte-1fv06xq"),l[11]===void 0&&Se(()=>l[58].call(s)),m(t,"class","plan-selector svelte-1fv06xq"),m(e,"slot","body")},m(_,g){N(_,e,g),u(e,t),u(t,s);for(let d=0;d<3;d+=1)c[d].m(s,null);xe(s,l[11]),u(e,n),Ye(i,e,null),a=!0,o||(f=ue(s,"change",l[58]),o=!0)},p(_,g){if(g&0){r=["assembly","senate","congress"];let v;for(v=0;v<3;v+=1){const k=Lt(_,r,v);c[v]?c[v].p(k,g):(c[v]=Qt(k),c[v].c(),c[v].m(s,null))}for(;v<3;v+=1)c[v].d(1)}g[0]&2048&&xe(s,_[11]);const d={};g[0]&1024&&(d.aggregates=_[10]),g[0]&2048&&(d.plan=_[11]),g[0]&33554432&&(d.stats=_[25]),i.$set(d)},i(_){a||($(i.$$.fragment,_),a=!0)},o(_){ae(i.$$.fragment,_),a=!1},d(_){_&&h(e),ve(c,_),Ke(i),o=!1,f()}}}function Jt(l){let e,t=l[69]+"",s,n;return{c(){e=P("option"),s=L(t),this.h()},l(i){e=D(i,"OPTION",{});var a=b(e);s=B(a,t),a.forEach(h),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(i,a){N(i,e,a),u(e,s)},p:Fe,d(i){i&&h(e)}}}function Fs(l){let e,t,s,n,i,a,o,f,r=Object.keys(El),c=[];for(let _=0;_<r.length;_+=1)c[_]=Jt(yt(l,r,_));return{c(){e=P("div"),t=P("select");for(let _=0;_<c.length;_+=1)c[_].c();s=z(),n=P("label"),i=P("input"),a=L(`
					Inspect streets`),this.h()},l(_){e=D(_,"DIV",{slot:!0,class:!0});var g=b(e);t=D(g,"SELECT",{class:!0});var d=b(t);for(let k=0;k<c.length;k+=1)c[k].l(d);d.forEach(h),s=R(g),n=D(g,"LABEL",{class:!0});var v=b(n);i=D(v,"INPUT",{type:!0}),a=B(v,`
					Inspect streets`),v.forEach(h),g.forEach(h),this.h()},h(){m(t,"class","svelte-1fv06xq"),l[15]===void 0&&Se(()=>l[59].call(t)),m(i,"type","checkbox"),m(n,"class","svelte-1fv06xq"),m(e,"slot","body"),m(e,"class","views svelte-1fv06xq")},m(_,g){N(_,e,g),u(e,t);for(let d=0;d<c.length;d+=1)c[d].m(t,null);xe(t,l[15]),u(e,s),u(e,n),u(n,i),i.checked=l[7],u(n,a),o||(f=[ue(t,"change",l[59]),ue(i,"change",l[60])],o=!0)},p(_,g){if(g&0){r=Object.keys(El);let d;for(d=0;d<r.length;d+=1){const v=yt(_,r,d);c[d]?c[d].p(v,g):(c[d]=Jt(v),c[d].c(),c[d].m(t,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}g[0]&32768&&xe(t,_[15]),g[0]&128&&(i.checked=_[7])},d(_){_&&h(e),ve(c,_),o=!1,al(f)}}}function Gs(l){let e,t,s,n;return{c(){e=P("button"),t=L("+"),this.h()},l(i){e=D(i,"BUTTON",{slot:!0});var a=b(e);t=B(a,"+"),a.forEach(h),this.h()},h(){m(e,"slot","title")},m(i,a){N(i,e,a),u(e,t),s||(n=ue(e,"click",l[61]),s=!0)},p:Fe,d(i){i&&h(e),s=!1,n()}}}function Ws(l){let e,t,s,n,i,a,o,f,r;return t=new Ot({props:{type:"community",drawings:l[9],delDrawing:l[39],groups:ll,stats:l[25]}}),{c(){e=P("div"),Ge(t.$$.fragment),s=z(),n=P("button"),i=P("b"),a=L("[SAVE]"),this.h()},l(c){e=D(c,"DIV",{slot:!0,class:!0});var _=b(e);We(t.$$.fragment,_),s=R(_),n=D(_,"BUTTON",{style:!0});var g=b(n);i=D(g,"B",{});var d=b(i);a=B(d,"[SAVE]"),d.forEach(h),g.forEach(h),_.forEach(h),this.h()},h(){_e(n,"font-size","13px"),m(e,"slot","body"),m(e,"class","community svelte-1fv06xq")},m(c,_){N(c,e,_),Ye(t,e,null),u(e,s),u(e,n),u(n,i),u(i,a),o=!0,f||(r=ue(n,"click",l[40]),f=!0)},p(c,_){const g={};_[0]&512&&(g.drawings=c[9]),_[0]&33554432&&(g.stats=c[25]),t.$set(g)},i(c){o||($(t.$$.fragment,c),o=!0)},o(c){ae(t.$$.fragment,c),o=!1},d(c){c&&h(e),Ke(t),f=!1,r()}}}function Ys(l){let e,t,s,n,i,a,o,f,r,c,_,g,d,v,k,M,V,A,y,F,ee,J,U,X,G,I,q,j,S;e=new qs({props:{showModal:l[21],closeModal:l[36]}});let Y=l[2],W=[];for(let p=0;p<Y.length;p+=1)W[p]=qt(Ut(l,Y,p));let re=l[3],x=[];for(let p=0;p<re.length;p+=1)x[p]=Ht(Rt(l,re,p));let Z=l[22]&&Ft(l);return c=new Os({props:{groups:ll,levels:Sl,colors:Al,dynamicVars:l[2],variable:l[17],metric:l[20],showPluralities:l[18],pluralityVars:l[5],periods:bl,breaks:l[32]}}),g=new Ol({props:{panelName:"plans",panels:l[6],togglePanel:l[41],$$slots:{body:[Hs]},$$scope:{ctx:l}}}),v=new Ol({props:{panelName:"views",panels:l[6],togglePanel:l[41],$$slots:{body:[Fs]},$$scope:{ctx:l}}}),M=new Ol({props:{panelName:"communities",panels:l[6],togglePanel:l[41],$$slots:{body:[Ws],title:[Gs]},$$scope:{ctx:l}}}),A=new Ds({props:{viewBox:l[19],labelSize:l[31],draggedBgs:l[8],data:l[1],path:vl,color:l[38],changingLines:l[33],neighbor:l[37],showPluralities:l[18],metric:l[20],period:l[16],tractVars:l[4],panels:l[6],drawings:l[9],plan:l[11],points:l[28],tractMesh:l[35],bgMesh:l[26],mesh:l[34],aggregates:l[10],obj:l[0],handleLabelClick:l[42],congressPlans:l[12],plans:l[27],startDrag:l[43],endDrag:l[44],handleMouseMove:l[45],viewCutoff:l[30],showOnlyFocusDistricts:l[23],showStreets:l[7],streets:l[13]}}),{c(){Ge(e.$$.fragment),t=z(),s=P("div"),n=P("div"),i=P("select"),a=P("optgroup");for(let p=0;p<W.length;p+=1)W[p].c();o=P("optgroup");for(let p=0;p<x.length;p+=1)x[p].c();f=z(),Z&&Z.c(),r=z(),Ge(c.$$.fragment),_=z(),Ge(g.$$.fragment),d=z(),Ge(v.$$.fragment),k=z(),Ge(M.$$.fragment),V=z(),Ge(A.$$.fragment),y=z(),F=P("div"),ee=P("p"),J=L("Questions, suggestions, concerns --> "),U=P("a"),X=L("jason.kao@columbia.edu"),G=L("."),this.h()},l(p){We(e.$$.fragment,p),t=R(p),s=D(p,"DIV",{class:!0,style:!0});var T=b(s);n=D(T,"DIV",{class:!0});var K=b(n);i=D(K,"SELECT",{style:!0,class:!0});var ie=b(i);a=D(ie,"OPTGROUP",{label:!0});var oe=b(a);for(let se=0;se<W.length;se+=1)W[se].l(oe);oe.forEach(h),o=D(ie,"OPTGROUP",{label:!0});var le=b(o);for(let se=0;se<x.length;se+=1)x[se].l(le);le.forEach(h),ie.forEach(h),f=R(K),Z&&Z.l(K),r=R(K),We(c.$$.fragment,K),_=R(K),We(g.$$.fragment,K),d=R(K),We(v.$$.fragment,K),k=R(K),We(M.$$.fragment,K),K.forEach(h),V=R(T),We(A.$$.fragment,T),y=R(T),F=D(T,"DIV",{class:!0});var Q=b(F);ee=D(Q,"P",{});var C=b(ee);J=B(C,"Questions, suggestions, concerns --> "),U=D(C,"A",{href:!0});var O=b(U);X=B(O,"jason.kao@columbia.edu"),O.forEach(h),G=B(C,"."),C.forEach(h),Q.forEach(h),T.forEach(h),this.h()},h(){m(a,"label","Redistricting data"),m(o,"label","American Community Survey data"),_e(i,"width",l[3].includes(l[17])?"auto":"calc(var(--control-width) - 20px)"),m(i,"class","svelte-1fv06xq"),l[17]===void 0&&Se(()=>l[54].call(i)),m(n,"class","controls svelte-1fv06xq"),m(U,"href","mailto:jason.kao@console.edu"),m(F,"class","footer svelte-1fv06xq"),m(s,"class","container svelte-1fv06xq"),_e(s,"cursor",l[24]?"crosshair":"auto"),_e(s,"--container-font",l[29]+"px"),_e(s,"--control-width",270+(l[29]-16)*10+"px"),Se(()=>l[62].call(s))},m(p,T){Ye(e,p,T),N(p,t,T),N(p,s,T),u(s,n),u(n,i),u(i,a);for(let K=0;K<W.length;K+=1)W[K].m(a,null);u(i,o);for(let K=0;K<x.length;K+=1)x[K].m(o,null);xe(i,l[17]),u(n,f),Z&&Z.m(n,null),u(n,r),Ye(c,n,null),u(n,_),Ye(g,n,null),u(n,d),Ye(v,n,null),u(n,k),Ye(M,n,null),u(s,V),Ye(A,s,null),u(s,y),u(s,F),u(F,ee),u(ee,J),u(ee,U),u(U,X),u(ee,G),I=os(s,l[62].bind(s)),q=!0,j||(S=[ue(window,"keydown",l[46]),ue(i,"change",l[54])],j=!0)},p(p,T){const K={};if(T[0]&2097152&&(K.showModal=p[21]),e.$set(K),T[0]&4){Y=p[2];let O;for(O=0;O<Y.length;O+=1){const se=Ut(p,Y,O);W[O]?W[O].p(se,T):(W[O]=qt(se),W[O].c(),W[O].m(a,null))}for(;O<W.length;O+=1)W[O].d(1);W.length=Y.length}if(T[0]&8){re=p[3];let O;for(O=0;O<re.length;O+=1){const se=Rt(p,re,O);x[O]?x[O].p(se,T):(x[O]=Ht(se),x[O].c(),x[O].m(o,null))}for(;O<x.length;O+=1)x[O].d(1);x.length=re.length}(!q||T[0]&131080)&&_e(i,"width",p[3].includes(p[17])?"auto":"calc(var(--control-width) - 20px)"),T[0]&131084&&xe(i,p[17]),p[22]?Z?(Z.p(p,T),T[0]&4194304&&$(Z,1)):(Z=Ft(p),Z.c(),$(Z,1),Z.m(n,r)):Z&&(Le(),ae(Z,1,1,()=>{Z=null}),Be());const ie={};T[0]&4&&(ie.dynamicVars=p[2]),T[0]&131072&&(ie.variable=p[17]),T[0]&1048576&&(ie.metric=p[20]),T[0]&262144&&(ie.showPluralities=p[18]),T[0]&32&&(ie.pluralityVars=p[5]),T[1]&2&&(ie.breaks=p[32]),c.$set(ie);const oe={};T[0]&64&&(oe.panels=p[6]),T[0]&33557504|T[2]&8388608&&(oe.$$scope={dirty:T,ctx:p}),g.$set(oe);const le={};T[0]&64&&(le.panels=p[6]),T[0]&32896|T[2]&8388608&&(le.$$scope={dirty:T,ctx:p}),v.$set(le);const Q={};T[0]&64&&(Q.panels=p[6]),T[0]&50332160|T[2]&8388608&&(Q.$$scope={dirty:T,ctx:p}),M.$set(Q);const C={};T[0]&524288&&(C.viewBox=p[19]),T[1]&1&&(C.labelSize=p[31]),T[0]&256&&(C.draggedBgs=p[8]),T[0]&2&&(C.data=p[1]),T[0]&262144&&(C.showPluralities=p[18]),T[0]&1048576&&(C.metric=p[20]),T[0]&65536&&(C.period=p[16]),T[0]&16&&(C.tractVars=p[4]),T[0]&64&&(C.panels=p[6]),T[0]&512&&(C.drawings=p[9]),T[0]&2048&&(C.plan=p[11]),T[0]&268435456&&(C.points=p[28]),T[0]&67108864&&(C.bgMesh=p[26]),T[0]&1024&&(C.aggregates=p[10]),T[0]&1&&(C.obj=p[0]),T[0]&4096&&(C.congressPlans=p[12]),T[0]&134217728&&(C.plans=p[27]),T[0]&1073741824&&(C.viewCutoff=p[30]),T[0]&8388608&&(C.showOnlyFocusDistricts=p[23]),T[0]&128&&(C.showStreets=p[7]),T[0]&8192&&(C.streets=p[13]),A.$set(C),(!q||T[0]&16777216)&&_e(s,"cursor",p[24]?"crosshair":"auto"),(!q||T[0]&536870912)&&_e(s,"--container-font",p[29]+"px"),(!q||T[0]&536870912)&&_e(s,"--control-width",270+(p[29]-16)*10+"px")},i(p){q||($(e.$$.fragment,p),$(Z),$(c.$$.fragment,p),$(g.$$.fragment,p),$(v.$$.fragment,p),$(M.$$.fragment,p),$(A.$$.fragment,p),q=!0)},o(p){ae(e.$$.fragment,p),ae(Z),ae(c.$$.fragment,p),ae(g.$$.fragment,p),ae(v.$$.fragment,p),ae(M.$$.fragment,p),ae(A.$$.fragment,p),q=!1},d(p){Ke(e,p),p&&h(t),p&&h(s),ve(W,p),ve(x,p),Z&&Z.d(),Ke(c),Ke(g),Ke(v),Ke(M),Ke(A),I(),j=!1,al(S)}}}async function $s({fetch:l}){const e=await(await l(`${Ml}/output_census.topojson`)).json(),t=_s(e.objects.census),s=as(e,t).features.map(Gl),n=["pop","cvap"],i=[...s.reduce((o,f)=>{const r=Object.keys(f.properties).filter(c=>[...n,"GEOID","senate","assembly","congress"].every(_=>!c.includes(_))&&c===c.toLowerCase()).map(c=>c.split("_")[0]);return new Set([...o,...r])},[])],a=s.reduce((o,f,r)=>(o[f.properties.GEOID]=r,o),{});return{props:{topoData:e,obj:t,data:s,neighbors:is(t.geometries),dynamicVars:n,staticVars:i,idToIndex:a,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}function Ks(l,e,t){let s,n,i,a,o,{topoData:f,obj:r,neighbors:c,data:_,dynamicVars:g,staticVars:d,tractVars:v,pluralityVars:k,idToIndex:M}=e,V=[],A,y,F=!0,ee=!1,J,U,X,G,I=[],q=[],j=[],S={},Y="assembly",W,re,x,Z,p,T=18,K,ie=3144,oe=Object.keys(El)[0];const le=E=>il(f,r,E),Q=vl(le((E,ne)=>Ce(E).substring(0,11)!==Ce(ne).substring(0,11))),C=()=>t(21,y=!1);rs(async()=>{t(26,W=vl(Gl(le((ne,H)=>Ce(ne)!==Ce(H)))));const E=await Promise.all([ds(),ps()]);t(27,re=E[0]),t(28,Z=E[1]),t(30,ie=_.length),t(21,y=!0)});let O;const se=E=>_[E].properties[Y];function Te(E){const ne=se(E),H=new Set(c[E].map(se).filter(he=>he!==ne));if(H.size===1)t(0,r.geometries[E].properties[Y]=O=H.values().next().value,r);else if(H.has(O))t(0,r.geometries[E].properties[Y]=O,r);else return;t(0,r)}let be="present",ce="pop";const De={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let ke=!1;function Me({properties:E}){if(!E.ALAND)return"#fff";const ne=E[`${n}_total`];if(k.includes(n)){const H=de=>E[`${n}_${de}`];if(H(bl[0])===null)return"#eee";const he=[...bl].sort((de,ye)=>H(ye)-H(de));return tl[bl.indexOf(he[0])]}else if(d.includes(n)){if(!Wl(i(E)))return"#eee";if(ne<=10)return"#fff";for(let H=1;H<a.length;H++)if(i(E)<a[H])return tl[H];return tl[a.length-1]}else{if(ne<=10)return"#fff";const H=he=>E[`${n}_${he}`]/E[`${n}_total`];if(ke){const he=ll.filter(nl=>H(nl)>.5)[0];if(he!==void 0)return Al[he]+Sl[ne<130?0:ne<200?1:2];const de=[...ll].sort((nl,pl)=>H(pl)-H(nl)),ye=H(de[0])-H(de[1]);return Al[de[0]]+Sl[ye<.093?0:1]}else{const he=De[ce];for(let de=1;de<he.length;de++)if(H("asian")<he[de])return wl[de-1];return wl[he.length-1]}}}const w=async()=>t(12,x=await ms()),we=async()=>t(13,p=await bs());function Ve(E){const ne=typeof E[0]=="string"?E.map(Ae=>_[M[Ae]].properties):E.map(Ae=>Ae.properties),H=(Ae,Je)=>ne.reduce((Zt,Il)=>Zt+(Il[Ae]||0)*(Je&&Il[Je]||1),0),he=Ae=>H(Ae,"pop20_total")/H("pop20_total"),de=(Ae,Je)=>H(`${Ae}_${Je}`)/H(`${Ae}_total`);let ye=H("pop10_asian"),nl=H("pop20_asian"),pl=H("cvap10_asian"),Xt=H("cvap19_asian");const Cl={income:he("income"),hhlang:de("hhlang","asian"),benefits:de("families","benefits"),pop20_total:H("pop20_total"),pct_increase:(nl-ye)/ye,pct_increase_cvap:(Xt-pl)/pl};return["pop20","cvap19","pop10","cvap10"].forEach(Ae=>ll.forEach(Je=>Cl[Ae+Je]=de(Ae,Je))),Cl}const sl=E=>t(9,q=q.filter((ne,H)=>H!==E));async function ol(){try{await fetch(`${Ml}/data.json`,{method:"POST",body:JSON.stringify(q)})}catch(E){console.error(E)}}async function Pl(){try{const E=await fetch(`${Ml}/data.json`);t(9,q=(await E.json()).map(ne=>Ll(yl({},ne),{stats:Ve(ne.ids)})))}catch(E){console.error(E)}}const me=E=>t(6,V=V.includes(E)?V.filter(ne=>ne!==E):[...V,E]);function je(E){j.includes(E)?t(10,j=j.filter(ne=>ne!==E)):t(10,j=[...j,E])}const pe=()=>t(50,U=!0),rl=()=>t(50,U=t(24,J=!1)),fl=E=>J&&U&&(I.length===0?t(8,I=[Ce(E)]):I.push(Ce(E)));function Ie({key:E}){}const ze=[[]];function cl(){ce=Tl(this),t(17,ce),t(3,d),t(2,g)}function ul(){be=this.__value,t(16,be)}const Re=()=>t(18,ke=!ke);function hl(){Y=Tl(this),t(11,Y)}function _l(){oe=Tl(this),t(15,oe)}function gl(){A=this.checked,t(7,A)}const Ue=()=>t(24,J=!0);function dl(){K=this.clientWidth,t(14,K)}return l.$$set=E=>{"topoData"in E&&t(47,f=E.topoData),"obj"in E&&t(0,r=E.obj),"neighbors"in E&&t(48,c=E.neighbors),"data"in E&&t(1,_=E.data),"dynamicVars"in E&&t(2,g=E.dynamicVars),"staticVars"in E&&t(3,d=E.staticVars),"tractVars"in E&&t(4,v=E.tractVars),"pluralityVars"in E&&t(5,k=E.pluralityVars),"idToIndex"in E&&t(49,M=E.idToIndex)},l.$$.update=()=>{if(l.$$.dirty[0]&32768&&t(19,s=El[oe]),l.$$.dirty[0]&196616&&t(20,n=d.includes(ce)?ce:ce+(be==="past"?10:ce==="cvap"?19:20)),l.$$.dirty[0]&1048576&&t(53,i={income:E=>E[n],hhlang:E=>E[`${n}_asian`]/E[`${n}_total`],graduates:E=>(E[`${n}_hs_grad`]+E[`${n}_ba_above`])/E[`${n}_total`],families:E=>E[`${n}_benefits`]/E[`${n}_total`],workers:E=>E[`${n}_publictransport`]/E[`${n}_total`]}[n]),l.$$.dirty[0]&1441806|l.$$.dirty[1]&6291456&&t(32,a=g.includes(ce)&&!ke?De[ce]:De[n]||!d.includes(n)||n==="asiaentry"||t(52,De[n]=fs(_.map(E=>i(E.properties)).filter(Wl),6),De)),l.$$.dirty[0]&770|l.$$.dirty[1]&524288&&!U&&I.length>0){if(I[0]===I[I.length-1]){const E=new Set(I),ne=cs(le((he,de)=>gs(E.has(Ce(he)),E.has(Ce(de)))).coordinates.flat()),H=_.filter(he=>us(hs(he.geometry.coordinates[0]),ne)).map(Ce);t(9,q=[...q,{outline:vl({type:"LineString",coordinates:ne}),ids:H,stats:Ve(H)}])}t(8,I=[])}if(l.$$.dirty[0]&6144&&Y.startsWith("congress")&&x===void 0&&w(),l.$$.dirty[0]&8320&&A&&p===void 0&&we(),l.$$.dirty[0]&64|l.$$.dirty[1]&1048576&&V.includes("communities")&&!G&&(Pl(),t(51,G=!0)),l.$$.dirty[0]&542720&&t(31,o=(Y.endsWith("_names")?.9:1.1)/((K-410)/s[2])),l.$$.dirty[0]&3073)for(let E=0;E<j.length;E++){const[ne,H]=j[E].split(",");ne===Y&&t(25,S[j[E]]=Ve(r.geometries.filter(({properties:he})=>H===""+he[Y])),S)}},[r,_,g,d,v,k,V,A,I,q,j,Y,x,p,K,oe,be,ce,ke,s,n,y,F,ee,J,S,W,re,Z,T,ie,o,a,X,le,Q,C,Te,Me,sl,ol,me,je,pe,rl,fl,Ie,f,c,M,U,G,De,i,cl,ul,ze,Re,hl,_l,gl,Ue,dl]}class xs extends Xe{constructor(e){super();Ze(this,e,Ks,Ys,$e,{topoData:47,obj:0,neighbors:48,data:1,dynamicVars:2,staticVars:3,tractVars:4,pluralityVars:5,idToIndex:49},null,[-1,-1,-1])}}export{xs as default,$s as load};
