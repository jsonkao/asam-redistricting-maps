var xt=Object.defineProperty,es=Object.defineProperties;var ls=Object.getOwnPropertyDescriptors;var Sl=Object.getOwnPropertySymbols;var ts=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable;var Nl=(l,e,t)=>e in l?xt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,jl=(l,e)=>{for(var t in e||(e={}))ts.call(e,t)&&Nl(l,t,e[t]);if(Sl)for(var t of Sl(e))ss.call(e,t)&&Nl(l,t,e[t]);return l},Bl=(l,e)=>es(l,ls(e));import{S as Ze,i as $e,s as xe,e as P,t as z,c as D,a as b,g as q,d as h,b as v,J as ne,f as L,H as u,h as oe,l as Y,K as we,L as Ee,M as Se,N as re,O as Dl,P as il,Q as Ie,R as Ue,T as Ce,U as He,V as pe,x as K,r as Be,u as te,w as Ae,W as al,k as j,n as B,X as Vl,Y as ns,Z as is,I as Fe,_ as as,$ as os,D as Al,E as zl,F as ql,G as Rl,a0 as vl,a1 as rs,a2 as fs,j as We,m as Ge,o as Qe,v as Je,a3 as el,a4 as cs,A as us,a5 as hs,a6 as _s,a7 as ds,a8 as gs,a9 as Tl}from"../chunks/vendor-10aa861a.js";import{b as Ml}from"../chunks/paths-28a87002.js";import{i as Oe,f as ms,D as Ul,s as pl,a as ll,p as ue,m as tl,c as Ke,b as Hl,d as Fl,u as vs,r as Wl,v as bl,g as sl,l as yl,e as Il,h as kl,j as wl,k as El,n as Gl,x as ps,o as bs,q as ks,t as ws,w as Es,y as Ps,z as Ds}from"../chunks/constants-d7e005c3.js";function Ql(l,e,t){const s=l.slice();return s[49]=e[t],s}function Jl(l,e,t){const s=l.slice();return s[52]=e[t].properties,s[53]=e[t].geometry.coordinates[0],s[54]=e[t].geometry.coordinates[1],s}function Kl(l,e,t){const s=l.slice();return s[57]=e[t].outline,s}function Xl(l,e,t){const s=l.slice();return s[49]=e[t],s[61]=t,s}function Yl(l){let e,t=l[35].label+"",s;return{c(){e=P("p"),s=z(t),this.h()},l(n){e=D(n,"P",{class:!0,style:!0});var i=b(e);s=q(i,t),i.forEach(h),this.h()},h(){v(e,"class","street-inspector svelte-12yd007"),ne(e,"left",l[35].x+"px"),ne(e,"top","calc("+l[35].y+"px - 1.2em)")},m(n,i){L(n,e,i),u(e,s)},p(n,i){i[1]&16&&t!==(t=n[35].label+"")&&oe(s,t),i[1]&16&&ne(e,"left",n[35].x+"px"),i[1]&16&&ne(e,"top","calc("+n[35].y+"px - 1.2em)")},d(n){n&&h(e)}}}function Zl(l){let e,t,s,n,i;function a(){return l[39](l[61])}function o(){return l[40](l[49])}function f(){return l[41](l[49])}return{c(){e=we("path"),this.h()},l(r){e=Ee(r,"path",{d:!0,fill:!0,class:!0}),b(e).forEach(h),this.h()},h(){v(e,"d",t=l[5](l[49])),v(e,"fill",s=l[6](l[49],l[10],l[11],l[9])),v(e,"class","svelte-12yd007"),Se(e,"head",l[3][0]===Oe(l[49]))},m(r,c){L(r,e,c),n||(i=[re(e,"click",a),re(e,"contextmenu",Dl(o)),re(e,"mousemove",Dl(f))],n=!0)},p(r,c){l=r,c[0]&48&&t!==(t=l[5](l[49]))&&v(e,"d",t),c[0]&3664&&s!==(s=l[6](l[49],l[10],l[11],l[9]))&&v(e,"fill",s),c[0]&24&&Se(e,"head",l[3][0]===Oe(l[49]))},d(r){r&&h(e),n=!1,il(i)}}}function $l(l,e){let t,s,n=e[61]<e[27]&&Zl(e);return{key:l,first:null,c(){t=Y(),n&&n.c(),s=Y(),this.h()},l(i){t=Y(),n&&n.l(i),s=Y(),this.h()},h(){this.first=t},m(i,a){L(i,t,a),n&&n.m(i,a),L(i,s,a)},p(i,a){e=i,e[61]<e[27]?n?n.p(e,a):(n=Zl(e),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(i){i&&h(t),n&&n.d(i),i&&h(s)}}}function xl(l){let e,t;return{c(){e=we("path"),this.h()},l(s){e=Ee(s,"path",{class:!0,d:!0}),b(e).forEach(h),this.h()},h(){v(e,"class","mesh-bg svelte-12yd007"),v(e,"d",t=l[12].includes(l[10])?l[17]:l[18])},m(s,n){L(s,e,n)},p(s,n){n[0]&398336&&t!==(t=s[12].includes(s[10])?s[17]:s[18])&&v(e,"d",t)},d(s){s&&h(e)}}}function et(l){let e,t,s,n,i=l[13],a=[];for(let o=0;o<i.length;o+=1)a[o]=lt(Kl(l,i,o));return{c(){e=we("g");for(let o=0;o<a.length;o+=1)a[o].c()},l(o){e=Ee(o,"g",{});var f=b(e);for(let r=0;r<a.length;r+=1)a[r].l(f);f.forEach(h)},m(o,f){L(o,e,f);for(let r=0;r<a.length;r+=1)a[r].m(e,null);n=!0},p(o,f){if(f[0]&8192){i=o[13];let r;for(r=0;r<i.length;r+=1){const c=Kl(o,i,r);a[r]?a[r].p(c,f):(a[r]=lt(c),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},i(o){n||(Ie(()=>{s&&s.end(1),t=Ue(e,Ce,{}),t.start()}),n=!0)},o(o){t&&t.invalidate(),s=He(e,Ce,{}),n=!1},d(o){o&&h(e),pe(a,o),o&&s&&s.end()}}}function lt(l){let e,t;return{c(){e=we("path"),this.h()},l(s){e=Ee(s,"path",{class:!0,d:!0}),b(e).forEach(h),this.h()},h(){v(e,"class","mesh-community svelte-12yd007"),v(e,"d",t=l[57])},m(s,n){L(s,e,n)},p(s,n){n[0]&8192&&t!==(t=s[57])&&v(e,"d",t)},d(s){s&&h(e)}}}function tt(l){let e,t,s,n,i,a;return{c(){e=we("g"),t=we("path"),this.h()},l(o){e=Ee(o,"g",{});var f=b(e);t=Ee(f,"path",{class:!0,d:!0}),b(t).forEach(h),f.forEach(h),this.h()},h(){v(t,"class","mesh-district svelte-12yd007"),v(t,"d",s=l[37](l[15],l[23],l[22],l[28])),Se(t,"showPluralities",l[9])},m(o,f){L(o,e,f),u(e,t),a=!0},p(o,f){(!a||f[0]&281051136&&s!==(s=o[37](o[15],o[23],o[22],o[28])))&&v(t,"d",s),f[0]&512&&Se(t,"showPluralities",o[9])},i(o){a||(Ie(()=>{i&&i.end(1),n=Ue(e,Ce,{}),n.start()}),a=!0)},o(o){n&&n.invalidate(),i=He(e,Ce,{}),a=!1},d(o){o&&h(e),o&&i&&i.end()}}}function st(l){let e,t,s,n,i,a;return{c(){e=we("g"),t=we("path"),this.h()},l(o){e=Ee(o,"g",{});var f=b(e);t=Ee(f,"path",{class:!0,d:!0}),b(t).forEach(h),f.forEach(h),this.h()},h(){v(t,"class","mesh-district svelte-12yd007"),v(t,"d",s=l[5](l[19](l[42],l[0])))},m(o,f){L(o,e,f),u(e,t),a=!0},p(o,f){(!a||f[0]&557089&&s!==(s=o[5](o[19](o[42],o[0]))))&&v(t,"d",s)},i(o){a||(Ie(()=>{i&&i.end(1),n=Ue(e,Ce,{}),n.start()}),a=!0)},o(o){n&&n.invalidate(),i=He(e,Ce,{}),a=!1},d(o){o&&h(e),o&&i&&i.end()}}}function nt(l){let e,t,s,n,i,a=l[16],o=[];for(let c=0;c<a.length;c+=1)o[c]=at(Jl(l,a,c));const f=c=>te(o[c],1,1,()=>{o[c]=null});let r=l[34]&&ot(l);return{c(){e=we("g");for(let c=0;c<o.length;c+=1)o[c].c();t=Y(),r&&r.c(),this.h()},l(c){e=Ee(c,"g",{class:!0});var _=b(e);for(let d=0;d<o.length;d+=1)o[d].l(_);t=Y(),r&&r.l(_),_.forEach(h),this.h()},h(){v(e,"class","labels svelte-12yd007")},m(c,_){L(c,e,_);for(let d=0;d<o.length;d+=1)o[d].m(e,null);u(e,t),r&&r.m(e,null),i=!0},p(c,_){if(_[0]&3244032|_[1]&44){a=c[16];let d;for(d=0;d<a.length;d+=1){const m=Jl(c,a,d);o[d]?(o[d].p(m,_),K(o[d],1)):(o[d]=at(m),o[d].c(),K(o[d],1),o[d].m(e,t))}for(Be(),d=a.length;d<o.length;d+=1)f(d);Ae()}c[34]?r?r.p(c,_):(r=ot(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){if(!i){for(let _=0;_<a.length;_+=1)K(o[_]);Ie(()=>{n&&n.end(1),s=Ue(e,Ce,{}),s.start()}),i=!0}},o(c){o=o.filter(Boolean);for(let _=0;_<o.length;_+=1)te(o[_]);s&&s.invalidate(),n=He(e,Ce,{}),i=!1},d(c){c&&h(e),pe(o,c),r&&r.d(),c&&n&&n.end()}}}function it(l){let e,t=l[52][l[15]]+"",s,n,i,a,o,f,r,c;function _(){return l[43](l[52])}function d(){return l[44](l[52])}return{c(){e=we("text"),s=z(t),this.h()},l(m){e=Ee(m,"text",{x:!0,y:!0,class:!0});var p=b(e);s=q(p,t),p.forEach(h),this.h()},h(){v(e,"x",n=l[53]),v(e,"y",i=l[54]),v(e,"class","svelte-12yd007"),Se(e,"chosen",l[20].includes(`${l[15]},${l[52][l[15]]}`))},m(m,p){L(m,e,p),u(e,s),f=!0,r||(c=[re(e,"click",_),re(e,"mousemove",d),re(e,"mouseout",l[45]),re(e,"blur",void 0)],r=!0)},p(m,p){l=m,(!f||p[0]&98304)&&t!==(t=l[52][l[15]]+"")&&oe(s,t),(!f||p[0]&65536&&n!==(n=l[53]))&&v(e,"x",n),(!f||p[0]&65536&&i!==(i=l[54]))&&v(e,"y",i),p[0]&1146880&&Se(e,"chosen",l[20].includes(`${l[15]},${l[52][l[15]]}`))},i(m){f||(Ie(()=>{o&&o.end(1),a=Ue(e,Ce,{}),a.start()}),f=!0)},o(m){a&&a.invalidate(),o=He(e,Ce,{}),f=!1},d(m){m&&h(e),m&&o&&o.end(),r=!1,il(c)}}}function at(l){let e=l[15]in l[52]&&(!l[36]||l[36]&&l[33].includes(l[52][l[15]])),t,s,n=e&&it(l);return{c(){n&&n.c(),t=Y()},l(i){n&&n.l(i),t=Y()},m(i,a){n&&n.m(i,a),L(i,t,a),s=!0},p(i,a){a[0]&98304|a[1]&36&&(e=i[15]in i[52]&&(!i[36]||i[36]&&i[33].includes(i[52][i[15]]))),e?n?(n.p(i,a),a[0]&98304|a[1]&36&&K(n,1)):(n=it(i),n.c(),K(n,1),n.m(t.parentNode,t)):n&&(Be(),te(n,1,1,()=>{n=null}),Ae())},i(i){s||(K(n),s=!0)},o(i){te(n),s=!1},d(i){n&&n.d(i),i&&h(t)}}}function ot(l){let e,t;return{c(){e=we("path"),this.h()},l(s){e=Ee(s,"path",{class:!0,d:!0}),b(e).forEach(h),this.h()},h(){v(e,"class","mesh-onhover mesh-district svelte-12yd007"),v(e,"d",t=l[0]&&l[5](al(l[32],{type:l[0].type,geometries:l[0].geometries.filter(l[46])})))},m(s,n){L(s,e,n)},p(s,n){n[0]&32801|n[1]&10&&t!==(t=s[0]&&s[5](al(s[32],{type:s[0].type,geometries:s[0].geometries.filter(s[46])})))&&v(e,"d",t)},d(s){s&&h(e)}}}function rt(l){let e,t,s,n=l[31],i=[];for(let a=0;a<n.length;a+=1)i[a]=ft(Ql(l,n,a));return{c(){e=we("g");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=Ee(a,"g",{class:!0});var o=b(e);for(let f=0;f<i.length;f+=1)i[f].l(o);o.forEach(h),this.h()},h(){v(e,"class","streets svelte-12yd007"),Se(e,"showStreets",l[29])},m(a,o){L(a,e,o);for(let f=0;f<i.length;f+=1)i[f].m(e,null);t||(s=re(e,"mousemove",l[48]),t=!0)},p(a,o){if(o[0]&536870944|o[1]&129){n=a[31];let f;for(f=0;f<n.length;f+=1){const r=Ql(a,n,f);i[f]?i[f].p(r,o):(i[f]=ft(r),i[f].c(),i[f].m(e,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=n.length}o[0]&536870912&&Se(e,"showStreets",a[29])},d(a){a&&h(e),pe(i,a),t=!1,s()}}}function ft(l){let e,t,s,n;function i(...a){return l[47](l[49],...a)}return{c(){e=we("path"),this.h()},l(a){e=Ee(a,"path",{d:!0,class:!0}),b(e).forEach(h),this.h()},h(){v(e,"d",t=l[5](l[49])),v(e,"class","svelte-12yd007")},m(a,o){L(a,e,o),s||(n=re(e,"click",Dl(i)),s=!0)},p(a,o){l=a,o[0]&32|o[1]&1&&t!==(t=l[5](l[49]))&&v(e,"d",t)},d(a){a&&h(e),s=!1,n()}}}function Vs(l){let e,t,s,n=[],i=new Map,a,o,f=l[14].includes("communities"),r,c=l[14].includes("plans")&&!l[7],_,d,m=l[14].includes("plans")||l[7],p,k,I,T,O,R=l[35]&&Yl(l),U=l[4];const X=S=>Oe(S[49]);for(let S=0;S<U.length;S+=1){let M=Xl(l,U,S),g=X(M);i.set(g,n[S]=$l(g,M))}let J=l[18]&&xl(l),F=f&&et(l),N=c&&tt(l),A=l[7]&&st(l),y=m&&nt(l),C=l[31]&&rt(l);return{c(){R&&R.c(),e=j(),t=we("svg"),s=we("g");for(let S=0;S<n.length;S+=1)n[S].c();a=we("g"),J&&J.c(),o=Y(),F&&F.c(),r=Y(),N&&N.c(),_=Y(),A&&A.c(),d=Y(),y&&y.c(),p=Y(),C&&C.c(),this.h()},l(S){R&&R.l(S),e=B(S),t=Ee(S,"svg",{viewBox:!0,style:!0,class:!0});var M=b(t);s=Ee(M,"g",{class:!0});var g=b(s);for(let W=0;W<n.length;W+=1)n[W].l(g);g.forEach(h),a=Ee(M,"g",{class:!0});var V=b(a);J&&J.l(V),o=Y(),F&&F.l(V),r=Y(),N&&N.l(V),_=Y(),A&&A.l(V),d=Y(),y&&y.l(V),p=Y(),C&&C.l(V),V.forEach(h),M.forEach(h),this.h()},h(){v(s,"class","block-groups svelte-12yd007"),v(a,"class","meshes svelte-12yd007"),v(t,"viewBox",k=l[1].join(" ")),ne(t,"--font-size",(l[2]||.8)+"em"),ne(t,"--mesh-thin",l[30]?.6:.2),ne(t,"--mesh-thick",l[30]?2.2:1.1),v(t,"class","svelte-12yd007")},m(S,M){R&&R.m(S,M),L(S,e,M),L(S,t,M),u(t,s);for(let g=0;g<n.length;g+=1)n[g].m(s,null);u(t,a),J&&J.m(a,null),u(a,o),F&&F.m(a,null),u(a,r),N&&N.m(a,null),u(a,_),A&&A.m(a,null),u(a,d),y&&y.m(a,null),u(a,p),C&&C.m(a,null),I=!0,T||(O=[re(t,"mousedown",function(){Vl(l[24])&&l[24].apply(this,arguments)}),re(t,"mouseup",function(){Vl(l[25])&&l[25].apply(this,arguments)})],T=!0)},p(S,M){l=S,l[35]?R?R.p(l,M):(R=Yl(l),R.c(),R.m(e.parentNode,e)):R&&(R.d(1),R=null),M[0]&201363448&&(U=l[4],n=ns(n,M,X,1,l,U,i,s,is,$l,null,Xl)),l[18]?J?J.p(l,M):(J=xl(l),J.c(),J.m(a,o)):J&&(J.d(1),J=null),M[0]&16384&&(f=l[14].includes("communities")),f?F?(F.p(l,M),M[0]&16384&&K(F,1)):(F=et(l),F.c(),K(F,1),F.m(a,r)):F&&(Be(),te(F,1,1,()=>{F=null}),Ae()),M[0]&16512&&(c=l[14].includes("plans")&&!l[7]),c?N?(N.p(l,M),M[0]&16512&&K(N,1)):(N=tt(l),N.c(),K(N,1),N.m(a,_)):N&&(Be(),te(N,1,1,()=>{N=null}),Ae()),l[7]?A?(A.p(l,M),M[0]&128&&K(A,1)):(A=st(l),A.c(),K(A,1),A.m(a,d)):A&&(Be(),te(A,1,1,()=>{A=null}),Ae()),M[0]&16512&&(m=l[14].includes("plans")||l[7]),m?y?(y.p(l,M),M[0]&16512&&K(y,1)):(y=nt(l),y.c(),K(y,1),y.m(a,p)):y&&(Be(),te(y,1,1,()=>{y=null}),Ae()),l[31]?C?C.p(l,M):(C=rt(l),C.c(),C.m(a,null)):C&&(C.d(1),C=null),(!I||M[0]&2&&k!==(k=l[1].join(" ")))&&v(t,"viewBox",k),(!I||M[0]&4)&&ne(t,"--font-size",(l[2]||.8)+"em"),(!I||M[0]&1073741824)&&ne(t,"--mesh-thin",l[30]?.6:.2),(!I||M[0]&1073741824)&&ne(t,"--mesh-thick",l[30]?2.2:1.1)},i(S){I||(K(F),K(N),K(A),K(y),I=!0)},o(S){te(F),te(N),te(A),te(y),I=!1},d(S){R&&R.d(S),S&&h(e),S&&h(t);for(let M=0;M<n.length;M+=1)n[M].d();J&&J.d(),F&&F.d(),N&&N.d(),A&&A.d(),y&&y.d(),C&&C.d(),T=!1,il(O)}}}function Ts(l,e,t){let s,n,i,{viewBox:a,labelSize:o,draggedBgs:f,data:r,path:c,color:_,changingLines:d,neighbor:m,showPluralities:p,metric:k,period:I,tractVars:T,drawings:O,panels:R,plan:U,points:X=[],tractMesh:J,bgMesh:F,mesh:N,aggregates:A,obj:y,handleLabelClick:C,congressPlans:S,plans:M,startDrag:g,endDrag:V,handleMouseMove:W,viewCutoff:ee,showOnlyFocusDistricts:ie,showStreets:ce,presentationMode:G,streets:Q}=e;function me(){if(!!i)return c(n?al(i,{type:y.type,geometries:y.geometries.filter(w=>s.includes(w.properties[U]))}):al(i,y,(w,de)=>Ul(w)!==Ul(de)))}let he,le;function Z({pageX:w,pageY:de},{properties:{Label:Xe}}){t(35,le={x:w,y:de,label:Xe})}const $=w=>d&&U.includes("_")&&m(w),x=w=>console.log(w.properties),De=w=>W(w),Ve=(w,de)=>w.properties[U]!==de.properties[U],be=w=>C(`${U},${w[U]}`),ae=w=>t(34,he=w[U]),Pe=()=>t(34,he=null),ke=w=>he===w.properties[U],Te=(w,de)=>ce&&Z(de,w),ye=()=>t(35,le=null);return l.$$set=w=>{"viewBox"in w&&t(1,a=w.viewBox),"labelSize"in w&&t(2,o=w.labelSize),"draggedBgs"in w&&t(3,f=w.draggedBgs),"data"in w&&t(4,r=w.data),"path"in w&&t(5,c=w.path),"color"in w&&t(6,_=w.color),"changingLines"in w&&t(7,d=w.changingLines),"neighbor"in w&&t(8,m=w.neighbor),"showPluralities"in w&&t(9,p=w.showPluralities),"metric"in w&&t(10,k=w.metric),"period"in w&&t(11,I=w.period),"tractVars"in w&&t(12,T=w.tractVars),"drawings"in w&&t(13,O=w.drawings),"panels"in w&&t(14,R=w.panels),"plan"in w&&t(15,U=w.plan),"points"in w&&t(16,X=w.points),"tractMesh"in w&&t(17,J=w.tractMesh),"bgMesh"in w&&t(18,F=w.bgMesh),"mesh"in w&&t(19,N=w.mesh),"aggregates"in w&&t(20,A=w.aggregates),"obj"in w&&t(0,y=w.obj),"handleLabelClick"in w&&t(21,C=w.handleLabelClick),"congressPlans"in w&&t(22,S=w.congressPlans),"plans"in w&&t(23,M=w.plans),"startDrag"in w&&t(24,g=w.startDrag),"endDrag"in w&&t(25,V=w.endDrag),"handleMouseMove"in w&&t(26,W=w.handleMouseMove),"viewCutoff"in w&&t(27,ee=w.viewCutoff),"showOnlyFocusDistricts"in w&&t(28,ie=w.showOnlyFocusDistricts),"showStreets"in w&&t(29,ce=w.showStreets),"presentationMode"in w&&t(30,G=w.presentationMode),"streets"in w&&t(31,Q=w.streets)},l.$$.update=()=>{l.$$.dirty[0]&32768&&t(33,s=ms[U]),l.$$.dirty[0]&268435456|l.$$.dirty[1]&4&&t(36,n=ie&&s),l.$$.dirty[0]&12615680&&t(32,i=U.startsWith("congress")?S:M),l.$$.dirty[0]&32768|l.$$.dirty[1]&2&&t(0,y=i?i.objects[U]:void 0)},[y,a,o,f,r,c,_,d,m,p,k,I,T,O,R,U,X,J,F,N,A,C,S,M,g,V,W,ee,ie,ce,G,Q,i,s,he,le,n,me,Z,$,x,De,Ve,be,ae,Pe,ke,Te,ye]}class Ms extends Ze{constructor(e){super();$e(this,e,Ts,Vs,xe,{viewBox:1,labelSize:2,draggedBgs:3,data:4,path:5,color:6,changingLines:7,neighbor:8,showPluralities:9,metric:10,period:11,tractVars:12,drawings:13,panels:14,plan:15,points:16,tractMesh:17,bgMesh:18,mesh:19,aggregates:20,obj:0,handleLabelClick:21,congressPlans:22,plans:23,startDrag:24,endDrag:25,handleMouseMove:26,viewCutoff:27,showOnlyFocusDistricts:28,showStreets:29,presentationMode:30,streets:31},null,[-1,-1])}}function ct(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function ut(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function ht(l,e,t){const s=l.slice();return s[16]=e[t],s}function _t(l,e,t){const s=l.slice();return s[16]=e[t],s[20]=t,s}function dt(l,e,t){const s=l.slice();return s[10]=e[t],s}function gt(l,e,t){const s=l.slice();return s[13]=e[t],s}function ys(l){let e,t,s=l[9],n=[];for(let o=0;o<s.length;o+=1)n[o]=mt(ut(l,s,o));let i=l[9],a=[];for(let o=0;o<i.length;o+=1)a[o]=vt(ct(l,i,o));return{c(){e=P("div");for(let o=0;o<n.length;o+=1)n[o].c();t=j();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0});var f=b(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=B(f);for(let r=0;r<a.length;r+=1)a[r].l(f);f.forEach(h),this.h()},h(){v(e,"class","color-legend svelte-6sr79v"),ne(e,"grid-template-columns","repeat("+(l[3].includes(l[4])?5:6)+", 2.9em)"),Se(e,"pctasian",l[3].includes(l[4]))},m(o,f){L(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);u(e,t);for(let r=0;r<a.length;r+=1)a[r].m(e,null)},p(o,f){if(f&536){s=o[9];let r;for(r=0;r<s.length;r+=1){const c=ut(o,s,r);n[r]?n[r].p(c,f):(n[r]=mt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&536){i=o[9];let r;for(r=0;r<i.length;r+=1){const c=ct(o,i,r);a[r]?a[r].p(c,f):(a[r]=vt(c),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}f&24&&ne(e,"grid-template-columns","repeat("+(o[3].includes(o[4])?5:6)+", 2.9em)"),f&24&&Se(e,"pctasian",o[3].includes(o[4]))},d(o){o&&h(e),pe(n,o),pe(a,o)}}}function Is(l){let e,t,s=l[8],n=[];for(let o=0;o<s.length;o+=1)n[o]=pt(_t(l,s,o));let i=l[8],a=[];for(let o=0;o<i.length;o+=1)a[o]=bt(ht(l,i,o));return{c(){e=P("div");for(let o=0;o<n.length;o+=1)n[o].c();t=j();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var f=b(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=B(f);for(let r=0;r<a.length;r+=1)a[r].l(f);f.forEach(h),this.h()},h(){v(e,"class","color-legend plurality-legend svelte-6sr79v")},m(o,f){L(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);u(e,t);for(let r=0;r<a.length;r+=1)a[r].m(e,null)},p(o,f){if(f&256){s=o[8];let r;for(r=0;r<s.length;r+=1){const c=_t(o,s,r);n[r]?n[r].p(c,f):(n[r]=pt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&256){i=o[8];let r;for(r=0;r<i.length;r+=1){const c=ht(o,i,r);a[r]?a[r].p(c,f):(a[r]=bt(c),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d(o){o&&h(e),pe(n,o),pe(a,o)}}}function Cs(l){let e,t,s,n,i,a,o,f,r,c,_,d,m=l[0],p=[];for(let k=0;k<m.length;k+=1)p[k]=wt(dt(l,m,k));return{c(){e=P("div");for(let k=0;k<p.length;k+=1)p[k].c();t=j(),s=P("p"),n=P("span"),i=z("Weak plurality"),a=j(),o=P("p"),f=j(),r=P("p"),c=z("Majority"),_=j(),d=P("p"),this.h()},l(k){e=D(k,"DIV",{class:!0});var I=b(e);for(let U=0;U<p.length;U+=1)p[U].l(I);t=B(I),s=D(I,"P",{class:!0});var T=b(s);n=D(T,"SPAN",{});var O=b(n);i=q(O,"Weak plurality"),O.forEach(h),T.forEach(h),a=B(I),o=D(I,"P",{class:!0}),b(o).forEach(h),f=B(I),r=D(I,"P",{class:!0});var R=b(r);c=q(R,"Majority"),R.forEach(h),_=B(I),d=D(I,"P",{class:!0}),b(d).forEach(h),I.forEach(h),this.h()},h(){v(s,"class","col-head svelte-6sr79v"),v(o,"class","col-head svelte-6sr79v"),v(r,"class","col-head svelte-6sr79v"),v(d,"class","col-head svelte-6sr79v"),v(e,"class","legend svelte-6sr79v")},m(k,I){L(k,e,I);for(let T=0;T<p.length;T+=1)p[T].m(e,null);u(e,t),u(e,s),u(s,n),u(n,i),u(e,a),u(e,o),u(e,f),u(e,r),u(r,c),u(e,_),u(e,d)},p(k,I){if(I&7){m=k[0];let T;for(T=0;T<m.length;T+=1){const O=dt(k,m,T);p[T]?p[T].p(O,I):(p[T]=wt(O),p[T].c(),p[T].m(e,t))}for(;T<p.length;T+=1)p[T].d(1);p.length=m.length}},d(k){k&&h(e),pe(p,k)}}}function mt(l){let e;return{c(){e=P("div"),this.h()},l(t){e=D(t,"DIV",{style:!0}),b(e).forEach(h),this.h()},h(){ne(e,"background-color",l[3].includes(l[4])?pl[l[20]]:ll[l[20]])},m(t,s){L(t,e,s)},p(t,s){s&24&&ne(e,"background-color",t[3].includes(t[4])?pl[t[20]]:ll[t[20]])},d(t){t&&h(e)}}}function vt(l){let e,t,s=(l[9][l[9].length-1]<1?ue(l[21],0):l[9][l[9].length-1]>1e3?tl(l[21]):l[21])+(l[3].includes(l[4])&&l[20]===l[9].length-1?"+ Asian <br/>(\u4E9A\u88D4\u4EBA\u53E3)":"")+"",n;return{c(){e=P("p"),t=new as,n=j(),this.h()},l(i){e=D(i,"P",{class:!0});var a=b(e);t=os(a),n=B(a),a.forEach(h),this.h()},h(){t.a=n,v(e,"class","svelte-6sr79v")},m(i,a){L(i,e,a),t.m(s,e),u(e,n)},p(i,a){a&536&&s!==(s=(i[9][i[9].length-1]<1?ue(i[21],0):i[9][i[9].length-1]>1e3?tl(i[21]):i[21])+(i[3].includes(i[4])&&i[20]===i[9].length-1?"+ Asian <br/>(\u4E9A\u88D4\u4EBA\u53E3)":"")+"")&&t.p(s)},d(i){i&&h(e)}}}function pt(l){let e;return{c(){e=P("div"),this.h()},l(t){e=D(t,"DIV",{style:!0}),b(e).forEach(h),this.h()},h(){ne(e,"background-color",ll[l[20]])},m(t,s){L(t,e,s)},p:Fe,d(t){t&&h(e)}}}function bt(l){let e,t=l[16].replace("_","-")+"",s;return{c(){e=P("p"),s=z(t),this.h()},l(n){e=D(n,"P",{class:!0});var i=b(e);s=q(i,t),i.forEach(h),this.h()},h(){v(e,"class","svelte-6sr79v")},m(n,i){L(n,e,i),u(e,s)},p(n,i){i&256&&t!==(t=n[16].replace("_","-")+"")&&oe(s,t)},d(n){n&&h(e)}}}function kt(l){let e;return{c(){e=P("div"),this.h()},l(t){e=D(t,"DIV",{style:!0}),b(e).forEach(h),this.h()},h(){ne(e,"background-color",l[2][l[10]]+l[13])},m(t,s){L(t,e,s)},p(t,s){s&7&&ne(e,"background-color",t[2][t[10]]+t[13])},d(t){t&&h(e)}}}function wt(l){let e,t,s=Ke(l[10])+"",n,i=l[1],a=[];for(let o=0;o<i.length;o+=1)a[o]=kt(gt(l,i,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=j(),t=P("p"),n=z(s),this.h()},l(o){for(let r=0;r<a.length;r+=1)a[r].l(o);e=B(o),t=D(o,"P",{class:!0});var f=b(t);n=q(f,s),f.forEach(h),this.h()},h(){v(t,"class","row-label svelte-6sr79v")},m(o,f){for(let r=0;r<a.length;r+=1)a[r].m(o,f);L(o,e,f),L(o,t,f),u(t,n)},p(o,f){if(f&7){i=o[1];let r;for(r=0;r<i.length;r+=1){const c=gt(o,i,r);a[r]?a[r].p(c,f):(a[r]=kt(c),a[r].c(),a[r].m(e.parentNode,e))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}f&1&&s!==(s=Ke(o[10])+"")&&oe(n,s)},d(o){pe(a,o),o&&h(e),o&&h(t)}}}function Os(l){let e,t,s;function n(o,f){return(e==null||f&88)&&(e=!!(o[3].includes(o[4])&&o[6])),e?Cs:((t==null||f&160)&&(t=!!o[7].includes(o[5])),t?Is:ys)}let i=n(l,-1),a=i(l);return{c(){a.c(),s=Y()},l(o){a.l(o),s=Y()},m(o,f){a.m(o,f),L(o,s,f)},p(o,[f]){i===(i=n(o,f))&&a?a.p(o,f):(a.d(1),a=i(o),a&&(a.c(),a.m(s.parentNode,s)))},i:Fe,o:Fe,d(o){a.d(o),o&&h(s)}}}function Ls(l,e,t){let{groups:s,levels:n,colors:i,dynamicVars:a,variable:o,metric:f,showPluralities:r,pluralityVars:c,periods:_,breaks:d}=e;return l.$$set=m=>{"groups"in m&&t(0,s=m.groups),"levels"in m&&t(1,n=m.levels),"colors"in m&&t(2,i=m.colors),"dynamicVars"in m&&t(3,a=m.dynamicVars),"variable"in m&&t(4,o=m.variable),"metric"in m&&t(5,f=m.metric),"showPluralities"in m&&t(6,r=m.showPluralities),"pluralityVars"in m&&t(7,c=m.pluralityVars),"periods"in m&&t(8,_=m.periods),"breaks"in m&&t(9,d=m.breaks)},[s,n,i,a,o,f,r,c,_,d]}class Ss extends Ze{constructor(e){super();$e(this,e,Ls,Os,xe,{groups:0,levels:1,colors:2,dynamicVars:3,variable:4,metric:5,showPluralities:6,pluralityVars:7,periods:8,breaks:9})}}function Et(l,e,t){const s=l.slice();return s[15]=e[t].name,s[9]=e[t].stats,s[17]=t,s}function Pt(l,e,t){const s=l.slice();return s[18]=e[t],s}function Dt(l,e,t){const s=l.slice();return s[12]=e[t],s}function Ns(l){let e,t=l[6],s=[];for(let n=0;n<t.length;n+=1)s[n]=Tt(Et(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=Y()},l(n){for(let i=0;i<s.length;i+=1)s[i].l(n);e=Y()},m(n,i){for(let a=0;a<s.length;a+=1)s[a].m(n,i);L(n,e,i)},p(n,i){if(i&200){t=n[6];let a;for(a=0;a<t.length;a+=1){const o=Et(n,t,a);s[a]?s[a].p(o,i):(s[a]=Tt(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(n){pe(s,n),n&&h(e)}}}function js(l){let e,t=l[0],s=[];for(let n=0;n<t.length;n+=1)s[n]=It(Dt(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=Y()},l(n){for(let i=0;i<s.length;i+=1)s[i].l(n);e=Y()},m(n,i){for(let a=0;a<s.length;a+=1)s[a].m(n,i);L(n,e,i)},p(n,i){if(i&567){t=n[0];let a;for(a=0;a<t.length;a+=1){const o=Dt(n,t,a);s[a]?s[a].p(o,i):(s[a]=It(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(n){pe(s,n),n&&h(e)}}}function Vt(l){let e,t,s=Ke(l[18])+"",n,i,a,o=ue(l[9]["cvap19"+l[18]])+"",f,r,c,_=ue(l[9]["pop20"+l[18]])+"",d,m;return{c(){e=P("tr"),t=P("td"),n=z(s),i=j(),a=P("td"),f=z(o),r=j(),c=P("td"),d=z(_),m=j(),this.h()},l(p){e=D(p,"TR",{class:!0});var k=b(e);t=D(k,"TD",{class:!0});var I=b(t);n=q(I,s),I.forEach(h),i=B(k),a=D(k,"TD",{class:!0});var T=b(a);f=q(T,o),T.forEach(h),r=B(k),c=D(k,"TD",{class:!0});var O=b(c);d=q(O,_),O.forEach(h),m=B(k),k.forEach(h),this.h()},h(){v(t,"class","svelte-1avkicx"),v(a,"class","svelte-1avkicx"),v(c,"class","svelte-1avkicx"),v(e,"class","svelte-1avkicx")},m(p,k){L(p,e,k),u(e,t),u(t,n),u(e,i),u(e,a),u(a,f),u(e,r),u(e,c),u(c,d),u(e,m)},p(p,k){k&8&&s!==(s=Ke(p[18])+"")&&oe(n,s),k&72&&o!==(o=ue(p[9]["cvap19"+p[18]])+"")&&oe(f,o),k&72&&_!==(_=ue(p[9]["pop20"+p[18]])+"")&&oe(d,_)},d(p){p&&h(e)}}}function Tt(l){let e,t,s,n=(l[15]||"COI"+(l[17]+1))+"",i,a,o,f,r,c,_,d,m,p,k,I,T,O,R,U,X,J,F=tl(l[9].income)+"",N,A,y,C,S=ue(l[9].hhlang)+"",M,g,V,W,ee=ue(l[9].benefits)+"",ie,ce,G,Q;function me(){return l[11](l[17])}let he=l[3],le=[];for(let Z=0;Z<he.length;Z+=1)le[Z]=Vt(Pt(l,he,Z));return{c(){e=P("div"),t=P("p"),s=P("i"),i=z(n),a=j(),o=P("button"),f=z("\u{1F5D1}"),r=j(),c=P("table"),_=P("tr"),d=P("th"),m=j(),p=P("th"),k=z("CVAP"),I=j(),T=P("th"),O=z("Pop."),R=j();for(let Z=0;Z<le.length;Z+=1)le[Z].c();U=j(),X=P("p"),J=z("Income: "),N=z(F),A=j(),y=P("p"),C=z("Asian and LEP: "),M=z(S),g=j(),V=P("p"),W=z("Pct. gov't benefits: "),ie=z(ee),ce=j(),this.h()},l(Z){e=D(Z,"DIV",{});var $=b(e);t=D($,"P",{class:!0});var x=b(t);s=D(x,"I",{});var De=b(s);i=q(De,n),De.forEach(h),a=B(x),o=D(x,"BUTTON",{});var Ve=b(o);f=q(Ve,"\u{1F5D1}"),Ve.forEach(h),x.forEach(h),r=B($),c=D($,"TABLE",{class:!0});var be=b(c);_=D(be,"TR",{class:!0});var ae=b(_);d=D(ae,"TH",{class:!0}),b(d).forEach(h),m=B(ae),p=D(ae,"TH",{class:!0});var Pe=b(p);k=q(Pe,"CVAP"),Pe.forEach(h),I=B(ae),T=D(ae,"TH",{class:!0});var ke=b(T);O=q(ke,"Pop."),ke.forEach(h),ae.forEach(h),R=B(be);for(let de=0;de<le.length;de+=1)le[de].l(be);be.forEach(h),U=B($),X=D($,"P",{class:!0});var Te=b(X);J=q(Te,"Income: "),N=q(Te,F),Te.forEach(h),A=B($),y=D($,"P",{class:!0});var ye=b(y);C=q(ye,"Asian and LEP: "),M=q(ye,S),ye.forEach(h),g=B($),V=D($,"P",{class:!0});var w=b(V);W=q(w,"Pct. gov't benefits: "),ie=q(w,ee),w.forEach(h),ce=B($),$.forEach(h),this.h()},h(){v(t,"class","svelte-1avkicx"),v(d,"class","svelte-1avkicx"),v(p,"class","svelte-1avkicx"),v(T,"class","svelte-1avkicx"),v(_,"class","svelte-1avkicx"),v(c,"class","svelte-1avkicx"),v(X,"class","table-footer svelte-1avkicx"),v(y,"class","table-footer svelte-1avkicx"),v(V,"class","table-footer svelte-1avkicx")},m(Z,$){L(Z,e,$),u(e,t),u(t,s),u(s,i),u(t,a),u(t,o),u(o,f),u(e,r),u(e,c),u(c,_),u(_,d),u(_,m),u(_,p),u(p,k),u(_,I),u(_,T),u(T,O),u(c,R);for(let x=0;x<le.length;x+=1)le[x].m(c,null);u(e,U),u(e,X),u(X,J),u(X,N),u(e,A),u(e,y),u(y,C),u(y,M),u(e,g),u(e,V),u(V,W),u(V,ie),u(e,ce),G||(Q=re(o,"click",me),G=!0)},p(Z,$){if(l=Z,$&64&&n!==(n=(l[15]||"COI"+(l[17]+1))+"")&&oe(i,n),$&72){he=l[3];let x;for(x=0;x<he.length;x+=1){const De=Pt(l,he,x);le[x]?le[x].p(De,$):(le[x]=Vt(De),le[x].c(),le[x].m(c,null))}for(;x<le.length;x+=1)le[x].d(1);le.length=he.length}$&64&&F!==(F=tl(l[9].income)+"")&&oe(N,F),$&64&&S!==(S=ue(l[9].hhlang)+"")&&oe(M,S),$&64&&ee!==(ee=ue(l[9].benefits)+"")&&oe(ie,ee)},d(Z){Z&&h(e),pe(le,Z),G=!1,Q()}}}function Mt(l){let e,t,s,n=Hl(l[12])+"",i,a,o,f,r,c,_,d,m,p,k,I,T,O,R,U,X,J=ue(l[9][l[12]].cvap10asian)+"",F,N,A,y=ue(l[9][l[12]].pop10asian)+"",C,S,M,g,V,W,ee,ie=ue(l[9][l[12]].cvap19asian)+"",ce,G,Q,me=ue(l[9][l[12]].pop20asian)+"",he,le,Z,$,x,De,Ve,be=ue(l[9][l[12]].pct_increase)+"",ae,Pe,ke,Te=ue(l[9][l[12]].pct_increase_cvap)+"",ye,w,de,Xe,ol;function Pl(){return l[10](l[12])}let ve=l[4]&&l[2]in l[5]&&yt(l);return{c(){e=P("div"),t=P("p"),s=P("i"),i=z(n),a=j(),o=P("table"),f=P("tr"),r=P("th"),c=j(),_=P("th"),d=z("CVAP"),m=j(),p=P("th"),k=z("Pop."),I=j(),T=P("tr"),O=P("td"),R=z("Asians in 2010"),U=j(),X=P("td"),F=z(J),N=j(),A=P("td"),C=z(y),S=j(),M=P("tr"),g=P("td"),V=z("Asians now"),W=j(),ee=P("td"),ce=z(ie),G=j(),Q=P("td"),he=z(me),le=j(),Z=P("tr"),$=P("td"),x=z("Asian increase"),De=j(),Ve=P("td"),ae=z(be),Pe=j(),ke=P("td"),ye=z(Te),w=j(),ve&&ve.c(),de=j(),this.h()},l(Ne){e=D(Ne,"DIV",{class:!0});var ge=b(e);t=D(ge,"P",{class:!0});var rl=b(t);s=D(rl,"I",{});var fl=b(s);i=q(fl,n),fl.forEach(h),rl.forEach(h),a=B(ge),o=D(ge,"TABLE",{class:!0});var Le=b(o);f=D(Le,"TR",{class:!0});var ze=b(f);r=D(ze,"TH",{class:!0}),b(r).forEach(h),c=B(ze),_=D(ze,"TH",{class:!0});var cl=b(_);d=q(cl,"CVAP"),cl.forEach(h),m=B(ze),p=D(ze,"TH",{class:!0});var ul=b(p);k=q(ul,"Pop."),ul.forEach(h),ze.forEach(h),I=B(Le),T=D(Le,"TR",{class:!0});var qe=b(T);O=D(qe,"TD",{class:!0});var hl=b(O);R=q(hl,"Asians in 2010"),hl.forEach(h),U=B(qe),X=D(qe,"TD",{class:!0});var _l=b(X);F=q(_l,J),_l.forEach(h),N=B(qe),A=D(qe,"TD",{class:!0});var dl=b(A);C=q(dl,y),dl.forEach(h),qe.forEach(h),S=B(Le),M=D(Le,"TR",{class:!0});var Re=b(M);g=D(Re,"TD",{class:!0});var gl=b(g);V=q(gl,"Asians now"),gl.forEach(h),W=B(Re),ee=D(Re,"TD",{class:!0});var E=b(ee);ce=q(E,ie),E.forEach(h),G=B(Re),Q=D(Re,"TD",{class:!0});var se=b(Q);he=q(se,me),se.forEach(h),Re.forEach(h),le=B(Le),Z=D(Le,"TR",{class:!0});var H=b(Z);$=D(H,"TD",{class:!0});var fe=b($);x=q(fe,"Asian increase"),fe.forEach(h),De=B(H),Ve=D(H,"TD",{class:!0});var _e=b(Ve);ae=q(_e,be),_e.forEach(h),Pe=B(H),ke=D(H,"TD",{class:!0});var je=b(ke);ye=q(je,Te),je.forEach(h),H.forEach(h),Le.forEach(h),w=B(ge),ve&&ve.l(ge),de=B(ge),ge.forEach(h),this.h()},h(){v(t,"class","svelte-1avkicx"),v(r,"class","svelte-1avkicx"),v(_,"class","svelte-1avkicx"),v(p,"class","svelte-1avkicx"),v(f,"class","svelte-1avkicx"),v(O,"class","svelte-1avkicx"),v(X,"class","svelte-1avkicx"),v(A,"class","svelte-1avkicx"),v(T,"class","svelte-1avkicx"),v(g,"class","svelte-1avkicx"),v(ee,"class","svelte-1avkicx"),v(Q,"class","svelte-1avkicx"),v(M,"class","svelte-1avkicx"),v($,"class","svelte-1avkicx"),v(Ve,"class","svelte-1avkicx"),v(ke,"class","svelte-1avkicx"),v(Z,"class","svelte-1avkicx"),v(o,"class","svelte-1avkicx"),v(e,"class","district-aggregate svelte-1avkicx")},m(Ne,ge){L(Ne,e,ge),u(e,t),u(t,s),u(s,i),u(e,a),u(e,o),u(o,f),u(f,r),u(f,c),u(f,_),u(_,d),u(f,m),u(f,p),u(p,k),u(o,I),u(o,T),u(T,O),u(O,R),u(T,U),u(T,X),u(X,F),u(T,N),u(T,A),u(A,C),u(o,S),u(o,M),u(M,g),u(g,V),u(M,W),u(M,ee),u(ee,ce),u(M,G),u(M,Q),u(Q,he),u(o,le),u(o,Z),u(Z,$),u($,x),u(Z,De),u(Z,Ve),u(Ve,ae),u(Z,Pe),u(Z,ke),u(ke,ye),u(e,w),ve&&ve.m(e,null),u(e,de),Xe||(ol=re(t,"click",Pl),Xe=!0)},p(Ne,ge){l=Ne,ge&1&&n!==(n=Hl(l[12])+"")&&oe(i,n),ge&513&&J!==(J=ue(l[9][l[12]].cvap10asian)+"")&&oe(F,J),ge&513&&y!==(y=ue(l[9][l[12]].pop10asian)+"")&&oe(C,y),ge&513&&ie!==(ie=ue(l[9][l[12]].cvap19asian)+"")&&oe(ce,ie),ge&513&&me!==(me=ue(l[9][l[12]].pop20asian)+"")&&oe(he,me),ge&513&&be!==(be=ue(l[9][l[12]].pct_increase)+"")&&oe(ae,be),ge&513&&Te!==(Te=ue(l[9][l[12]].pct_increase_cvap)+"")&&oe(ye,Te),l[4]&&l[2]in l[5]?ve?ve.p(l,ge):(ve=yt(l),ve.c(),ve.m(e,de)):ve&&(ve.d(1),ve=null)},d(Ne){Ne&&h(e),ve&&ve.d(),Xe=!1,ol()}}}function yt(l){let e,t,s=tl(l[9][l[12]].income)+(l[4]&&l[2]in l[5]?"; "+Fl(l[9][l[12]].pop20_total-l[5][l[2]]):"")+"",n;return{c(){e=P("p"),t=z("Income: "),n=z(s),this.h()},l(i){e=D(i,"P",{class:!0});var a=b(e);t=q(a,"Income: "),n=q(a,s),a.forEach(h),this.h()},h(){v(e,"class","table-footer svelte-1avkicx")},m(i,a){L(i,e,a),u(e,t),u(e,n)},p(i,a){a&565&&s!==(s=tl(i[9][i[12]].income)+(i[4]&&i[2]in i[5]?"; "+Fl(i[9][i[12]].pop20_total-i[5][i[2]]):"")+"")&&oe(n,s)},d(i){i&&h(e)}}}function It(l){let e=l[12].split(",")[0].split("_")[0]===l[2].split("_")[0],t,s=e&&Mt(l);return{c(){s&&s.c(),t=Y()},l(n){s&&s.l(n),t=Y()},m(n,i){s&&s.m(n,i),L(n,t,i)},p(n,i){i&5&&(e=n[12].split(",")[0].split("_")[0]===n[2].split("_")[0]),e?s?s.p(n,i):(s=Mt(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(n){s&&s.d(n),n&&h(t)}}}function Bs(l){let e;function t(i,a){if(i[8]==="districts")return js;if(i[8]==="community")return Ns}let s=t(l),n=s&&s(l);return{c(){n&&n.c(),e=Y()},l(i){n&&n.l(i),e=Y()},m(i,a){n&&n.m(i,a),L(i,e,a)},p(i,[a]){s===(s=t(i))&&n?n.p(i,a):(n&&n.d(1),n=s&&s(i),n&&(n.c(),n.m(e.parentNode,e)))},i:Fe,o:Fe,d(i){n&&n.d(i),i&&h(e)}}}function As(l,e,t){let{aggregates:s,handleLabelClick:n,plan:i,stats:a,groups:o,changingLines:f,idealValues:r}=e,{drawings:c=[]}=e,{delDrawing:_=void 0}=e,{type:d="districts"}=e;const m=k=>n(k),p=k=>_(k);return l.$$set=k=>{"aggregates"in k&&t(0,s=k.aggregates),"handleLabelClick"in k&&t(1,n=k.handleLabelClick),"plan"in k&&t(2,i=k.plan),"stats"in k&&t(9,a=k.stats),"groups"in k&&t(3,o=k.groups),"changingLines"in k&&t(4,f=k.changingLines),"idealValues"in k&&t(5,r=k.idealValues),"drawings"in k&&t(6,c=k.drawings),"delDrawing"in k&&t(7,_=k.delDrawing),"type"in k&&t(8,d=k.type)},[s,n,i,o,f,r,c,_,d,a,m,p]}class Ct extends Ze{constructor(e){super();$e(this,e,As,Bs,xe,{aggregates:0,handleLabelClick:1,plan:2,stats:9,groups:3,changingLines:4,idealValues:5,drawings:6,delDrawing:7,type:8})}}const zs=l=>({}),Ot=l=>({}),qs=l=>({}),Lt=l=>({});function St(l){let e,t,s,n;const i=l[4].body,a=Al(i,l,l[3],Ot);return{c(){e=P("div"),a&&a.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=b(e);a&&a.l(f),f.forEach(h),this.h()},h(){v(e,"class","svelte-a3zm9u")},m(o,f){L(o,e,f),a&&a.m(e,null),n=!0},p(o,f){a&&a.p&&(!n||f&8)&&zl(a,i,o,o[3],n?Rl(i,o[3],f,zs):ql(o[3]),Ot)},i(o){n||(K(a,o),Ie(()=>{s&&s.end(1),t=Ue(e,vl,{}),t.start()}),n=!0)},o(o){te(a,o),t&&t.invalidate(),s=He(e,vl,{}),n=!1},d(o){o&&h(e),a&&a.d(o),o&&s&&s.end()}}}function Rs(l){let e,t,s,n=(l[2]==="plans"?"Districts / \u533A\u57DF\u5212\u5206":l[2]==="views"?"Views / \u9009\u62E9\u533A":Ke(l[2]))+"",i,a,o=(l[0].includes(l[2])?"\u2191":"\u2193")+"",f,r,c,_=l[0].includes(l[2]),d,m,p;const k=l[4].title,I=Al(k,l,l[3],Lt);let T=_&&St(l);return{c(){e=P("div"),t=P("h3"),s=P("button"),i=z(n),a=j(),f=z(o),r=j(),I&&I.c(),c=j(),T&&T.c(),this.h()},l(O){e=D(O,"DIV",{class:!0});var R=b(e);t=D(R,"H3",{class:!0});var U=b(t);s=D(U,"BUTTON",{});var X=b(s);i=q(X,n),a=B(X),f=q(X,o),X.forEach(h),r=B(U),I&&I.l(U),U.forEach(h),c=B(R),T&&T.l(R),R.forEach(h),this.h()},h(){v(t,"class","svelte-a3zm9u"),v(e,"class","panel svelte-a3zm9u")},m(O,R){L(O,e,R),u(e,t),u(t,s),u(s,i),u(s,a),u(s,f),u(t,r),I&&I.m(t,null),u(e,c),T&&T.m(e,null),d=!0,m||(p=re(s,"click",l[5]),m=!0)},p(O,[R]){(!d||R&4)&&n!==(n=(O[2]==="plans"?"Districts / \u533A\u57DF\u5212\u5206":O[2]==="views"?"Views / \u9009\u62E9\u533A":Ke(O[2]))+"")&&oe(i,n),(!d||R&5)&&o!==(o=(O[0].includes(O[2])?"\u2191":"\u2193")+"")&&oe(f,o),I&&I.p&&(!d||R&8)&&zl(I,k,O,O[3],d?Rl(k,O[3],R,qs):ql(O[3]),Lt),R&5&&(_=O[0].includes(O[2])),_?T?(T.p(O,R),R&5&&K(T,1)):(T=St(O),T.c(),K(T,1),T.m(e,null)):T&&(Be(),te(T,1,1,()=>{T=null}),Ae())},i(O){d||(K(I,O),K(T),d=!0)},o(O){te(I,O),te(T),d=!1},d(O){O&&h(e),I&&I.d(O),T&&T.d(),m=!1,p()}}}function Us(l,e,t){let{$$slots:s={},$$scope:n}=e,{panels:i,togglePanel:a,panelName:o}=e;const f=()=>a(o);return l.$$set=r=>{"panels"in r&&t(0,i=r.panels),"togglePanel"in r&&t(1,a=r.togglePanel),"panelName"in r&&t(2,o=r.panelName),"$$scope"in r&&t(3,n=r.$$scope)},[i,a,o,n,s,f]}class Cl extends Ze{constructor(e){super();$e(this,e,Us,Rs,xe,{panels:0,togglePanel:1,panelName:2})}}function Nt(l){let e,t,s,n,i,a,o,f,r,c,_;return{c(){e=P("div"),t=P("a"),s=z("Click here"),n=z(` to see a video tutorial of this website.
    `),i=P("button"),a=z("Close message."),this.h()},l(d){e=D(d,"DIV",{class:!0});var m=b(e);t=D(m,"A",{href:!0,target:!0});var p=b(t);s=q(p,"Click here"),p.forEach(h),n=q(m,` to see a video tutorial of this website.
    `),i=D(m,"BUTTON",{class:!0});var k=b(i);a=q(k,"Close message."),k.forEach(h),m.forEach(h),this.h()},h(){v(t,"href","https://youtu.be/dU5a4PRSF14"),v(t,"target","_blank"),v(i,"class","svelte-a8zkqf"),v(e,"class","modal svelte-a8zkqf")},m(d,m){L(d,e,m),u(e,t),u(t,s),u(e,n),u(e,i),u(i,a),r=!0,c||(_=re(i,"click",function(){Vl(l[1])&&l[1].apply(this,arguments)}),c=!0)},p(d,m){l=d},i(d){r||(Ie(()=>{f&&f.end(1),o=Ue(e,Ce,{}),o.start()}),r=!0)},o(d){o&&o.invalidate(),f=He(e,Ce,{}),r=!1},d(d){d&&h(e),d&&f&&f.end(),c=!1,_()}}}function Hs(l){let e,t,s=l[0]&&Nt(l);return{c(){s&&s.c(),e=Y()},l(n){s&&s.l(n),e=Y()},m(n,i){s&&s.m(n,i),L(n,e,i),t=!0},p(n,[i]){n[0]?s?(s.p(n,i),i&1&&K(s,1)):(s=Nt(n),s.c(),K(s,1),s.m(e.parentNode,e)):s&&(Be(),te(s,1,1,()=>{s=null}),Ae())},i(n){t||(K(s),t=!0)},o(n){te(s),t=!1},d(n){s&&s.d(n),n&&h(e)}}}function Fs(l,e,t){let{showModal:s,closeModal:n}=e;return l.$$set=i=>{"showModal"in i&&t(0,s=i.showModal),"closeModal"in i&&t(1,n=i.closeModal)},[s,n]}class Ws extends Ze{constructor(e){super();$e(this,e,Fs,Hs,xe,{showModal:0,closeModal:1})}}function jt(l,e,t){const s=l.slice();return s[69]=e[t],s}function Bt(l,e,t){const s=l.slice();return s[72]=e[t],s}function At(l,e,t){const s=l.slice();return s[75]=e[t],s}function zt(l,e,t){const s=l.slice();return s[78]=e[t],s}function qt(l,e,t){const s=l.slice();return s[69]=e[t],s}function Rt(l,e,t){const s=l.slice();return s[69]=e[t],s}function Ut(l){let e,t=(bl[l[69]]||l[69])+"",s,n;return{c(){e=P("option"),s=z(t),this.h()},l(i){e=D(i,"OPTION",{});var a=b(e);s=q(a,t),a.forEach(h),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(i,a){L(i,e,a),u(e,s)},p(i,a){a[0]&4&&t!==(t=(bl[i[69]]||i[69])+"")&&oe(s,t),a[0]&4&&n!==(n=i[69])&&(e.__value=n,e.value=e.__value)},d(i){i&&h(e)}}}function Ht(l){let e,t=(bl[l[69]]||l[69])+"",s,n;return{c(){e=P("option"),s=z(t),this.h()},l(i){e=D(i,"OPTION",{});var a=b(e);s=q(a,t),a.forEach(h),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(i,a){L(i,e,a),u(e,s)},p(i,a){a[0]&8&&t!==(t=(bl[i[69]]||i[69])+"")&&oe(s,t),a[0]&8&&n!==(n=i[69])&&(e.__value=n,e.value=e.__value)},d(i){i&&h(e)}}}function Ft(l){let e,t=l[2].includes(l[17]),s,n=l[2].includes(l[17]),i,a,o,f=t&&Wt(l),r=n&&Qt(l);return{c(){e=P("div"),f&&f.c(),s=j(),r&&r.c()},l(c){e=D(c,"DIV",{});var _=b(e);f&&f.l(_),s=B(_),r&&r.l(_),_.forEach(h)},m(c,_){L(c,e,_),f&&f.m(e,null),u(e,s),r&&r.m(e,null),o=!0},p(c,_){_[0]&131076&&(t=c[2].includes(c[17])),t?f?f.p(c,_):(f=Wt(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null),_[0]&131076&&(n=c[2].includes(c[17])),n?r?r.p(c,_):(r=Qt(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){o||(Ie(()=>{a&&a.end(1),i=Ue(e,vl,{}),i.start()}),o=!0)},o(c){i&&i.invalidate(),a=He(e,vl,{}),o=!1},d(c){c&&h(e),f&&f.d(),r&&r.d(),c&&a&&a.end()}}}function Wt(l){let e,t=["past","present"],s=[];for(let n=0;n<2;n+=1)s[n]=Gt(zt(l,t,n));return{c(){for(let n=0;n<2;n+=1)s[n].c();e=Y()},l(n){for(let i=0;i<2;i+=1)s[i].l(n);e=Y()},m(n,i){for(let a=0;a<2;a+=1)s[a].m(n,i);L(n,e,i)},p(n,i){if(i[0]&65536){t=["past","present"];let a;for(a=0;a<2;a+=1){const o=zt(n,t,a);s[a]?s[a].p(o,i):(s[a]=Gt(o),s[a].c(),s[a].m(e.parentNode,e))}for(;a<2;a+=1)s[a].d(1)}},d(n){pe(s,n),n&&h(e)}}}function Gt(l){let e,t,s,n=Ke(l[78])+"",i,a,o,f;return{c(){e=P("label"),t=P("input"),s=j(),i=z(n),a=j(),this.h()},l(r){e=D(r,"LABEL",{});var c=b(e);t=D(c,"INPUT",{type:!0,name:!0}),s=B(c),i=q(c,n),a=B(c),c.forEach(h),this.h()},h(){v(t,"type","radio"),v(t,"name","period"),t.__value=l[78],t.value=t.__value,l[56][0].push(t)},m(r,c){L(r,e,c),u(e,t),t.checked=t.__value===l[16],u(e,s),u(e,i),u(e,a),o||(f=re(t,"change",l[55]),o=!0)},p(r,c){c[0]&65536&&(t.checked=t.__value===r[16])},d(r){r&&h(e),l[56][0].splice(l[56][0].indexOf(t),1),o=!1,f()}}}function Qt(l){let e,t,s=(l[18]?"pct. asian":"pluralities")+"",n,i,a;return{c(){e=P("button"),t=z("Show "),n=z(s),this.h()},l(o){e=D(o,"BUTTON",{class:!0});var f=b(e);t=q(f,"Show "),n=q(f,s),f.forEach(h),this.h()},h(){v(e,"class","plurality-toggle svelte-1fv06xq")},m(o,f){L(o,e,f),u(e,t),u(e,n),i||(a=re(e,"click",l[57]),i=!0)},p(o,f){f[0]&262144&&s!==(s=(o[18]?"pct. asian":"pluralities")+"")&&oe(n,s)},d(o){o&&h(e),i=!1,a()}}}function Gs(l){let e,t=Ds(l[72]+l[75])+"",s,n,i;return{c(){e=P("option"),s=z(t),n=j(),this.h()},l(a){e=D(a,"OPTION",{});var o=b(e);s=q(o,t),n=B(o),o.forEach(h),this.h()},h(){e.__value=i=l[72]+l[75],e.value=e.__value},m(a,o){L(a,e,o),u(e,s),u(e,n)},p:Fe,d(a){a&&h(e)}}}function Jt(l){let e,t=l[72]+l[75]!=="congress_unity"&&Gs(l);return{c(){t&&t.c(),e=Y()},l(s){t&&t.l(s),e=Y()},m(s,n){t&&t.m(s,n),L(s,e,n)},p(s,n){s[72]+s[75]!=="congress_unity"&&t.p(s,n)},d(s){t&&t.d(s),s&&h(e)}}}function Kt(l){let e,t,s=["","_letters","_names","_unity"],n=[];for(let i=0;i<4;i+=1)n[i]=Jt(At(l,s,i));return{c(){e=P("optgroup");for(let i=0;i<4;i+=1)n[i].c();this.h()},l(i){e=D(i,"OPTGROUP",{label:!0});var a=b(e);for(let o=0;o<4;o+=1)n[o].l(a);a.forEach(h),this.h()},h(){v(e,"label",t=Ke(l[72]))},m(i,a){L(i,e,a);for(let o=0;o<4;o+=1)n[o].m(e,null)},p(i,a){if(a&0){s=["","_letters","_names","_unity"];let o;for(o=0;o<4;o+=1){const f=At(i,s,o);n[o]?n[o].p(f,a):(n[o]=Jt(f),n[o].c(),n[o].m(e,null))}for(;o<4;o+=1)n[o].d(1)}},d(i){i&&h(e),pe(n,i)}}}function Qs(l){let e,t,s,n,i,a,o,f,r=["assembly","senate","congress"],c=[];for(let _=0;_<3;_+=1)c[_]=Kt(Bt(l,r,_));return i=new Ct({props:{aggregates:l[9],handleLabelClick:l[42],plan:l[11],stats:l[25],groups:sl,changingLines:l[33],idealValues:bs}}),{c(){e=P("div"),t=P("div"),s=P("select");for(let _=0;_<3;_+=1)c[_].c();n=j(),We(i.$$.fragment),this.h()},l(_){e=D(_,"DIV",{slot:!0});var d=b(e);t=D(d,"DIV",{class:!0});var m=b(t);s=D(m,"SELECT",{class:!0});var p=b(s);for(let k=0;k<3;k+=1)c[k].l(p);p.forEach(h),m.forEach(h),n=B(d),Ge(i.$$.fragment,d),d.forEach(h),this.h()},h(){v(s,"class","svelte-1fv06xq"),l[11]===void 0&&Ie(()=>l[58].call(s)),v(t,"class","plan-selector svelte-1fv06xq"),v(e,"slot","body")},m(_,d){L(_,e,d),u(e,t),u(t,s);for(let m=0;m<3;m+=1)c[m].m(s,null);el(s,l[11]),u(e,n),Qe(i,e,null),a=!0,o||(f=re(s,"change",l[58]),o=!0)},p(_,d){if(d&0){r=["assembly","senate","congress"];let p;for(p=0;p<3;p+=1){const k=Bt(_,r,p);c[p]?c[p].p(k,d):(c[p]=Kt(k),c[p].c(),c[p].m(s,null))}for(;p<3;p+=1)c[p].d(1)}d[0]&2048&&el(s,_[11]);const m={};d[0]&512&&(m.aggregates=_[9]),d[0]&2048&&(m.plan=_[11]),d[0]&33554432&&(m.stats=_[25]),i.$set(m)},i(_){a||(K(i.$$.fragment,_),a=!0)},o(_){te(i.$$.fragment,_),a=!1},d(_){_&&h(e),pe(c,_),Je(i),o=!1,f()}}}function Xt(l){let e,t=l[69]+"",s,n;return{c(){e=P("option"),s=z(t),this.h()},l(i){e=D(i,"OPTION",{});var a=b(e);s=q(a,t),a.forEach(h),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(i,a){L(i,e,a),u(e,s)},p:Fe,d(i){i&&h(e)}}}function Js(l){let e,t,s,n,i,a,o,f,r=Object.keys(El),c=[];for(let _=0;_<r.length;_+=1)c[_]=Xt(jt(l,r,_));return{c(){e=P("div"),t=P("select");for(let _=0;_<c.length;_+=1)c[_].c();s=j(),n=P("label"),i=P("input"),a=z(`
					Inspect streets`),this.h()},l(_){e=D(_,"DIV",{slot:!0,class:!0});var d=b(e);t=D(d,"SELECT",{class:!0});var m=b(t);for(let k=0;k<c.length;k+=1)c[k].l(m);m.forEach(h),s=B(d),n=D(d,"LABEL",{class:!0});var p=b(n);i=D(p,"INPUT",{type:!0}),a=q(p,`
					Inspect streets`),p.forEach(h),d.forEach(h),this.h()},h(){v(t,"class","svelte-1fv06xq"),l[15]===void 0&&Ie(()=>l[59].call(t)),v(i,"type","checkbox"),v(n,"class","svelte-1fv06xq"),v(e,"slot","body"),v(e,"class","views svelte-1fv06xq")},m(_,d){L(_,e,d),u(e,t);for(let m=0;m<c.length;m+=1)c[m].m(t,null);el(t,l[15]),u(e,s),u(e,n),u(n,i),i.checked=l[6],u(n,a),o||(f=[re(t,"change",l[59]),re(i,"change",l[60])],o=!0)},p(_,d){if(d&0){r=Object.keys(El);let m;for(m=0;m<r.length;m+=1){const p=jt(_,r,m);c[m]?c[m].p(p,d):(c[m]=Xt(p),c[m].c(),c[m].m(t,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}d[0]&32768&&el(t,_[15]),d[0]&64&&(i.checked=_[6])},d(_){_&&h(e),pe(c,_),o=!1,il(f)}}}function Ks(l){let e,t;return e=new Cl({props:{panelName:"communities",panels:l[10],togglePanel:l[41],$$slots:{body:[Ys],title:[Xs]},$$scope:{ctx:l}}}),{c(){We(e.$$.fragment)},l(s){Ge(e.$$.fragment,s)},m(s,n){Qe(e,s,n),t=!0},p(s,n){const i={};n[0]&1024&&(i.panels=s[10]),n[0]&50331904|n[2]&8388608&&(i.$$scope={dirty:n,ctx:s}),e.$set(i)},i(s){t||(K(e.$$.fragment,s),t=!0)},o(s){te(e.$$.fragment,s),t=!1},d(s){Je(e,s)}}}function Xs(l){let e,t,s,n;return{c(){e=P("button"),t=z("+"),this.h()},l(i){e=D(i,"BUTTON",{slot:!0});var a=b(e);t=q(a,"+"),a.forEach(h),this.h()},h(){v(e,"slot","title")},m(i,a){L(i,e,a),u(e,t),s||(n=re(e,"click",l[61]),s=!0)},p:Fe,d(i){i&&h(e),s=!1,n()}}}function Ys(l){let e,t,s,n,i,a,o,f,r;return t=new Ct({props:{type:"community",drawings:l[8],delDrawing:l[39],groups:sl,stats:l[25]}}),{c(){e=P("div"),We(t.$$.fragment),s=j(),n=P("button"),i=P("b"),a=z("[SAVE]"),this.h()},l(c){e=D(c,"DIV",{slot:!0,class:!0});var _=b(e);Ge(t.$$.fragment,_),s=B(_),n=D(_,"BUTTON",{style:!0});var d=b(n);i=D(d,"B",{});var m=b(i);a=q(m,"[SAVE]"),m.forEach(h),d.forEach(h),_.forEach(h),this.h()},h(){ne(n,"font-size","13px"),v(e,"slot","body"),v(e,"class","community svelte-1fv06xq")},m(c,_){L(c,e,_),Qe(t,e,null),u(e,s),u(e,n),u(n,i),u(i,a),o=!0,f||(r=re(n,"click",l[40]),f=!0)},p(c,_){const d={};_[0]&256&&(d.drawings=c[8]),_[0]&33554432&&(d.stats=c[25]),t.$set(d)},i(c){o||(K(t.$$.fragment,c),o=!0)},o(c){te(t.$$.fragment,c),o=!1},d(c){c&&h(e),Je(t),f=!1,r()}}}function Zs(l){let e,t,s,n,i,a;return{c(){e=P("div"),t=P("p"),s=z("Questions, suggestions, concerns --> "),n=P("a"),i=z("jason.kao@columbia.edu"),a=z("."),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=b(e);t=D(f,"P",{});var r=b(t);s=q(r,"Questions, suggestions, concerns --> "),n=D(r,"A",{href:!0});var c=b(n);i=q(c,"jason.kao@columbia.edu"),c.forEach(h),a=q(r,"."),r.forEach(h),f.forEach(h),this.h()},h(){v(n,"href","mailto:jason.kao@console.edu"),v(e,"class","footer svelte-1fv06xq")},m(o,f){L(o,e,f),u(e,t),u(t,s),u(t,n),u(n,i),u(t,a)},d(o){o&&h(e)}}}function $s(l){let e,t,s,n,i,a,o,f,r,c,_,d,m,p,k,I,T,O,R,U,X,J;e=new Ws({props:{showModal:l[21],closeModal:l[36]}});let F=l[2],N=[];for(let g=0;g<F.length;g+=1)N[g]=Ut(Rt(l,F,g));let A=l[3],y=[];for(let g=0;g<A.length;g+=1)y[g]=Ht(qt(l,A,g));let C=l[22]&&Ft(l);c=new Ss({props:{groups:sl,levels:yl,colors:Il,dynamicVars:l[2],variable:l[17],metric:l[20],showPluralities:l[18],pluralityVars:l[5],periods:kl,breaks:l[32]}}),d=new Cl({props:{panelName:"plans",panels:l[10],togglePanel:l[41],$$slots:{body:[Qs]},$$scope:{ctx:l}}}),p=new Cl({props:{panelName:"views",panels:l[10],togglePanel:l[41],$$slots:{body:[Js]},$$scope:{ctx:l}}});let S=Ks(l);T=new Ms({props:{viewBox:l[19],labelSize:l[31],draggedBgs:l[7],data:l[1],path:wl,color:l[38],changingLines:l[33],neighbor:l[37],showPluralities:l[18],metric:l[20],period:l[16],tractVars:l[4],panels:l[10],drawings:l[8],plan:l[11],points:l[27],tractMesh:l[35],bgMesh:l[26],mesh:l[34],aggregates:l[9],obj:l[0],handleLabelClick:l[42],congressPlans:l[12],plans:l[28],startDrag:l[43],endDrag:l[44],handleMouseMove:l[45],viewCutoff:l[30],showOnlyFocusDistricts:l[23],showStreets:l[6],streets:l[13],presentationMode:Yt}});let M=Zs();return{c(){We(e.$$.fragment),t=j(),s=P("div"),n=P("div"),i=P("select"),a=P("optgroup");for(let g=0;g<N.length;g+=1)N[g].c();o=P("optgroup");for(let g=0;g<y.length;g+=1)y[g].c();f=j(),C&&C.c(),r=j(),We(c.$$.fragment),_=j(),We(d.$$.fragment),m=j(),We(p.$$.fragment),k=j(),S&&S.c(),I=j(),We(T.$$.fragment),O=j(),M&&M.c(),this.h()},l(g){Ge(e.$$.fragment,g),t=B(g),s=D(g,"DIV",{class:!0,style:!0});var V=b(s);n=D(V,"DIV",{class:!0});var W=b(n);i=D(W,"SELECT",{style:!0,class:!0});var ee=b(i);a=D(ee,"OPTGROUP",{label:!0});var ie=b(a);for(let G=0;G<N.length;G+=1)N[G].l(ie);ie.forEach(h),o=D(ee,"OPTGROUP",{label:!0});var ce=b(o);for(let G=0;G<y.length;G+=1)y[G].l(ce);ce.forEach(h),ee.forEach(h),f=B(W),C&&C.l(W),r=B(W),Ge(c.$$.fragment,W),_=B(W),Ge(d.$$.fragment,W),m=B(W),Ge(p.$$.fragment,W),k=B(W),S&&S.l(W),W.forEach(h),I=B(V),Ge(T.$$.fragment,V),O=B(V),M&&M.l(V),V.forEach(h),this.h()},h(){v(a,"label","Redistricting data"),v(o,"label","American Community Survey data"),ne(i,"width",l[3].includes(l[17])?"auto":"calc(var(--control-width) + 45px)"),v(i,"class","svelte-1fv06xq"),l[17]===void 0&&Ie(()=>l[54].call(i)),v(n,"class","controls svelte-1fv06xq"),v(s,"class","container svelte-1fv06xq"),ne(s,"cursor",l[24]?"crosshair":"auto"),ne(s,"--container-font",l[29]+"px"),ne(s,"--control-width",270+(l[29]-16)*10+"px"),Ie(()=>l[62].call(s))},m(g,V){Qe(e,g,V),L(g,t,V),L(g,s,V),u(s,n),u(n,i),u(i,a);for(let W=0;W<N.length;W+=1)N[W].m(a,null);u(i,o);for(let W=0;W<y.length;W+=1)y[W].m(o,null);el(i,l[17]),u(n,f),C&&C.m(n,null),u(n,r),Qe(c,n,null),u(n,_),Qe(d,n,null),u(n,m),Qe(p,n,null),u(n,k),S&&S.m(n,null),u(s,I),Qe(T,s,null),u(s,O),M&&M.m(s,null),R=cs(s,l[62].bind(s)),U=!0,X||(J=[re(window,"keydown",l[46]),re(i,"change",l[54])],X=!0)},p(g,V){const W={};if(V[0]&2097152&&(W.showModal=g[21]),e.$set(W),V[0]&4){F=g[2];let Q;for(Q=0;Q<F.length;Q+=1){const me=Rt(g,F,Q);N[Q]?N[Q].p(me,V):(N[Q]=Ut(me),N[Q].c(),N[Q].m(a,null))}for(;Q<N.length;Q+=1)N[Q].d(1);N.length=F.length}if(V[0]&8){A=g[3];let Q;for(Q=0;Q<A.length;Q+=1){const me=qt(g,A,Q);y[Q]?y[Q].p(me,V):(y[Q]=Ht(me),y[Q].c(),y[Q].m(o,null))}for(;Q<y.length;Q+=1)y[Q].d(1);y.length=A.length}(!U||V[0]&131080)&&ne(i,"width",g[3].includes(g[17])?"auto":"calc(var(--control-width) + 45px)"),V[0]&131084&&el(i,g[17]),g[22]?C?(C.p(g,V),V[0]&4194304&&K(C,1)):(C=Ft(g),C.c(),K(C,1),C.m(n,r)):C&&(Be(),te(C,1,1,()=>{C=null}),Ae());const ee={};V[0]&4&&(ee.dynamicVars=g[2]),V[0]&131072&&(ee.variable=g[17]),V[0]&1048576&&(ee.metric=g[20]),V[0]&262144&&(ee.showPluralities=g[18]),V[0]&32&&(ee.pluralityVars=g[5]),V[1]&2&&(ee.breaks=g[32]),c.$set(ee);const ie={};V[0]&1024&&(ie.panels=g[10]),V[0]&33556992|V[2]&8388608&&(ie.$$scope={dirty:V,ctx:g}),d.$set(ie);const ce={};V[0]&1024&&(ce.panels=g[10]),V[0]&32832|V[2]&8388608&&(ce.$$scope={dirty:V,ctx:g}),p.$set(ce),S.p(g,V);const G={};V[0]&524288&&(G.viewBox=g[19]),V[1]&1&&(G.labelSize=g[31]),V[0]&128&&(G.draggedBgs=g[7]),V[0]&2&&(G.data=g[1]),V[0]&262144&&(G.showPluralities=g[18]),V[0]&1048576&&(G.metric=g[20]),V[0]&65536&&(G.period=g[16]),V[0]&16&&(G.tractVars=g[4]),V[0]&1024&&(G.panels=g[10]),V[0]&256&&(G.drawings=g[8]),V[0]&2048&&(G.plan=g[11]),V[0]&134217728&&(G.points=g[27]),V[0]&67108864&&(G.bgMesh=g[26]),V[0]&512&&(G.aggregates=g[9]),V[0]&1&&(G.obj=g[0]),V[0]&4096&&(G.congressPlans=g[12]),V[0]&268435456&&(G.plans=g[28]),V[0]&1073741824&&(G.viewCutoff=g[30]),V[0]&8388608&&(G.showOnlyFocusDistricts=g[23]),V[0]&64&&(G.showStreets=g[6]),V[0]&8192&&(G.streets=g[13]),T.$set(G),(!U||V[0]&16777216)&&ne(s,"cursor",g[24]?"crosshair":"auto"),(!U||V[0]&536870912)&&ne(s,"--container-font",g[29]+"px"),(!U||V[0]&536870912)&&ne(s,"--control-width",270+(g[29]-16)*10+"px")},i(g){U||(K(e.$$.fragment,g),K(C),K(c.$$.fragment,g),K(d.$$.fragment,g),K(p.$$.fragment,g),K(S),K(T.$$.fragment,g),U=!0)},o(g){te(e.$$.fragment,g),te(C),te(c.$$.fragment,g),te(d.$$.fragment,g),te(p.$$.fragment,g),te(S),te(T.$$.fragment,g),U=!1},d(g){Je(e,g),g&&h(t),g&&h(s),pe(N,g),pe(y,g),C&&C.d(),Je(c),Je(d),Je(p),S&&S.d(),Je(T),M&&M.d(),R(),X=!1,il(J)}}}async function nn({fetch:l}){const e=await(await l(`${Ml}/output_census.topojson`)).json(),t=vs(e.objects.census),s=rs(e,t).features.map(Wl),n=["pop","cvap"],i=[...s.reduce((o,f)=>{const r=Object.keys(f.properties).filter(c=>[...n,"GEOID","senate","assembly","congress"].every(_=>!c.includes(_))&&c===c.toLowerCase()).map(c=>c.split("_")[0]);return new Set([...o,...r])},[])],a=s.reduce((o,f,r)=>(o[f.properties.GEOID]=r,o),{});return{props:{topoData:e,obj:t,data:s,neighbors:fs(t.geometries),dynamicVars:n,staticVars:i,idToIndex:a,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}let Yt=!1;function xs(l,e,t){let s,n,i,a,o,{topoData:f,obj:r,neighbors:c,data:_,dynamicVars:d,staticVars:m,tractVars:p,pluralityVars:k,idToIndex:I}=e,T,O,R=!0,U=!1,X,J,F,N,A=[],y=[],C=[],S={},M=["plans","views"],g="assembly",V,W,ee,ie,ce,G=18,Q,me=870,he=Object.keys(El)[0];const le=E=>al(f,r,E),Z=wl(le((E,se)=>Oe(E).substring(0,11)!==Oe(se).substring(0,11))),$=()=>t(21,O=!1);us(async()=>{t(26,V=wl(Wl(le((se,H)=>Oe(se)!==Oe(H)))));const E=await Promise.all([ks(),ws()]);t(28,ce=E[0]),t(27,ee=E[1]),t(30,me=_.length),t(21,O=!Yt)});let x;const De=E=>_[E].properties[g];function Ve(E){const se=De(E),H=new Set(c[E].map(De).filter(fe=>fe!==se));if(H.size===1)t(0,r.geometries[E].properties[g]=x=H.values().next().value,r);else if(H.has(x))t(0,r.geometries[E].properties[g]=x,r);else return;t(0,r)}let be="present",ae="pop";const Pe={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let ke=!1;function Te({properties:E}){if(!E.ALAND)return"#fff";const se=E[`${n}_total`];if(k.includes(n)){const H=_e=>E[`${n}_${_e}`];if(H(kl[0])===null)return"#eee";const fe=[...kl].sort((_e,je)=>H(je)-H(_e));return ll[kl.indexOf(fe[0])]}else if(m.includes(n)){if(!Gl(i(E)))return"#eee";if(se<=10)return"#fff";for(let H=1;H<a.length;H++)if(i(E)<a[H])return ll[H];return ll[a.length-1]}else{if(se<=10)return"#fff";const H=fe=>E[`${n}_${fe}`]/E[`${n}_total`];if(ke){const fe=sl.filter(nl=>H(nl)>.5)[0];if(fe!==void 0)return Il[fe]+yl[se<130?0:se<200?1:2];const _e=[...sl].sort((nl,ml)=>H(ml)-H(nl)),je=H(_e[0])-H(_e[1]);return Il[_e[0]]+yl[je<.093?0:1]}else{const fe=Pe[ae];for(let _e=1;_e<fe.length;_e++)if(H("asian")<fe[_e])return pl[_e-1];return pl[fe.length-1]}}}const ye=async()=>t(12,W=await Es()),w=async()=>t(13,ie=await Ps());function de(E){const se=typeof E[0]=="string"?E.map(Me=>_[I[Me]].properties):E.map(Me=>Me.properties),H=(Me,Ye)=>se.reduce(($t,Ll)=>$t+(Ll[Me]||0)*(Ye&&Ll[Ye]||1),0),fe=Me=>H(Me,"pop20_total")/H("pop20_total"),_e=(Me,Ye)=>H(`${Me}_${Ye}`)/H(`${Me}_total`);let je=H("pop10_asian"),nl=H("pop20_asian"),ml=H("cvap10_asian"),Zt=H("cvap19_asian");const Ol={income:fe("income"),hhlang:_e("hhlang","asian"),benefits:_e("families","benefits"),pop20_total:H("pop20_total"),pct_increase:(nl-je)/je,pct_increase_cvap:(Zt-ml)/ml};return["pop20","cvap19","pop10","cvap10"].forEach(Me=>sl.forEach(Ye=>Ol[Me+Ye]=_e(Me,Ye))),Ol}const Xe=E=>t(8,y=y.filter((se,H)=>H!==E));async function ol(){try{await fetch(`${Ml}/data.json`,{method:"POST",body:JSON.stringify(y)})}catch(E){console.error(E)}}async function Pl(){try{const E=await fetch(`${Ml}/data.json`);t(8,y=(await E.json()).map(se=>Bl(jl({},se),{stats:de(se.ids)})))}catch(E){console.error(E)}}const ve=E=>t(10,M=M.includes(E)?M.filter(se=>se!==E):[...M,E]);function Ne(E){C.includes(E)?t(9,C=C.filter(se=>se!==E)):t(9,C=[...C,E])}const ge=()=>t(50,J=!0),rl=()=>t(50,J=t(24,X=!1)),fl=E=>X&&J&&(A.length===0?t(7,A=[Oe(E)]):A.push(Oe(E)));function Le({key:E}){}const ze=[[]];function cl(){ae=Tl(this),t(17,ae),t(3,m),t(2,d)}function ul(){be=this.__value,t(16,be)}const qe=()=>t(18,ke=!ke);function hl(){g=Tl(this),t(11,g)}function _l(){he=Tl(this),t(15,he)}function dl(){T=this.checked,t(6,T)}const Re=()=>t(24,X=!0);function gl(){Q=this.clientWidth,t(14,Q)}return l.$$set=E=>{"topoData"in E&&t(47,f=E.topoData),"obj"in E&&t(0,r=E.obj),"neighbors"in E&&t(48,c=E.neighbors),"data"in E&&t(1,_=E.data),"dynamicVars"in E&&t(2,d=E.dynamicVars),"staticVars"in E&&t(3,m=E.staticVars),"tractVars"in E&&t(4,p=E.tractVars),"pluralityVars"in E&&t(5,k=E.pluralityVars),"idToIndex"in E&&t(49,I=E.idToIndex)},l.$$.update=()=>{if(l.$$.dirty[0]&32768&&t(19,s=El[he]),l.$$.dirty[0]&196616&&t(20,n=m.includes(ae)?ae:ae+(be==="past"?10:ae==="cvap"?19:20)),l.$$.dirty[0]&1048576&&t(53,i={income:E=>E[n],hhlang:E=>E[`${n}_asian`]/E[`${n}_total`],graduates:E=>(E[`${n}_hs_grad`]+E[`${n}_ba_above`])/E[`${n}_total`],families:E=>E[`${n}_benefits`]/E[`${n}_total`],workers:E=>E[`${n}_publictransport`]/E[`${n}_total`]}[n]),l.$$.dirty[0]&1441806|l.$$.dirty[1]&6291456&&t(32,a=d.includes(ae)&&!ke?Pe[ae]:Pe[n]||!m.includes(n)||n==="asiaentry"||t(52,Pe[n]=hs(_.map(E=>i(E.properties)).filter(Gl),6),Pe)),l.$$.dirty[0]&386|l.$$.dirty[1]&524288&&!J&&A.length>0){if(A[0]===A[A.length-1]){const E=new Set(A),se=_s(le((fe,_e)=>ps(E.has(Oe(fe)),E.has(Oe(_e)))).coordinates.flat()),H=_.filter(fe=>ds(gs(fe.geometry.coordinates[0]),se)).map(Oe);t(8,y=[...y,{outline:wl({type:"LineString",coordinates:se}),ids:H,stats:de(H)}])}t(7,A=[])}if(l.$$.dirty[0]&6144&&g.startsWith("congress")&&W===void 0&&ye(),l.$$.dirty[0]&8256&&T&&ie===void 0&&w(),l.$$.dirty[0]&1024|l.$$.dirty[1]&1048576&&M.includes("communities")&&!N&&(Pl(),t(51,N=!0)),l.$$.dirty[0]&542720&&t(31,o=(g.endsWith("_names")?.9:1.1)/((Q-410)/s[2])*1.1),l.$$.dirty[0]&2561)for(let E=0;E<C.length;E++){const[se,H]=C[E].split(",");se===g&&t(25,S[C[E]]=de(r.geometries.filter(({properties:fe})=>H===""+fe[g])),S)}},[r,_,d,m,p,k,T,A,y,C,M,g,W,ie,Q,he,be,ae,ke,s,n,O,R,U,X,S,V,ee,ce,G,me,o,a,F,le,Z,$,Ve,Te,Xe,ol,ve,Ne,ge,rl,fl,Le,f,c,I,J,N,Pe,i,cl,ul,ze,qe,hl,_l,dl,Re,gl]}class an extends Ze{constructor(e){super();$e(this,e,xs,$s,xe,{topoData:47,obj:0,neighbors:48,data:1,dynamicVars:2,staticVars:3,tractVars:4,pluralityVars:5,idToIndex:49},null,[-1,-1,-1])}}export{an as default,nn as load};
