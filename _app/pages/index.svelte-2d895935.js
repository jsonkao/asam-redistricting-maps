var ns=Object.defineProperty,is=Object.defineProperties;var as=Object.getOwnPropertyDescriptors;var pl=Object.getOwnPropertySymbols;var os=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable;var vl=(l,e,t)=>e in l?ns(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,bl=(l,e)=>{for(var t in e||(e={}))os.call(e,t)&&vl(l,t,e[t]);if(pl)for(var t of pl(e))rs.call(e,t)&&vl(l,t,e[t]);return l},kl=(l,e)=>is(l,as(e));import{S as Ge,i as Qe,s as Je,e as D,t as H,c as V,a as w,g as R,d as h,b as v,J as $,f as S,H as _,h as ae,l as X,K as he,L as _e,M as ye,N as ie,O as rl,P as el,Q as ke,R as Oe,T as we,U as Se,V as re,W as Re,x as K,r as Ie,u as Z,w as Ce,k as U,n as F,X as fl,Y as fs,Z as cs,I as Ne,_ as us,$ as hs,D as wl,E as El,F as Pl,G as Dl,a0 as ll,a1 as _s,a2 as gs,j as je,m as Be,o as ze,v as Ae,a3 as Ke,a4 as ds,A as ms,a5 as ps,a6 as vs,a7 as bs,a8 as ks,a9 as cl}from"../chunks/vendor-10aa861a.js";import{b as ul}from"../chunks/paths-28a87002.js";import{i as Ee,f as ws,D as Vl,s as tl,a as Xe,p as Pe,m as Ye,c as Te,b as Ml,d as yl,u as Es,r as Tl,v as sl,g as Ze,l as hl,e as _l,h as nl,j as il,k as al,n as Il,x as Ps,o as Ds,q as Vs,t as Ms,w as ys,y as Ts,z as Is}from"../chunks/constants-eb34db63.js";function Cl(l,e,t){const s=l.slice();return s[50]=e[t],s}function Ll(l,e,t){const s=l.slice();return s[53]=e[t].properties,s[54]=e[t].geometry.coordinates[0],s[55]=e[t].geometry.coordinates[1],s}function Ol(l,e,t){const s=l.slice();return s[58]=e[t],s}function Sl(l,e,t){const s=l.slice();return s[61]=e[t].outline,s}function Nl(l,e,t){const s=l.slice();return s[50]=e[t],s[65]=t,s}function jl(l){let e,t=l[35].label+"",s;return{c(){e=D("p"),s=H(t),this.h()},l(n){e=V(n,"P",{class:!0,style:!0});var a=w(e);s=R(a,t),a.forEach(h),this.h()},h(){v(e,"class","street-inspector svelte-12yd007"),$(e,"left",l[35].x+"px"),$(e,"top","calc("+l[35].y+"px - 1.2em)")},m(n,a){S(n,e,a),_(e,s)},p(n,a){a[1]&16&&t!==(t=n[35].label+"")&&ae(s,t),a[1]&16&&$(e,"left",n[35].x+"px"),a[1]&16&&$(e,"top","calc("+n[35].y+"px - 1.2em)")},d(n){n&&h(e)}}}function Bl(l){let e,t,s,n,a;function i(){return l[39](l[65])}function o(){return l[40](l[50])}function f(){return l[41](l[50])}return{c(){e=he("path"),this.h()},l(r){e=_e(r,"path",{d:!0,fill:!0,class:!0}),w(e).forEach(h),this.h()},h(){v(e,"d",t=l[5](l[50])),v(e,"fill",s=l[6](l[50],l[10],l[11],l[9])),v(e,"class","svelte-12yd007"),ye(e,"head",l[3][0]===Ee(l[50]))},m(r,c){S(r,e,c),n||(a=[ie(e,"click",i),ie(e,"contextmenu",rl(o)),ie(e,"mousemove",rl(f))],n=!0)},p(r,c){l=r,c[0]&48&&t!==(t=l[5](l[50]))&&v(e,"d",t),c[0]&3664&&s!==(s=l[6](l[50],l[10],l[11],l[9]))&&v(e,"fill",s),c[0]&24&&ye(e,"head",l[3][0]===Ee(l[50]))},d(r){r&&h(e),n=!1,el(a)}}}function zl(l,e){let t,s,n=e[65]<e[27]&&Bl(e);return{key:l,first:null,c(){t=X(),n&&n.c(),s=X(),this.h()},l(a){t=X(),n&&n.l(a),s=X(),this.h()},h(){this.first=t},m(a,i){S(a,t,i),n&&n.m(a,i),S(a,s,i)},p(a,i){e=a,e[65]<e[27]?n?n.p(e,i):(n=Bl(e),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(a){a&&h(t),n&&n.d(a),a&&h(s)}}}function Al(l){let e,t;return{c(){e=he("path"),this.h()},l(s){e=_e(s,"path",{class:!0,d:!0}),w(e).forEach(h),this.h()},h(){v(e,"class","mesh-bg svelte-12yd007"),v(e,"d",t=l[12].includes(l[10])?l[17]:l[18])},m(s,n){S(s,e,n)},p(s,n){n[0]&398336&&t!==(t=s[12].includes(s[10])?s[17]:s[18])&&v(e,"d",t)},d(s){s&&h(e)}}}function ql(l){let e,t,s,n,a=l[13],i=[];for(let o=0;o<a.length;o+=1)i[o]=Ul(Sl(l,a,o));return{c(){e=he("g");for(let o=0;o<i.length;o+=1)i[o].c()},l(o){e=_e(o,"g",{});var f=w(e);for(let r=0;r<i.length;r+=1)i[r].l(f);f.forEach(h)},m(o,f){S(o,e,f);for(let r=0;r<i.length;r+=1)i[r].m(e,null);n=!0},p(o,f){if(f[0]&8192){a=o[13];let r;for(r=0;r<a.length;r+=1){const c=Sl(o,a,r);i[r]?i[r].p(c,f):(i[r]=Ul(c),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}},i(o){n||(ke(()=>{s&&s.end(1),t=Oe(e,we,{}),t.start()}),n=!0)},o(o){t&&t.invalidate(),s=Se(e,we,{}),n=!1},d(o){o&&h(e),re(i,o),o&&s&&s.end()}}}function Ul(l){let e,t;return{c(){e=he("path"),this.h()},l(s){e=_e(s,"path",{class:!0,d:!0}),w(e).forEach(h),this.h()},h(){v(e,"class","mesh-community svelte-12yd007"),v(e,"d",t=l[61])},m(s,n){S(s,e,n)},p(s,n){n[0]&8192&&t!==(t=s[61])&&v(e,"d",t)},d(s){s&&h(e)}}}function Fl(l){let e,t,s,n,a,i,o=l[20],f=[];for(let r=0;r<o.length;r+=1)f[r]=Hl(Ol(l,o,r));return{c(){e=he("g"),t=he("path");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=_e(r,"g",{});var c=w(e);t=_e(c,"path",{class:!0,d:!0}),w(t).forEach(h);for(let u=0;u<f.length;u+=1)f[u].l(c);c.forEach(h),this.h()},h(){v(t,"class","mesh-district svelte-12yd007"),v(t,"d",s=l[37](l[15],l[23],l[22],l[28])),ye(t,"showPluralities",l[9])},m(r,c){S(r,e,c),_(e,t);for(let u=0;u<f.length;u+=1)f[u].m(e,null);i=!0},p(r,c){if((!i||c[0]&281051136&&s!==(s=r[37](r[15],r[23],r[22],r[28])))&&v(t,"d",s),c[0]&512&&ye(t,"showPluralities",r[9]),c[0]&1048609|c[1]&2){o=r[20];let u;for(u=0;u<o.length;u+=1){const g=Ol(r,o,u);f[u]?f[u].p(g,c):(f[u]=Hl(g),f[u].c(),f[u].m(e,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}},i(r){i||(ke(()=>{a&&a.end(1),n=Oe(e,we,{}),n.start()}),i=!0)},o(r){n&&n.invalidate(),a=Se(e,we,{}),i=!1},d(r){r&&h(e),re(f,r),r&&a&&a.end()}}}function Hl(l){let e,t;function s(...n){return l[42](l[58],...n)}return{c(){e=he("path"),this.h()},l(n){e=_e(n,"path",{class:!0,d:!0}),w(e).forEach(h),this.h()},h(){v(e,"class","mesh-onhover mesh-district svelte-12yd007"),v(e,"d",t=l[0]&&l[5](Re(l[32],{type:l[0].type,geometries:l[0].geometries.filter(s)})))},m(n,a){S(n,e,a)},p(n,a){l=n,a[0]&1048609|a[1]&2&&t!==(t=l[0]&&l[5](Re(l[32],{type:l[0].type,geometries:l[0].geometries.filter(s)})))&&v(e,"d",t)},d(n){n&&h(e)}}}function Rl(l){let e,t,s,n,a,i;return{c(){e=he("g"),t=he("path"),this.h()},l(o){e=_e(o,"g",{});var f=w(e);t=_e(f,"path",{class:!0,d:!0}),w(t).forEach(h),f.forEach(h),this.h()},h(){v(t,"class","mesh-district svelte-12yd007"),v(t,"d",s=l[5](l[19](l[43],l[0])))},m(o,f){S(o,e,f),_(e,t),i=!0},p(o,f){(!i||f[0]&557089&&s!==(s=o[5](o[19](o[43],o[0]))))&&v(t,"d",s)},i(o){i||(ke(()=>{a&&a.end(1),n=Oe(e,we,{}),n.start()}),i=!0)},o(o){n&&n.invalidate(),a=Se(e,we,{}),i=!1},d(o){o&&h(e),o&&a&&a.end()}}}function Wl(l){let e,t,s,n,a,i=l[16],o=[];for(let c=0;c<i.length;c+=1)o[c]=Ql(Ll(l,i,c));const f=c=>Z(o[c],1,1,()=>{o[c]=null});let r=l[34]&&Jl(l);return{c(){e=he("g");for(let c=0;c<o.length;c+=1)o[c].c();t=X(),r&&r.c(),this.h()},l(c){e=_e(c,"g",{class:!0});var u=w(e);for(let g=0;g<o.length;g+=1)o[g].l(u);t=X(),r&&r.l(u),u.forEach(h),this.h()},h(){v(e,"class","labels svelte-12yd007")},m(c,u){S(c,e,u);for(let g=0;g<o.length;g+=1)o[g].m(e,null);_(e,t),r&&r.m(e,null),a=!0},p(c,u){if(u[0]&3244032|u[1]&44){i=c[16];let g;for(g=0;g<i.length;g+=1){const m=Ll(c,i,g);o[g]?(o[g].p(m,u),K(o[g],1)):(o[g]=Ql(m),o[g].c(),K(o[g],1),o[g].m(e,t))}for(Ie(),g=i.length;g<o.length;g+=1)f(g);Ce()}c[34]?r?r.p(c,u):(r=Jl(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){if(!a){for(let u=0;u<i.length;u+=1)K(o[u]);ke(()=>{n&&n.end(1),s=Oe(e,we,{}),s.start()}),a=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)Z(o[u]);s&&s.invalidate(),n=Se(e,we,{}),a=!1},d(c){c&&h(e),re(o,c),r&&r.d(),c&&n&&n.end()}}}function Gl(l){let e,t=l[53][l[15]]+"",s,n,a,i,o,f,r,c;function u(){return l[44](l[53])}function g(){return l[45](l[53])}return{c(){e=he("text"),s=H(t),this.h()},l(m){e=_e(m,"text",{x:!0,y:!0,class:!0});var k=w(e);s=R(k,t),k.forEach(h),this.h()},h(){v(e,"x",n=l[54]),v(e,"y",a=l[55]),v(e,"class","svelte-12yd007"),ye(e,"chosen",l[20].includes(`${l[15]},${l[53][l[15]]}`))},m(m,k){S(m,e,k),_(e,s),f=!0,r||(c=[ie(e,"click",u),ie(e,"mousemove",g),ie(e,"mouseout",l[46]),ie(e,"blur",void 0)],r=!0)},p(m,k){l=m,(!f||k[0]&98304)&&t!==(t=l[53][l[15]]+"")&&ae(s,t),(!f||k[0]&65536&&n!==(n=l[54]))&&v(e,"x",n),(!f||k[0]&65536&&a!==(a=l[55]))&&v(e,"y",a),k[0]&1146880&&ye(e,"chosen",l[20].includes(`${l[15]},${l[53][l[15]]}`))},i(m){f||(ke(()=>{o&&o.end(1),i=Oe(e,we,{}),i.start()}),f=!0)},o(m){i&&i.invalidate(),o=Se(e,we,{}),f=!1},d(m){m&&h(e),m&&o&&o.end(),r=!1,el(c)}}}function Ql(l){let e=l[15]in l[53]&&(!l[36]||l[36]&&l[33].includes(l[53][l[15]])),t,s,n=e&&Gl(l);return{c(){n&&n.c(),t=X()},l(a){n&&n.l(a),t=X()},m(a,i){n&&n.m(a,i),S(a,t,i),s=!0},p(a,i){i[0]&98304|i[1]&36&&(e=a[15]in a[53]&&(!a[36]||a[36]&&a[33].includes(a[53][a[15]]))),e?n?(n.p(a,i),i[0]&98304|i[1]&36&&K(n,1)):(n=Gl(a),n.c(),K(n,1),n.m(t.parentNode,t)):n&&(Ie(),Z(n,1,1,()=>{n=null}),Ce())},i(a){s||(K(n),s=!0)},o(a){Z(n),s=!1},d(a){n&&n.d(a),a&&h(t)}}}function Jl(l){let e,t;return{c(){e=he("path"),this.h()},l(s){e=_e(s,"path",{class:!0,d:!0}),w(e).forEach(h),this.h()},h(){v(e,"class","mesh-onhover mesh-district svelte-12yd007"),v(e,"d",t=l[0]&&l[5](Re(l[32],{type:l[0].type,geometries:l[0].geometries.filter(l[47])})))},m(s,n){S(s,e,n)},p(s,n){n[0]&32801|n[1]&10&&t!==(t=s[0]&&s[5](Re(s[32],{type:s[0].type,geometries:s[0].geometries.filter(s[47])})))&&v(e,"d",t)},d(s){s&&h(e)}}}function Kl(l){let e,t,s,n=l[31],a=[];for(let i=0;i<n.length;i+=1)a[i]=Xl(Cl(l,n,i));return{c(){e=he("g");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=_e(i,"g",{class:!0});var o=w(e);for(let f=0;f<a.length;f+=1)a[f].l(o);o.forEach(h),this.h()},h(){v(e,"class","streets svelte-12yd007"),ye(e,"showStreets",l[29])},m(i,o){S(i,e,o);for(let f=0;f<a.length;f+=1)a[f].m(e,null);t||(s=ie(e,"mousemove",l[49]),t=!0)},p(i,o){if(o[0]&536870944|o[1]&129){n=i[31];let f;for(f=0;f<n.length;f+=1){const r=Cl(i,n,f);a[f]?a[f].p(r,o):(a[f]=Xl(r),a[f].c(),a[f].m(e,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=n.length}o[0]&536870912&&ye(e,"showStreets",i[29])},d(i){i&&h(e),re(a,i),t=!1,s()}}}function Xl(l){let e,t,s,n;function a(...i){return l[48](l[50],...i)}return{c(){e=he("path"),this.h()},l(i){e=_e(i,"path",{d:!0,class:!0}),w(e).forEach(h),this.h()},h(){v(e,"d",t=l[5](l[50])),v(e,"class","svelte-12yd007")},m(i,o){S(i,e,o),s||(n=ie(e,"click",rl(a)),s=!0)},p(i,o){l=i,o[0]&32|o[1]&1&&t!==(t=l[5](l[50]))&&v(e,"d",t)},d(i){i&&h(e),s=!1,n()}}}function Cs(l){let e,t,s,n=[],a=new Map,i,o,f=l[14].includes("communities"),r,c=l[14].includes("plans")&&!l[7],u,g,m=l[14].includes("plans")||l[7],k,M,T,p,B,A=l[35]&&jl(l),z=l[4];const W=C=>Ee(C[50]);for(let C=0;C<z.length;C+=1){let L=Nl(l,z,C),d=W(L);a.set(d,n[C]=zl(d,L))}let q=l[18]&&Al(l),O=f&&ql(l),I=c&&Fl(l),N=l[7]&&Rl(l),y=m&&Wl(l),j=l[31]&&Kl(l);return{c(){A&&A.c(),e=U(),t=he("svg"),s=he("g");for(let C=0;C<n.length;C+=1)n[C].c();i=he("g"),q&&q.c(),o=X(),O&&O.c(),r=X(),I&&I.c(),u=X(),N&&N.c(),g=X(),y&&y.c(),k=X(),j&&j.c(),this.h()},l(C){A&&A.l(C),e=F(C),t=_e(C,"svg",{viewBox:!0,style:!0,class:!0});var L=w(t);s=_e(L,"g",{class:!0});var d=w(s);for(let Q=0;Q<n.length;Q+=1)n[Q].l(d);d.forEach(h),i=_e(L,"g",{class:!0});var E=w(i);q&&q.l(E),o=X(),O&&O.l(E),r=X(),I&&I.l(E),u=X(),N&&N.l(E),g=X(),y&&y.l(E),k=X(),j&&j.l(E),E.forEach(h),L.forEach(h),this.h()},h(){v(s,"class","block-groups svelte-12yd007"),v(i,"class","meshes svelte-12yd007"),v(t,"viewBox",M=l[1].join(" ")),$(t,"--font-size",(l[2]||.8)+"em"),$(t,"--mesh-thin",l[30]?.6:.2),$(t,"--mesh-thick",l[30]?2.2:1.1),v(t,"class","svelte-12yd007")},m(C,L){A&&A.m(C,L),S(C,e,L),S(C,t,L),_(t,s);for(let d=0;d<n.length;d+=1)n[d].m(s,null);_(t,i),q&&q.m(i,null),_(i,o),O&&O.m(i,null),_(i,r),I&&I.m(i,null),_(i,u),N&&N.m(i,null),_(i,g),y&&y.m(i,null),_(i,k),j&&j.m(i,null),T=!0,p||(B=[ie(t,"mousedown",function(){fl(l[24])&&l[24].apply(this,arguments)}),ie(t,"mouseup",function(){fl(l[25])&&l[25].apply(this,arguments)})],p=!0)},p(C,L){l=C,l[35]?A?A.p(l,L):(A=jl(l),A.c(),A.m(e.parentNode,e)):A&&(A.d(1),A=null),L[0]&201363448&&(z=l[4],n=fs(n,L,W,1,l,z,a,s,cs,zl,null,Nl)),l[18]?q?q.p(l,L):(q=Al(l),q.c(),q.m(i,o)):q&&(q.d(1),q=null),L[0]&16384&&(f=l[14].includes("communities")),f?O?(O.p(l,L),L[0]&16384&&K(O,1)):(O=ql(l),O.c(),K(O,1),O.m(i,r)):O&&(Ie(),Z(O,1,1,()=>{O=null}),Ce()),L[0]&16512&&(c=l[14].includes("plans")&&!l[7]),c?I?(I.p(l,L),L[0]&16512&&K(I,1)):(I=Fl(l),I.c(),K(I,1),I.m(i,u)):I&&(Ie(),Z(I,1,1,()=>{I=null}),Ce()),l[7]?N?(N.p(l,L),L[0]&128&&K(N,1)):(N=Rl(l),N.c(),K(N,1),N.m(i,g)):N&&(Ie(),Z(N,1,1,()=>{N=null}),Ce()),L[0]&16512&&(m=l[14].includes("plans")||l[7]),m?y?(y.p(l,L),L[0]&16512&&K(y,1)):(y=Wl(l),y.c(),K(y,1),y.m(i,k)):y&&(Ie(),Z(y,1,1,()=>{y=null}),Ce()),l[31]?j?j.p(l,L):(j=Kl(l),j.c(),j.m(i,null)):j&&(j.d(1),j=null),(!T||L[0]&2&&M!==(M=l[1].join(" ")))&&v(t,"viewBox",M),(!T||L[0]&4)&&$(t,"--font-size",(l[2]||.8)+"em"),(!T||L[0]&1073741824)&&$(t,"--mesh-thin",l[30]?.6:.2),(!T||L[0]&1073741824)&&$(t,"--mesh-thick",l[30]?2.2:1.1)},i(C){T||(K(O),K(I),K(N),K(y),T=!0)},o(C){Z(O),Z(I),Z(N),Z(y),T=!1},d(C){A&&A.d(C),C&&h(e),C&&h(t);for(let L=0;L<n.length;L+=1)n[L].d();q&&q.d(),O&&O.d(),I&&I.d(),N&&N.d(),y&&y.d(),j&&j.d(),p=!1,el(B)}}}function Ls(l,e,t){let s,n,a,{viewBox:i,labelSize:o,draggedBgs:f,data:r,path:c,color:u,changingLines:g,neighbor:m,showPluralities:k,metric:M,period:T,tractVars:p,drawings:B,panels:A,plan:z,points:W=[],tractMesh:q,bgMesh:O,mesh:I,aggregates:N,obj:y,handleLabelClick:j,congressPlans:C,plans:L,startDrag:d,endDrag:E,handleMouseMove:Q,viewCutoff:se,showOnlyFocusDistricts:fe,showStreets:ce,presentationMode:G,streets:Y}=e;function de(){if(!!a)return c(n?Re(a,{type:y.type,geometries:y.geometries.filter(b=>s.includes(b.properties[z]))}):Re(a,y,(b,ve)=>Vl(b)!==Vl(ve)))}let me,x;function ee({pageX:b,pageY:ve},{properties:{Label:ol}}){t(35,x={x:b,y:ve,label:ol})}const ne=b=>g&&z.includes("_")&&m(b),le=b=>console.log(b.properties),De=b=>Q(b),qe=(b,ve)=>b.split(",")[1]===""+ve.properties[b.split(",")[0]],Le=(b,ve)=>b.properties[z]!==ve.properties[z],pe=b=>j(`${z},${b[z]}`),ge=b=>t(34,me=b[z]),Ve=()=>t(34,me=null),Me=b=>me===b.properties[z],Ue=(b,ve)=>ce&&ee(ve,b),Fe=()=>t(35,x=null);return l.$$set=b=>{"viewBox"in b&&t(1,i=b.viewBox),"labelSize"in b&&t(2,o=b.labelSize),"draggedBgs"in b&&t(3,f=b.draggedBgs),"data"in b&&t(4,r=b.data),"path"in b&&t(5,c=b.path),"color"in b&&t(6,u=b.color),"changingLines"in b&&t(7,g=b.changingLines),"neighbor"in b&&t(8,m=b.neighbor),"showPluralities"in b&&t(9,k=b.showPluralities),"metric"in b&&t(10,M=b.metric),"period"in b&&t(11,T=b.period),"tractVars"in b&&t(12,p=b.tractVars),"drawings"in b&&t(13,B=b.drawings),"panels"in b&&t(14,A=b.panels),"plan"in b&&t(15,z=b.plan),"points"in b&&t(16,W=b.points),"tractMesh"in b&&t(17,q=b.tractMesh),"bgMesh"in b&&t(18,O=b.bgMesh),"mesh"in b&&t(19,I=b.mesh),"aggregates"in b&&t(20,N=b.aggregates),"obj"in b&&t(0,y=b.obj),"handleLabelClick"in b&&t(21,j=b.handleLabelClick),"congressPlans"in b&&t(22,C=b.congressPlans),"plans"in b&&t(23,L=b.plans),"startDrag"in b&&t(24,d=b.startDrag),"endDrag"in b&&t(25,E=b.endDrag),"handleMouseMove"in b&&t(26,Q=b.handleMouseMove),"viewCutoff"in b&&t(27,se=b.viewCutoff),"showOnlyFocusDistricts"in b&&t(28,fe=b.showOnlyFocusDistricts),"showStreets"in b&&t(29,ce=b.showStreets),"presentationMode"in b&&t(30,G=b.presentationMode),"streets"in b&&t(31,Y=b.streets)},l.$$.update=()=>{l.$$.dirty[0]&32768&&t(33,s=ws[z]),l.$$.dirty[0]&268435456|l.$$.dirty[1]&4&&t(36,n=fe&&s),l.$$.dirty[0]&12615680&&t(32,a=z.startsWith("congress")?C:L),l.$$.dirty[0]&32768|l.$$.dirty[1]&2&&t(0,y=a?a.objects[z]:void 0)},[y,i,o,f,r,c,u,g,m,k,M,T,p,B,A,z,W,q,O,I,N,j,C,L,d,E,Q,se,fe,ce,G,Y,a,s,me,x,n,de,ee,ne,le,De,qe,Le,pe,ge,Ve,Me,Ue,Fe]}class Os extends Ge{constructor(e){super();Qe(this,e,Ls,Cs,Je,{viewBox:1,labelSize:2,draggedBgs:3,data:4,path:5,color:6,changingLines:7,neighbor:8,showPluralities:9,metric:10,period:11,tractVars:12,drawings:13,panels:14,plan:15,points:16,tractMesh:17,bgMesh:18,mesh:19,aggregates:20,obj:0,handleLabelClick:21,congressPlans:22,plans:23,startDrag:24,endDrag:25,handleMouseMove:26,viewCutoff:27,showOnlyFocusDistricts:28,showStreets:29,presentationMode:30,streets:31},null,[-1,-1,-1])}}function Yl(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function Zl(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function $l(l,e,t){const s=l.slice();return s[16]=e[t],s}function xl(l,e,t){const s=l.slice();return s[16]=e[t],s[20]=t,s}function et(l,e,t){const s=l.slice();return s[10]=e[t],s}function lt(l,e,t){const s=l.slice();return s[13]=e[t],s}function Ss(l){let e,t,s=l[9],n=[];for(let o=0;o<s.length;o+=1)n[o]=tt(Zl(l,s,o));let a=l[9],i=[];for(let o=0;o<a.length;o+=1)i[o]=st(Yl(l,a,o));return{c(){e=D("div");for(let o=0;o<n.length;o+=1)n[o].c();t=U();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var f=w(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=F(f);for(let r=0;r<i.length;r+=1)i[r].l(f);f.forEach(h),this.h()},h(){v(e,"class","color-legend svelte-660ibp"),$(e,"grid-template-columns","repeat("+(l[3].includes(l[4])?5:6)+", 2.9em)"),ye(e,"pctasian",l[3].includes(l[4]))},m(o,f){S(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);_(e,t);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(o,f){if(f&536){s=o[9];let r;for(r=0;r<s.length;r+=1){const c=Zl(o,s,r);n[r]?n[r].p(c,f):(n[r]=tt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&536){a=o[9];let r;for(r=0;r<a.length;r+=1){const c=Yl(o,a,r);i[r]?i[r].p(c,f):(i[r]=st(c),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}f&24&&$(e,"grid-template-columns","repeat("+(o[3].includes(o[4])?5:6)+", 2.9em)"),f&24&&ye(e,"pctasian",o[3].includes(o[4]))},d(o){o&&h(e),re(n,o),re(i,o)}}}function Ns(l){let e,t,s=l[8],n=[];for(let o=0;o<s.length;o+=1)n[o]=nt(xl(l,s,o));let a=l[8],i=[];for(let o=0;o<a.length;o+=1)i[o]=it($l(l,a,o));return{c(){e=D("div");for(let o=0;o<n.length;o+=1)n[o].c();t=U();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=V(o,"DIV",{class:!0});var f=w(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=F(f);for(let r=0;r<i.length;r+=1)i[r].l(f);f.forEach(h),this.h()},h(){v(e,"class","color-legend plurality-legend svelte-660ibp")},m(o,f){S(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);_(e,t);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(o,f){if(f&256){s=o[8];let r;for(r=0;r<s.length;r+=1){const c=xl(o,s,r);n[r]?n[r].p(c,f):(n[r]=nt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&256){a=o[8];let r;for(r=0;r<a.length;r+=1){const c=$l(o,a,r);i[r]?i[r].p(c,f):(i[r]=it(c),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}},d(o){o&&h(e),re(n,o),re(i,o)}}}function js(l){let e,t,s,n,a,i,o,f,r,c,u,g,m=l[0],k=[];for(let M=0;M<m.length;M+=1)k[M]=ot(et(l,m,M));return{c(){e=D("div");for(let M=0;M<k.length;M+=1)k[M].c();t=U(),s=D("p"),n=D("span"),a=H("Weak plurality"),i=U(),o=D("p"),f=U(),r=D("p"),c=H("Majority"),u=U(),g=D("p"),this.h()},l(M){e=V(M,"DIV",{class:!0});var T=w(e);for(let z=0;z<k.length;z+=1)k[z].l(T);t=F(T),s=V(T,"P",{class:!0});var p=w(s);n=V(p,"SPAN",{});var B=w(n);a=R(B,"Weak plurality"),B.forEach(h),p.forEach(h),i=F(T),o=V(T,"P",{class:!0}),w(o).forEach(h),f=F(T),r=V(T,"P",{class:!0});var A=w(r);c=R(A,"Majority"),A.forEach(h),u=F(T),g=V(T,"P",{class:!0}),w(g).forEach(h),T.forEach(h),this.h()},h(){v(s,"class","col-head svelte-660ibp"),v(o,"class","col-head svelte-660ibp"),v(r,"class","col-head svelte-660ibp"),v(g,"class","col-head svelte-660ibp"),v(e,"class","legend svelte-660ibp")},m(M,T){S(M,e,T);for(let p=0;p<k.length;p+=1)k[p].m(e,null);_(e,t),_(e,s),_(s,n),_(n,a),_(e,i),_(e,o),_(e,f),_(e,r),_(r,c),_(e,u),_(e,g)},p(M,T){if(T&7){m=M[0];let p;for(p=0;p<m.length;p+=1){const B=et(M,m,p);k[p]?k[p].p(B,T):(k[p]=ot(B),k[p].c(),k[p].m(e,t))}for(;p<k.length;p+=1)k[p].d(1);k.length=m.length}},d(M){M&&h(e),re(k,M)}}}function tt(l){let e;return{c(){e=D("div"),this.h()},l(t){e=V(t,"DIV",{style:!0}),w(e).forEach(h),this.h()},h(){$(e,"background-color",l[3].includes(l[4])?tl[l[20]]:Xe[l[20]])},m(t,s){S(t,e,s)},p(t,s){s&24&&$(e,"background-color",t[3].includes(t[4])?tl[t[20]]:Xe[t[20]])},d(t){t&&h(e)}}}function st(l){let e,t,s=(l[9][l[9].length-1]<1?Pe(l[21],0):l[9][l[9].length-1]>1e3?Ye(l[21]):l[21])+(l[3].includes(l[4])&&l[20]===l[9].length-1?"+ Asian":"")+"",n;return{c(){e=D("p"),t=new us,n=U(),this.h()},l(a){e=V(a,"P",{class:!0});var i=w(e);t=hs(i),n=F(i),i.forEach(h),this.h()},h(){t.a=n,v(e,"class","svelte-660ibp")},m(a,i){S(a,e,i),t.m(s,e),_(e,n)},p(a,i){i&536&&s!==(s=(a[9][a[9].length-1]<1?Pe(a[21],0):a[9][a[9].length-1]>1e3?Ye(a[21]):a[21])+(a[3].includes(a[4])&&a[20]===a[9].length-1?"+ Asian":"")+"")&&t.p(s)},d(a){a&&h(e)}}}function nt(l){let e;return{c(){e=D("div"),this.h()},l(t){e=V(t,"DIV",{style:!0}),w(e).forEach(h),this.h()},h(){$(e,"background-color",Xe[l[20]])},m(t,s){S(t,e,s)},p:Ne,d(t){t&&h(e)}}}function it(l){let e,t=l[16].replace("_","-")+"",s;return{c(){e=D("p"),s=H(t),this.h()},l(n){e=V(n,"P",{class:!0});var a=w(e);s=R(a,t),a.forEach(h),this.h()},h(){v(e,"class","svelte-660ibp")},m(n,a){S(n,e,a),_(e,s)},p(n,a){a&256&&t!==(t=n[16].replace("_","-")+"")&&ae(s,t)},d(n){n&&h(e)}}}function at(l){let e;return{c(){e=D("div"),this.h()},l(t){e=V(t,"DIV",{style:!0}),w(e).forEach(h),this.h()},h(){$(e,"background-color",l[2][l[10]]+l[13])},m(t,s){S(t,e,s)},p(t,s){s&7&&$(e,"background-color",t[2][t[10]]+t[13])},d(t){t&&h(e)}}}function ot(l){let e,t,s=Te(l[10])+"",n,a=l[1],i=[];for(let o=0;o<a.length;o+=1)i[o]=at(lt(l,a,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=U(),t=D("p"),n=H(s),this.h()},l(o){for(let r=0;r<i.length;r+=1)i[r].l(o);e=F(o),t=V(o,"P",{class:!0});var f=w(t);n=R(f,s),f.forEach(h),this.h()},h(){v(t,"class","row-label svelte-660ibp")},m(o,f){for(let r=0;r<i.length;r+=1)i[r].m(o,f);S(o,e,f),S(o,t,f),_(t,n)},p(o,f){if(f&7){a=o[1];let r;for(r=0;r<a.length;r+=1){const c=lt(o,a,r);i[r]?i[r].p(c,f):(i[r]=at(c),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}f&1&&s!==(s=Te(o[10])+"")&&ae(n,s)},d(o){re(i,o),o&&h(e),o&&h(t)}}}function Bs(l){let e,t,s;function n(o,f){return(e==null||f&88)&&(e=!!(o[3].includes(o[4])&&o[6])),e?js:((t==null||f&160)&&(t=!!o[7].includes(o[5])),t?Ns:Ss)}let a=n(l,-1),i=a(l);return{c(){i.c(),s=X()},l(o){i.l(o),s=X()},m(o,f){i.m(o,f),S(o,s,f)},p(o,[f]){a===(a=n(o,f))&&i?i.p(o,f):(i.d(1),i=a(o),i&&(i.c(),i.m(s.parentNode,s)))},i:Ne,o:Ne,d(o){i.d(o),o&&h(s)}}}function zs(l,e,t){let{groups:s,levels:n,colors:a,dynamicVars:i,variable:o,metric:f,showPluralities:r,pluralityVars:c,periods:u,breaks:g}=e;return l.$$set=m=>{"groups"in m&&t(0,s=m.groups),"levels"in m&&t(1,n=m.levels),"colors"in m&&t(2,a=m.colors),"dynamicVars"in m&&t(3,i=m.dynamicVars),"variable"in m&&t(4,o=m.variable),"metric"in m&&t(5,f=m.metric),"showPluralities"in m&&t(6,r=m.showPluralities),"pluralityVars"in m&&t(7,c=m.pluralityVars),"periods"in m&&t(8,u=m.periods),"breaks"in m&&t(9,g=m.breaks)},[s,n,a,i,o,f,r,c,u,g]}class As extends Ge{constructor(e){super();Qe(this,e,zs,Bs,Je,{groups:0,levels:1,colors:2,dynamicVars:3,variable:4,metric:5,showPluralities:6,pluralityVars:7,periods:8,breaks:9})}}function rt(l,e,t){const s=l.slice();return s[20]=e[t].name,s[10]=e[t].stats,s[22]=t,s}function ft(l,e,t){const s=l.slice();return s[23]=e[t],s}function ct(l,e,t){const s=l.slice();return s[14]=e[t],s}function ut(l,e,t){const s=l.slice();return s[17]=e[t],s}function qs(l){let e,t=l[7],s=[];for(let n=0;n<t.length;n+=1)s[n]=_t(rt(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=X()},l(n){for(let a=0;a<s.length;a+=1)s[a].l(n);e=X()},m(n,a){for(let i=0;i<s.length;i+=1)s[i].m(n,a);S(n,e,a)},p(n,a){if(a&392){t=n[7];let i;for(i=0;i<t.length;i+=1){const o=rt(n,t,i);s[i]?s[i].p(o,a):(s[i]=_t(o),s[i].c(),s[i].m(e.parentNode,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(n){re(s,n),n&&h(e)}}}function Us(l){let e,t=l[0],s=[];for(let n=0;n<t.length;n+=1)s[n]=pt(ct(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=X()},l(n){for(let a=0;a<s.length;a+=1)s[a].l(n);e=X()},m(n,a){for(let i=0;i<s.length;i+=1)s[i].m(n,a);S(n,e,a)},p(n,a){if(a&3199){t=n[0];let i;for(i=0;i<t.length;i+=1){const o=ct(n,t,i);s[i]?s[i].p(o,a):(s[i]=pt(o),s[i].c(),s[i].m(e.parentNode,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(n){re(s,n),n&&h(e)}}}function ht(l){let e,t,s=Te(l[23])+"",n,a,i,o=Pe(l[10]["cvap19"+l[23]])+"",f,r,c,u=Pe(l[10]["pop20"+l[23]])+"",g,m;return{c(){e=D("tr"),t=D("td"),n=H(s),a=U(),i=D("td"),f=H(o),r=U(),c=D("td"),g=H(u),m=U(),this.h()},l(k){e=V(k,"TR",{class:!0});var M=w(e);t=V(M,"TD",{class:!0});var T=w(t);n=R(T,s),T.forEach(h),a=F(M),i=V(M,"TD",{class:!0});var p=w(i);f=R(p,o),p.forEach(h),r=F(M),c=V(M,"TD",{class:!0});var B=w(c);g=R(B,u),B.forEach(h),m=F(M),M.forEach(h),this.h()},h(){v(t,"class","svelte-1avkicx"),v(i,"class","svelte-1avkicx"),v(c,"class","svelte-1avkicx"),v(e,"class","svelte-1avkicx")},m(k,M){S(k,e,M),_(e,t),_(t,n),_(e,a),_(e,i),_(i,f),_(e,r),_(e,c),_(c,g),_(e,m)},p(k,M){M&8&&s!==(s=Te(k[23])+"")&&ae(n,s),M&136&&o!==(o=Pe(k[10]["cvap19"+k[23]])+"")&&ae(f,o),M&136&&u!==(u=Pe(k[10]["pop20"+k[23]])+"")&&ae(g,u)},d(k){k&&h(e)}}}function _t(l){let e,t,s,n=(l[20]||"COI"+(l[22]+1))+"",a,i,o,f,r,c,u,g,m,k,M,T,p,B,A,z,W,q,O=Ye(l[10].income)+"",I,N,y,j,C=Pe(l[10].hhlang)+"",L,d,E,Q,se=Pe(l[10].benefits)+"",fe,ce,G,Y;function de(){return l[13](l[22])}let me=l[3],x=[];for(let ee=0;ee<me.length;ee+=1)x[ee]=ht(ft(l,me,ee));return{c(){e=D("div"),t=D("p"),s=D("i"),a=H(n),i=U(),o=D("button"),f=H("\u{1F5D1}"),r=U(),c=D("table"),u=D("tr"),g=D("th"),m=U(),k=D("th"),M=H("CVAP"),T=U(),p=D("th"),B=H("Pop."),A=U();for(let ee=0;ee<x.length;ee+=1)x[ee].c();z=U(),W=D("p"),q=H("Income: "),I=H(O),N=U(),y=D("p"),j=H("Asian and LEP: "),L=H(C),d=U(),E=D("p"),Q=H("Pct. gov't benefits: "),fe=H(se),ce=U(),this.h()},l(ee){e=V(ee,"DIV",{});var ne=w(e);t=V(ne,"P",{class:!0});var le=w(t);s=V(le,"I",{});var De=w(s);a=R(De,n),De.forEach(h),i=F(le),o=V(le,"BUTTON",{});var qe=w(o);f=R(qe,"\u{1F5D1}"),qe.forEach(h),le.forEach(h),r=F(ne),c=V(ne,"TABLE",{class:!0});var Le=w(c);u=V(Le,"TR",{class:!0});var pe=w(u);g=V(pe,"TH",{class:!0}),w(g).forEach(h),m=F(pe),k=V(pe,"TH",{class:!0});var ge=w(k);M=R(ge,"CVAP"),ge.forEach(h),T=F(pe),p=V(pe,"TH",{class:!0});var Ve=w(p);B=R(Ve,"Pop."),Ve.forEach(h),pe.forEach(h),A=F(Le);for(let b=0;b<x.length;b+=1)x[b].l(Le);Le.forEach(h),z=F(ne),W=V(ne,"P",{class:!0});var Me=w(W);q=R(Me,"Income: "),I=R(Me,O),Me.forEach(h),N=F(ne),y=V(ne,"P",{class:!0});var Ue=w(y);j=R(Ue,"Asian and LEP: "),L=R(Ue,C),Ue.forEach(h),d=F(ne),E=V(ne,"P",{class:!0});var Fe=w(E);Q=R(Fe,"Pct. gov't benefits: "),fe=R(Fe,se),Fe.forEach(h),ce=F(ne),ne.forEach(h),this.h()},h(){v(t,"class","svelte-1avkicx"),v(g,"class","svelte-1avkicx"),v(k,"class","svelte-1avkicx"),v(p,"class","svelte-1avkicx"),v(u,"class","svelte-1avkicx"),v(c,"class","svelte-1avkicx"),v(W,"class","table-footer svelte-1avkicx"),v(y,"class","table-footer svelte-1avkicx"),v(E,"class","table-footer svelte-1avkicx")},m(ee,ne){S(ee,e,ne),_(e,t),_(t,s),_(s,a),_(t,i),_(t,o),_(o,f),_(e,r),_(e,c),_(c,u),_(u,g),_(u,m),_(u,k),_(k,M),_(u,T),_(u,p),_(p,B),_(c,A);for(let le=0;le<x.length;le+=1)x[le].m(c,null);_(e,z),_(e,W),_(W,q),_(W,I),_(e,N),_(e,y),_(y,j),_(y,L),_(e,d),_(e,E),_(E,Q),_(E,fe),_(e,ce),G||(Y=ie(o,"click",de),G=!0)},p(ee,ne){if(l=ee,ne&128&&n!==(n=(l[20]||"COI"+(l[22]+1))+"")&&ae(a,n),ne&136){me=l[3];let le;for(le=0;le<me.length;le+=1){const De=ft(l,me,le);x[le]?x[le].p(De,ne):(x[le]=ht(De),x[le].c(),x[le].m(c,null))}for(;le<x.length;le+=1)x[le].d(1);x.length=me.length}ne&128&&O!==(O=Ye(l[10].income)+"")&&ae(I,O),ne&128&&C!==(C=Pe(l[10].hhlang)+"")&&ae(L,C),ne&128&&se!==(se=Pe(l[10].benefits)+"")&&ae(fe,se)},d(ee){ee&&h(e),re(x,ee),G=!1,Y()}}}function gt(l){let e,t,s,n=Ml(l[14])+"",a,i,o,f,r,c,u,g,m,k,M,T,p,B;function A(){return l[12](l[14])}let z=l[3],W=[];for(let O=0;O<z.length;O+=1)W[O]=dt(ut(l,z,O));let q=l[4]&&l[2]in l[6]&&mt(l);return{c(){e=D("div"),t=D("p"),s=D("i"),a=H(n),i=U(),o=D("table"),f=D("tr"),r=D("th"),c=U(),u=D("th"),g=H("2020 "),m=H(l[11]),k=U();for(let O=0;O<W.length;O+=1)W[O].c();M=U(),q&&q.c(),T=U(),this.h()},l(O){e=V(O,"DIV",{class:!0});var I=w(e);t=V(I,"P",{class:!0});var N=w(t);s=V(N,"I",{});var y=w(s);a=R(y,n),y.forEach(h),N.forEach(h),i=F(I),o=V(I,"TABLE",{class:!0});var j=w(o);f=V(j,"TR",{class:!0});var C=w(f);r=V(C,"TH",{class:!0}),w(r).forEach(h),c=F(C),u=V(C,"TH",{class:!0});var L=w(u);g=R(L,"2020 "),m=R(L,l[11]),L.forEach(h),C.forEach(h),k=F(j);for(let d=0;d<W.length;d+=1)W[d].l(j);j.forEach(h),M=F(I),q&&q.l(I),T=F(I),I.forEach(h),this.h()},h(){v(t,"class","svelte-1avkicx"),v(r,"class","svelte-1avkicx"),v(u,"class","svelte-1avkicx"),v(f,"class","svelte-1avkicx"),v(o,"class","svelte-1avkicx"),v(e,"class","district-aggregate svelte-1avkicx")},m(O,I){S(O,e,I),_(e,t),_(t,s),_(s,a),_(e,i),_(e,o),_(o,f),_(f,r),_(f,c),_(f,u),_(u,g),_(u,m),_(o,k);for(let N=0;N<W.length;N+=1)W[N].m(o,null);_(e,M),q&&q.m(e,null),_(e,T),p||(B=ie(t,"click",A),p=!0)},p(O,I){if(l=O,I&1&&n!==(n=Ml(l[14])+"")&&ae(a,n),I&2048&&ae(m,l[11]),I&1065){z=l[3];let N;for(N=0;N<z.length;N+=1){const y=ut(l,z,N);W[N]?W[N].p(y,I):(W[N]=dt(y),W[N].c(),W[N].m(o,null))}for(;N<W.length;N+=1)W[N].d(1);W.length=z.length}l[4]&&l[2]in l[6]?q?q.p(l,I):(q=mt(l),q.c(),q.m(e,T)):q&&(q.d(1),q=null)},d(O){O&&h(e),re(W,O),q&&q.d(),p=!1,B()}}}function dt(l){let e,t,s=Te(l[17])+"",n,a,i,o=Pe(l[10][l[14]][l[5]+(l[5]==="pop"?"20":"19")+l[17]])+"",f,r;return{c(){e=D("tr"),t=D("td"),n=H(s),a=U(),i=D("td"),f=H(o),r=U(),this.h()},l(c){e=V(c,"TR",{class:!0});var u=w(e);t=V(u,"TD",{class:!0});var g=w(t);n=R(g,s),g.forEach(h),a=F(u),i=V(u,"TD",{class:!0});var m=w(i);f=R(m,o),m.forEach(h),r=F(u),u.forEach(h),this.h()},h(){v(t,"class","svelte-1avkicx"),v(i,"class","svelte-1avkicx"),v(e,"class","svelte-1avkicx")},m(c,u){S(c,e,u),_(e,t),_(t,n),_(e,a),_(e,i),_(i,f),_(e,r)},p(c,u){u&8&&s!==(s=Te(c[17])+"")&&ae(n,s),u&1065&&o!==(o=Pe(c[10][c[14]][c[5]+(c[5]==="pop"?"20":"19")+c[17]])+"")&&ae(f,o)},d(c){c&&h(e)}}}function mt(l){let e,t,s=Ye(l[10][l[14]].income)+(l[4]&&l[2]in l[6]?"; "+yl(l[10][l[14]].pop20_total-l[6][l[2]]):"")+"",n;return{c(){e=D("p"),t=H("Income: "),n=H(s),this.h()},l(a){e=V(a,"P",{class:!0});var i=w(e);t=R(i,"Income: "),n=R(i,s),i.forEach(h),this.h()},h(){v(e,"class","table-footer svelte-1avkicx")},m(a,i){S(a,e,i),_(e,t),_(e,n)},p(a,i){i&1109&&s!==(s=Ye(a[10][a[14]].income)+(a[4]&&a[2]in a[6]?"; "+yl(a[10][a[14]].pop20_total-a[6][a[2]]):"")+"")&&ae(n,s)},d(a){a&&h(e)}}}function pt(l){let e=l[14].split(",")[0].split("_")[0]===l[2].split("_")[0],t,s=e&&gt(l);return{c(){s&&s.c(),t=X()},l(n){s&&s.l(n),t=X()},m(n,a){s&&s.m(n,a),S(n,t,a)},p(n,a){a&5&&(e=n[14].split(",")[0].split("_")[0]===n[2].split("_")[0]),e?s?s.p(n,a):(s=gt(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(n){s&&s.d(n),n&&h(t)}}}function Fs(l){let e;function t(a,i){if(a[9]==="districts")return Us;if(a[9]==="community")return qs}let s=t(l),n=s&&s(l);return{c(){n&&n.c(),e=X()},l(a){n&&n.l(a),e=X()},m(a,i){n&&n.m(a,i),S(a,e,i)},p(a,[i]){s===(s=t(a))&&n?n.p(a,i):(n&&n.d(1),n=s&&s(a),n&&(n.c(),n.m(e.parentNode,e)))},i:Ne,o:Ne,d(a){n&&n.d(a),a&&h(e)}}}function Hs(l,e,t){let s,{aggregates:n,handleLabelClick:a,plan:i,stats:o,groups:f,changingLines:r,variable:c,idealValues:u}=e,{drawings:g=[]}=e,{delDrawing:m=void 0}=e,{type:k="districts"}=e;const M=p=>a(p),T=p=>m(p);return l.$$set=p=>{"aggregates"in p&&t(0,n=p.aggregates),"handleLabelClick"in p&&t(1,a=p.handleLabelClick),"plan"in p&&t(2,i=p.plan),"stats"in p&&t(10,o=p.stats),"groups"in p&&t(3,f=p.groups),"changingLines"in p&&t(4,r=p.changingLines),"variable"in p&&t(5,c=p.variable),"idealValues"in p&&t(6,u=p.idealValues),"drawings"in p&&t(7,g=p.drawings),"delDrawing"in p&&t(8,m=p.delDrawing),"type"in p&&t(9,k=p.type)},l.$$.update=()=>{l.$$.dirty&32&&t(11,s=c==="pop"?"Pop.":c.toUpperCase())},[n,a,i,f,r,c,u,g,m,k,o,s,M,T]}class vt extends Ge{constructor(e){super();Qe(this,e,Hs,Fs,Je,{aggregates:0,handleLabelClick:1,plan:2,stats:10,groups:3,changingLines:4,variable:5,idealValues:6,drawings:7,delDrawing:8,type:9})}}const Rs=l=>({}),bt=l=>({}),Ws=l=>({}),kt=l=>({});function wt(l){let e,t,s,n;const a=l[4].body,i=wl(a,l,l[3],bt);return{c(){e=D("div"),i&&i.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var f=w(e);i&&i.l(f),f.forEach(h),this.h()},h(){v(e,"class","svelte-a3zm9u")},m(o,f){S(o,e,f),i&&i.m(e,null),n=!0},p(o,f){i&&i.p&&(!n||f&8)&&El(i,a,o,o[3],n?Dl(a,o[3],f,Rs):Pl(o[3]),bt)},i(o){n||(K(i,o),ke(()=>{s&&s.end(1),t=Oe(e,ll,{}),t.start()}),n=!0)},o(o){Z(i,o),t&&t.invalidate(),s=Se(e,ll,{}),n=!1},d(o){o&&h(e),i&&i.d(o),o&&s&&s.end()}}}function Gs(l){let e,t,s,n=(l[2]==="plans"?"Districts":l[2]==="views"?"Views":Te(l[2]))+"",a,i,o=(l[0].includes(l[2])?"\u2191":"\u2193")+"",f,r,c,u=l[0].includes(l[2]),g,m,k;const M=l[4].title,T=wl(M,l,l[3],kt);let p=u&&wt(l);return{c(){e=D("div"),t=D("h3"),s=D("button"),a=H(n),i=U(),f=H(o),r=U(),T&&T.c(),c=U(),p&&p.c(),this.h()},l(B){e=V(B,"DIV",{class:!0});var A=w(e);t=V(A,"H3",{class:!0});var z=w(t);s=V(z,"BUTTON",{});var W=w(s);a=R(W,n),i=F(W),f=R(W,o),W.forEach(h),r=F(z),T&&T.l(z),z.forEach(h),c=F(A),p&&p.l(A),A.forEach(h),this.h()},h(){v(t,"class","svelte-a3zm9u"),v(e,"class","panel svelte-a3zm9u")},m(B,A){S(B,e,A),_(e,t),_(t,s),_(s,a),_(s,i),_(s,f),_(t,r),T&&T.m(t,null),_(e,c),p&&p.m(e,null),g=!0,m||(k=ie(s,"click",l[5]),m=!0)},p(B,[A]){(!g||A&4)&&n!==(n=(B[2]==="plans"?"Districts":B[2]==="views"?"Views":Te(B[2]))+"")&&ae(a,n),(!g||A&5)&&o!==(o=(B[0].includes(B[2])?"\u2191":"\u2193")+"")&&ae(f,o),T&&T.p&&(!g||A&8)&&El(T,M,B,B[3],g?Dl(M,B[3],A,Ws):Pl(B[3]),kt),A&5&&(u=B[0].includes(B[2])),u?p?(p.p(B,A),A&5&&K(p,1)):(p=wt(B),p.c(),K(p,1),p.m(e,null)):p&&(Ie(),Z(p,1,1,()=>{p=null}),Ce())},i(B){g||(K(T,B),K(p),g=!0)},o(B){Z(T,B),Z(p),g=!1},d(B){B&&h(e),T&&T.d(B),p&&p.d(),m=!1,k()}}}function Qs(l,e,t){let{$$slots:s={},$$scope:n}=e,{panels:a,togglePanel:i,panelName:o}=e;const f=()=>i(o);return l.$$set=r=>{"panels"in r&&t(0,a=r.panels),"togglePanel"in r&&t(1,i=r.togglePanel),"panelName"in r&&t(2,o=r.panelName),"$$scope"in r&&t(3,n=r.$$scope)},[a,i,o,n,s,f]}class gl extends Ge{constructor(e){super();Qe(this,e,Qs,Gs,Je,{panels:0,togglePanel:1,panelName:2})}}function Et(l){let e,t,s,n,a,i,o,f,r,c,u;return{c(){e=D("div"),t=D("a"),s=H("Click here"),n=H(` to see a video tutorial of this website.
    `),a=D("button"),i=H("Close message."),this.h()},l(g){e=V(g,"DIV",{class:!0});var m=w(e);t=V(m,"A",{href:!0,target:!0});var k=w(t);s=R(k,"Click here"),k.forEach(h),n=R(m,` to see a video tutorial of this website.
    `),a=V(m,"BUTTON",{class:!0});var M=w(a);i=R(M,"Close message."),M.forEach(h),m.forEach(h),this.h()},h(){v(t,"href","https://youtu.be/dU5a4PRSF14"),v(t,"target","_blank"),v(a,"class","svelte-a8zkqf"),v(e,"class","modal svelte-a8zkqf")},m(g,m){S(g,e,m),_(e,t),_(t,s),_(e,n),_(e,a),_(a,i),r=!0,c||(u=ie(a,"click",function(){fl(l[1])&&l[1].apply(this,arguments)}),c=!0)},p(g,m){l=g},i(g){r||(ke(()=>{f&&f.end(1),o=Oe(e,we,{}),o.start()}),r=!0)},o(g){o&&o.invalidate(),f=Se(e,we,{}),r=!1},d(g){g&&h(e),g&&f&&f.end(),c=!1,u()}}}function Js(l){let e,t,s=l[0]&&Et(l);return{c(){s&&s.c(),e=X()},l(n){s&&s.l(n),e=X()},m(n,a){s&&s.m(n,a),S(n,e,a),t=!0},p(n,[a]){n[0]?s?(s.p(n,a),a&1&&K(s,1)):(s=Et(n),s.c(),K(s,1),s.m(e.parentNode,e)):s&&(Ie(),Z(s,1,1,()=>{s=null}),Ce())},i(n){t||(K(s),t=!0)},o(n){Z(s),t=!1},d(n){s&&s.d(n),n&&h(e)}}}function Ks(l,e,t){let{showModal:s,closeModal:n}=e;return l.$$set=a=>{"showModal"in a&&t(0,s=a.showModal),"closeModal"in a&&t(1,n=a.closeModal)},[s,n]}class Xs extends Ge{constructor(e){super();Qe(this,e,Ks,Js,Je,{showModal:0,closeModal:1})}}function Pt(l,e,t){const s=l.slice();return s[70]=e[t],s}function Dt(l,e,t){const s=l.slice();return s[73]=e[t],s}function Vt(l,e,t){const s=l.slice();return s[76]=e[t],s}function Mt(l,e,t){const s=l.slice();return s[79]=e[t],s}function yt(l,e,t){const s=l.slice();return s[70]=e[t],s}function Tt(l,e,t){const s=l.slice();return s[70]=e[t],s}function It(l){let e,t=(sl[l[70]]||l[70])+"",s,n;return{c(){e=D("option"),s=H(t),this.h()},l(a){e=V(a,"OPTION",{});var i=w(e);s=R(i,t),i.forEach(h),this.h()},h(){e.__value=n=l[70],e.value=e.__value},m(a,i){S(a,e,i),_(e,s)},p(a,i){i[0]&4&&t!==(t=(sl[a[70]]||a[70])+"")&&ae(s,t),i[0]&4&&n!==(n=a[70])&&(e.__value=n,e.value=e.__value)},d(a){a&&h(e)}}}function Ct(l){let e,t=(sl[l[70]]||l[70])+"",s,n;return{c(){e=D("option"),s=H(t),this.h()},l(a){e=V(a,"OPTION",{});var i=w(e);s=R(i,t),i.forEach(h),this.h()},h(){e.__value=n=l[70],e.value=e.__value},m(a,i){S(a,e,i),_(e,s)},p(a,i){i[0]&8&&t!==(t=(sl[a[70]]||a[70])+"")&&ae(s,t),i[0]&8&&n!==(n=a[70])&&(e.__value=n,e.value=e.__value)},d(a){a&&h(e)}}}function Lt(l){let e,t=l[2].includes(l[17]),s,n=l[2].includes(l[17]),a,i,o,f=t&&Ot(l),r=n&&Nt(l);return{c(){e=D("div"),f&&f.c(),s=U(),r&&r.c()},l(c){e=V(c,"DIV",{});var u=w(e);f&&f.l(u),s=F(u),r&&r.l(u),u.forEach(h)},m(c,u){S(c,e,u),f&&f.m(e,null),_(e,s),r&&r.m(e,null),o=!0},p(c,u){u[0]&131076&&(t=c[2].includes(c[17])),t?f?f.p(c,u):(f=Ot(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null),u[0]&131076&&(n=c[2].includes(c[17])),n?r?r.p(c,u):(r=Nt(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){o||(ke(()=>{i&&i.end(1),a=Oe(e,ll,{}),a.start()}),o=!0)},o(c){a&&a.invalidate(),i=Se(e,ll,{}),o=!1},d(c){c&&h(e),f&&f.d(),r&&r.d(),c&&i&&i.end()}}}function Ot(l){let e,t=["past","present"],s=[];for(let n=0;n<2;n+=1)s[n]=St(Mt(l,t,n));return{c(){for(let n=0;n<2;n+=1)s[n].c();e=X()},l(n){for(let a=0;a<2;a+=1)s[a].l(n);e=X()},m(n,a){for(let i=0;i<2;i+=1)s[i].m(n,a);S(n,e,a)},p(n,a){if(a[0]&65536){t=["past","present"];let i;for(i=0;i<2;i+=1){const o=Mt(n,t,i);s[i]?s[i].p(o,a):(s[i]=St(o),s[i].c(),s[i].m(e.parentNode,e))}for(;i<2;i+=1)s[i].d(1)}},d(n){re(s,n),n&&h(e)}}}function St(l){let e,t,s,n=Te(l[79])+"",a,i,o,f;return{c(){e=D("label"),t=D("input"),s=U(),a=H(n),i=U(),this.h()},l(r){e=V(r,"LABEL",{});var c=w(e);t=V(c,"INPUT",{type:!0,name:!0}),s=F(c),a=R(c,n),i=F(c),c.forEach(h),this.h()},h(){v(t,"type","radio"),v(t,"name","period"),t.__value=l[79],t.value=t.__value,l[57][0].push(t)},m(r,c){S(r,e,c),_(e,t),t.checked=t.__value===l[16],_(e,s),_(e,a),_(e,i),o||(f=ie(t,"change",l[56]),o=!0)},p(r,c){c[0]&65536&&(t.checked=t.__value===r[16])},d(r){r&&h(e),l[57][0].splice(l[57][0].indexOf(t),1),o=!1,f()}}}function Nt(l){let e,t,s=(l[18]?"pct. asian":"all race and ethniticies")+"",n,a,i;return{c(){e=D("button"),t=H("Show "),n=H(s),this.h()},l(o){e=V(o,"BUTTON",{class:!0});var f=w(e);t=R(f,"Show "),n=R(f,s),f.forEach(h),this.h()},h(){v(e,"class","plurality-toggle svelte-1fv06xq")},m(o,f){S(o,e,f),_(e,t),_(e,n),a||(i=ie(e,"click",l[58]),a=!0)},p(o,f){f[0]&262144&&s!==(s=(o[18]?"pct. asian":"all race and ethniticies")+"")&&ae(n,s)},d(o){o&&h(e),a=!1,i()}}}function Ys(l){let e,t=Is(l[73]+l[76])+"",s,n,a;return{c(){e=D("option"),s=H(t),n=U(),this.h()},l(i){e=V(i,"OPTION",{});var o=w(e);s=R(o,t),n=F(o),o.forEach(h),this.h()},h(){e.__value=a=l[73]+l[76],e.value=e.__value},m(i,o){S(i,e,o),_(e,s),_(e,n)},p:Ne,d(i){i&&h(e)}}}function jt(l){let e,t=l[73]+l[76]!=="congress_unity"&&Ys(l);return{c(){t&&t.c(),e=X()},l(s){t&&t.l(s),e=X()},m(s,n){t&&t.m(s,n),S(s,e,n)},p(s,n){s[73]+s[76]!=="congress_unity"&&t.p(s,n)},d(s){t&&t.d(s),s&&h(e)}}}function Bt(l){let e,t,s=["","_letters","_names","_unity"],n=[];for(let a=0;a<4;a+=1)n[a]=jt(Vt(l,s,a));return{c(){e=D("optgroup");for(let a=0;a<4;a+=1)n[a].c();this.h()},l(a){e=V(a,"OPTGROUP",{label:!0});var i=w(e);for(let o=0;o<4;o+=1)n[o].l(i);i.forEach(h),this.h()},h(){v(e,"label",t=Te(l[73]))},m(a,i){S(a,e,i);for(let o=0;o<4;o+=1)n[o].m(e,null)},p(a,i){if(i&0){s=["","_letters","_names","_unity"];let o;for(o=0;o<4;o+=1){const f=Vt(a,s,o);n[o]?n[o].p(f,i):(n[o]=jt(f),n[o].c(),n[o].m(e,null))}for(;o<4;o+=1)n[o].d(1)}},d(a){a&&h(e),re(n,a)}}}function Zs(l){let e,t,s,n,a,i,o,f,r=["assembly","senate","congress"],c=[];for(let u=0;u<3;u+=1)c[u]=Bt(Dt(l,r,u));return a=new vt({props:{aggregates:l[9],handleLabelClick:l[43],plan:l[11],stats:l[25],groups:Ze,changingLines:l[34],idealValues:Ds,variable:l[17]}}),{c(){e=D("div"),t=D("div"),s=D("select");for(let u=0;u<3;u+=1)c[u].c();n=U(),je(a.$$.fragment),this.h()},l(u){e=V(u,"DIV",{slot:!0});var g=w(e);t=V(g,"DIV",{class:!0});var m=w(t);s=V(m,"SELECT",{class:!0});var k=w(s);for(let M=0;M<3;M+=1)c[M].l(k);k.forEach(h),m.forEach(h),n=F(g),Be(a.$$.fragment,g),g.forEach(h),this.h()},h(){v(s,"class","svelte-1fv06xq"),l[11]===void 0&&ke(()=>l[59].call(s)),v(t,"class","plan-selector svelte-1fv06xq"),v(e,"slot","body")},m(u,g){S(u,e,g),_(e,t),_(t,s);for(let m=0;m<3;m+=1)c[m].m(s,null);Ke(s,l[11]),_(e,n),ze(a,e,null),i=!0,o||(f=ie(s,"change",l[59]),o=!0)},p(u,g){if(g&0){r=["assembly","senate","congress"];let k;for(k=0;k<3;k+=1){const M=Dt(u,r,k);c[k]?c[k].p(M,g):(c[k]=Bt(M),c[k].c(),c[k].m(s,null))}for(;k<3;k+=1)c[k].d(1)}g[0]&2048&&Ke(s,u[11]);const m={};g[0]&512&&(m.aggregates=u[9]),g[0]&2048&&(m.plan=u[11]),g[0]&33554432&&(m.stats=u[25]),g[0]&131072&&(m.variable=u[17]),a.$set(m)},i(u){i||(K(a.$$.fragment,u),i=!0)},o(u){Z(a.$$.fragment,u),i=!1},d(u){u&&h(e),re(c,u),Ae(a),o=!1,f()}}}function zt(l){let e,t=l[70]+"",s,n;return{c(){e=D("option"),s=H(t),this.h()},l(a){e=V(a,"OPTION",{});var i=w(e);s=R(i,t),i.forEach(h),this.h()},h(){e.__value=n=l[70],e.value=e.__value},m(a,i){S(a,e,i),_(e,s)},p:Ne,d(a){a&&h(e)}}}function $s(l){let e,t,s,n,a;return{c(){e=D("label"),t=D("input"),s=H(`
					Inspect streets`),this.h()},l(i){e=V(i,"LABEL",{class:!0});var o=w(e);t=V(o,"INPUT",{type:!0}),s=R(o,`
					Inspect streets`),o.forEach(h),this.h()},h(){v(t,"type","checkbox"),v(e,"class","svelte-1fv06xq")},m(i,o){S(i,e,o),_(e,t),t.checked=l[6],_(e,s),n||(a=ie(t,"change",l[61]),n=!0)},p(i,o){o[0]&64&&(t.checked=i[6])},d(i){i&&h(e),n=!1,a()}}}function xs(l){let e,t,s,n,a,i=Object.keys(al),o=[];for(let r=0;r<i.length;r+=1)o[r]=zt(Pt(l,i,r));let f=l[33]&&$s(l);return{c(){e=D("div"),t=D("select");for(let r=0;r<o.length;r+=1)o[r].c();s=U(),f&&f.c(),this.h()},l(r){e=V(r,"DIV",{slot:!0,class:!0});var c=w(e);t=V(c,"SELECT",{class:!0});var u=w(t);for(let g=0;g<o.length;g+=1)o[g].l(u);u.forEach(h),s=F(c),f&&f.l(c),c.forEach(h),this.h()},h(){v(t,"class","svelte-1fv06xq"),l[15]===void 0&&ke(()=>l[60].call(t)),v(e,"slot","body"),v(e,"class","views svelte-1fv06xq")},m(r,c){S(r,e,c),_(e,t);for(let u=0;u<o.length;u+=1)o[u].m(t,null);Ke(t,l[15]),_(e,s),f&&f.m(e,null),n||(a=ie(t,"change",l[60]),n=!0)},p(r,c){if(c&0){i=Object.keys(al);let u;for(u=0;u<i.length;u+=1){const g=Pt(r,i,u);o[u]?o[u].p(g,c):(o[u]=zt(g),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}c[0]&32768&&Ke(t,r[15]),r[33]&&f.p(r,c)},d(r){r&&h(e),re(o,r),f&&f.d(),n=!1,a()}}}function en(l){let e,t;return e=new gl({props:{panelName:"communities",panels:l[10],togglePanel:l[42],$$slots:{body:[tn],title:[ln]},$$scope:{ctx:l}}}),{c(){je(e.$$.fragment)},l(s){Be(e.$$.fragment,s)},m(s,n){ze(e,s,n),t=!0},p(s,n){const a={};n[0]&1024&&(a.panels=s[10]),n[0]&50331904|n[2]&16777216&&(a.$$scope={dirty:n,ctx:s}),e.$set(a)},i(s){t||(K(e.$$.fragment,s),t=!0)},o(s){Z(e.$$.fragment,s),t=!1},d(s){Ae(e,s)}}}function ln(l){let e,t,s,n;return{c(){e=D("button"),t=H("+"),this.h()},l(a){e=V(a,"BUTTON",{slot:!0});var i=w(e);t=R(i,"+"),i.forEach(h),this.h()},h(){v(e,"slot","title")},m(a,i){S(a,e,i),_(e,t),s||(n=ie(e,"click",l[62]),s=!0)},p:Ne,d(a){a&&h(e),s=!1,n()}}}function tn(l){let e,t,s,n,a,i,o,f,r;return t=new vt({props:{type:"community",drawings:l[8],delDrawing:l[40],groups:Ze,stats:l[25]}}),{c(){e=D("div"),je(t.$$.fragment),s=U(),n=D("button"),a=D("b"),i=H("[SAVE]"),this.h()},l(c){e=V(c,"DIV",{slot:!0,class:!0});var u=w(e);Be(t.$$.fragment,u),s=F(u),n=V(u,"BUTTON",{style:!0});var g=w(n);a=V(g,"B",{});var m=w(a);i=R(m,"[SAVE]"),m.forEach(h),g.forEach(h),u.forEach(h),this.h()},h(){$(n,"font-size","13px"),v(e,"slot","body"),v(e,"class","community svelte-1fv06xq")},m(c,u){S(c,e,u),ze(t,e,null),_(e,s),_(e,n),_(n,a),_(a,i),o=!0,f||(r=ie(n,"click",l[41]),f=!0)},p(c,u){const g={};u[0]&256&&(g.drawings=c[8]),u[0]&33554432&&(g.stats=c[25]),t.$set(g)},i(c){o||(K(t.$$.fragment,c),o=!0)},o(c){Z(t.$$.fragment,c),o=!1},d(c){c&&h(e),Ae(t),f=!1,r()}}}function sn(l){let e,t,s,n,a,i;return{c(){e=D("div"),t=D("p"),s=H("Questions, suggestions, concerns --> "),n=D("a"),a=H("jason.kao@columbia.edu"),i=H("."),this.h()},l(o){e=V(o,"DIV",{class:!0});var f=w(e);t=V(f,"P",{});var r=w(t);s=R(r,"Questions, suggestions, concerns --> "),n=V(r,"A",{href:!0});var c=w(n);a=R(c,"jason.kao@columbia.edu"),c.forEach(h),i=R(r,"."),r.forEach(h),f.forEach(h),this.h()},h(){v(n,"href","mailto:jason.kao@console.edu"),v(e,"class","footer svelte-1fv06xq")},m(o,f){S(o,e,f),_(e,t),_(t,s),_(t,n),_(n,a),_(t,i)},d(o){o&&h(e)}}}function nn(l){let e,t,s,n,a,i,o,f,r,c,u,g,m,k,M,T,p,B,A,z,W,q;e=new Xs({props:{showModal:l[21],closeModal:l[37]}});let O=l[2],I=[];for(let d=0;d<O.length;d+=1)I[d]=It(Tt(l,O,d));let N=l[3],y=[];for(let d=0;d<N.length;d+=1)y[d]=Ct(yt(l,N,d));let j=l[22]&&Lt(l);c=new As({props:{groups:Ze,levels:hl,colors:_l,dynamicVars:l[2],variable:l[17],metric:l[20],showPluralities:l[18],pluralityVars:l[5],periods:nl,breaks:l[32]}}),g=new gl({props:{panelName:"plans",panels:l[10],togglePanel:l[42],$$slots:{body:[Zs]},$$scope:{ctx:l}}}),k=new gl({props:{panelName:"views",panels:l[10],togglePanel:l[42],$$slots:{body:[xs]},$$scope:{ctx:l}}});let C=en(l);p=new Os({props:{viewBox:l[19],labelSize:l[31],draggedBgs:l[7],data:l[1],path:il,color:l[39],changingLines:l[34],neighbor:l[38],showPluralities:l[18],metric:l[20],period:l[16],tractVars:l[4],panels:l[10],drawings:l[8],plan:l[11],points:l[27],tractMesh:l[36],bgMesh:l[26],mesh:l[35],aggregates:l[9],obj:l[0],handleLabelClick:l[43],congressPlans:l[12],plans:l[28],startDrag:l[44],endDrag:l[45],handleMouseMove:l[46],viewCutoff:l[30],showOnlyFocusDistricts:l[23],showStreets:l[6],streets:l[13],presentationMode:At}});let L=sn();return{c(){je(e.$$.fragment),t=U(),s=D("div"),n=D("div"),a=D("select"),i=D("optgroup");for(let d=0;d<I.length;d+=1)I[d].c();o=D("optgroup");for(let d=0;d<y.length;d+=1)y[d].c();f=U(),j&&j.c(),r=U(),je(c.$$.fragment),u=U(),je(g.$$.fragment),m=U(),je(k.$$.fragment),M=U(),C&&C.c(),T=U(),je(p.$$.fragment),B=U(),L&&L.c(),this.h()},l(d){Be(e.$$.fragment,d),t=F(d),s=V(d,"DIV",{class:!0,style:!0});var E=w(s);n=V(E,"DIV",{class:!0});var Q=w(n);a=V(Q,"SELECT",{style:!0,class:!0});var se=w(a);i=V(se,"OPTGROUP",{label:!0});var fe=w(i);for(let G=0;G<I.length;G+=1)I[G].l(fe);fe.forEach(h),o=V(se,"OPTGROUP",{label:!0});var ce=w(o);for(let G=0;G<y.length;G+=1)y[G].l(ce);ce.forEach(h),se.forEach(h),f=F(Q),j&&j.l(Q),r=F(Q),Be(c.$$.fragment,Q),u=F(Q),Be(g.$$.fragment,Q),m=F(Q),Be(k.$$.fragment,Q),M=F(Q),C&&C.l(Q),Q.forEach(h),T=F(E),Be(p.$$.fragment,E),B=F(E),L&&L.l(E),E.forEach(h),this.h()},h(){v(i,"label","Redistricting data"),v(o,"label","American Community Survey data"),$(a,"width",l[3].includes(l[17])?"auto":"calc(var(--control-width) + 45px)"),v(a,"class","svelte-1fv06xq"),l[17]===void 0&&ke(()=>l[55].call(a)),v(n,"class","controls svelte-1fv06xq"),v(s,"class","container svelte-1fv06xq"),$(s,"cursor",l[24]?"crosshair":"auto"),$(s,"--container-font",l[29]+"px"),$(s,"--control-width",270+(l[29]-16)*10+"px"),ke(()=>l[63].call(s))},m(d,E){ze(e,d,E),S(d,t,E),S(d,s,E),_(s,n),_(n,a),_(a,i);for(let Q=0;Q<I.length;Q+=1)I[Q].m(i,null);_(a,o);for(let Q=0;Q<y.length;Q+=1)y[Q].m(o,null);Ke(a,l[17]),_(n,f),j&&j.m(n,null),_(n,r),ze(c,n,null),_(n,u),ze(g,n,null),_(n,m),ze(k,n,null),_(n,M),C&&C.m(n,null),_(s,T),ze(p,s,null),_(s,B),L&&L.m(s,null),A=ds(s,l[63].bind(s)),z=!0,W||(q=[ie(window,"keydown",l[47]),ie(a,"change",l[55])],W=!0)},p(d,E){const Q={};if(E[0]&2097152&&(Q.showModal=d[21]),e.$set(Q),E[0]&4){O=d[2];let Y;for(Y=0;Y<O.length;Y+=1){const de=Tt(d,O,Y);I[Y]?I[Y].p(de,E):(I[Y]=It(de),I[Y].c(),I[Y].m(i,null))}for(;Y<I.length;Y+=1)I[Y].d(1);I.length=O.length}if(E[0]&8){N=d[3];let Y;for(Y=0;Y<N.length;Y+=1){const de=yt(d,N,Y);y[Y]?y[Y].p(de,E):(y[Y]=Ct(de),y[Y].c(),y[Y].m(o,null))}for(;Y<y.length;Y+=1)y[Y].d(1);y.length=N.length}(!z||E[0]&131080)&&$(a,"width",d[3].includes(d[17])?"auto":"calc(var(--control-width) + 45px)"),E[0]&131084&&Ke(a,d[17]),d[22]?j?(j.p(d,E),E[0]&4194304&&K(j,1)):(j=Lt(d),j.c(),K(j,1),j.m(n,r)):j&&(Ie(),Z(j,1,1,()=>{j=null}),Ce());const se={};E[0]&4&&(se.dynamicVars=d[2]),E[0]&131072&&(se.variable=d[17]),E[0]&1048576&&(se.metric=d[20]),E[0]&262144&&(se.showPluralities=d[18]),E[0]&32&&(se.pluralityVars=d[5]),E[1]&2&&(se.breaks=d[32]),c.$set(se);const fe={};E[0]&1024&&(fe.panels=d[10]),E[0]&33688064|E[2]&16777216&&(fe.$$scope={dirty:E,ctx:d}),g.$set(fe);const ce={};E[0]&1024&&(ce.panels=d[10]),E[0]&32832|E[2]&16777216&&(ce.$$scope={dirty:E,ctx:d}),k.$set(ce),C.p(d,E);const G={};E[0]&524288&&(G.viewBox=d[19]),E[1]&1&&(G.labelSize=d[31]),E[0]&128&&(G.draggedBgs=d[7]),E[0]&2&&(G.data=d[1]),E[0]&262144&&(G.showPluralities=d[18]),E[0]&1048576&&(G.metric=d[20]),E[0]&65536&&(G.period=d[16]),E[0]&16&&(G.tractVars=d[4]),E[0]&1024&&(G.panels=d[10]),E[0]&256&&(G.drawings=d[8]),E[0]&2048&&(G.plan=d[11]),E[0]&134217728&&(G.points=d[27]),E[0]&67108864&&(G.bgMesh=d[26]),E[0]&512&&(G.aggregates=d[9]),E[0]&1&&(G.obj=d[0]),E[0]&4096&&(G.congressPlans=d[12]),E[0]&268435456&&(G.plans=d[28]),E[0]&1073741824&&(G.viewCutoff=d[30]),E[0]&8388608&&(G.showOnlyFocusDistricts=d[23]),E[0]&64&&(G.showStreets=d[6]),E[0]&8192&&(G.streets=d[13]),p.$set(G),(!z||E[0]&16777216)&&$(s,"cursor",d[24]?"crosshair":"auto"),(!z||E[0]&536870912)&&$(s,"--container-font",d[29]+"px"),(!z||E[0]&536870912)&&$(s,"--control-width",270+(d[29]-16)*10+"px")},i(d){z||(K(e.$$.fragment,d),K(j),K(c.$$.fragment,d),K(g.$$.fragment,d),K(k.$$.fragment,d),K(C),K(p.$$.fragment,d),z=!0)},o(d){Z(e.$$.fragment,d),Z(j),Z(c.$$.fragment,d),Z(g.$$.fragment,d),Z(k.$$.fragment,d),Z(C),Z(p.$$.fragment,d),z=!1},d(d){Ae(e,d),d&&h(t),d&&h(s),re(I,d),re(y,d),j&&j.d(),Ae(c),Ae(g),Ae(k),C&&C.d(),Ae(p),L&&L.d(),A(),W=!1,el(q)}}}async function un({fetch:l}){const e=await(await l(`${ul}/output_census.topojson`)).json(),t=Es(e.objects.census),s=_s(e,t).features.map(Tl),n=["pop","cvap"],a=[...s.reduce((o,f)=>{const r=Object.keys(f.properties).filter(c=>[...n,"GEOID","senate","assembly","congress"].every(u=>!c.includes(u))&&c===c.toLowerCase()).map(c=>c.split("_")[0]);return new Set([...o,...r])},[])],i=s.reduce((o,f,r)=>(o[f.properties.GEOID]=r,o),{});return{props:{topoData:e,obj:t,data:s,neighbors:gs(t.geometries),dynamicVars:n,staticVars:a,idToIndex:i,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}let At=!1;function an(l,e,t){let s,n,a,i,o,{topoData:f,obj:r,neighbors:c,data:u,dynamicVars:g,staticVars:m,tractVars:k,pluralityVars:M,idToIndex:T}=e,p,B,A,z=!0,W=!1,q,O,I,N,y=[],j=[],C=[],L={},d=["plans","views"],E="assembly",Q,se,fe,ce,G,Y=18,de,me=870,x=Object.keys(al)[0];const ee=P=>Re(f,r,P),ne=il(ee((P,te)=>Ee(P).substring(0,11)!==Ee(te).substring(0,11))),le=()=>t(21,B=!1);ms(async()=>{t(26,Q=il(Tl(ee((te,J)=>Ee(te)!==Ee(J)))));const P=await Promise.all([Vs(),Ms()]);t(28,G=P[0]),t(27,fe=P[1]),t(30,me=u.length),t(21,B=!At)});let De;const qe=P=>u[P].properties[E];function Le(P){const te=qe(P),J=new Set(c[P].map(qe).filter(oe=>oe!==te));if(J.size===1)t(0,r.geometries[P].properties[E]=De=J.values().next().value,r);else if(J.has(De))t(0,r.geometries[P].properties[E]=De,r);else return;t(0,r)}let pe="present",ge="pop";const Ve={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let Me=!1;function Ue({properties:P}){if(!P.ALAND)return"#fff";const te=P[`${n}_total`];if(M.includes(n)){const J=ue=>P[`${n}_${ue}`];if(J(nl[0])===null)return"#eee";const oe=[...nl].sort((ue,We)=>J(We)-J(ue));return Xe[nl.indexOf(oe[0])]}else if(m.includes(n)){if(!Il(a(P)))return"#eee";if(te<=10)return"#fff";for(let J=1;J<i.length;J++)if(a(P)<i[J])return Xe[J];return Xe[i.length-1]}else{if(te<=10)return"#fff";const J=oe=>P[`${n}_${oe}`]/P[`${n}_total`];if(Me){const oe=Ze.filter($e=>J($e)>.5)[0];if(oe!==void 0)return _l[oe]+hl[te<130?0:te<200?1:2];const ue=[...Ze].sort(($e,xe)=>J(xe)-J($e)),We=J(ue[0])-J(ue[1]);return _l[ue[0]]+hl[We<.093?0:1]}else{const oe=Ve[ge];for(let ue=1;ue<oe.length;ue++)if(J("asian")<oe[ue])return tl[ue-1];return tl[oe.length-1]}}}const Fe=async()=>t(12,se=await ys()),b=async()=>t(13,ce=await Ts());function ve(P){const te=typeof P[0]=="string"?P.map(be=>u[T[be]].properties):P.map(be=>be.properties),J=(be,He)=>te.reduce((ss,ml)=>ss+(ml[be]||0)*(He&&ml[He]||1),0),oe=be=>J(be,"pop20_total")/J("pop20_total"),ue=(be,He)=>J(`${be}_${He}`)/J(`${be}_total`);let We=J("pop10_asian"),$e=J("pop20_asian"),xe=J("cvap10_asian"),ts=J("cvap19_asian");const dl={income:oe("income"),hhlang:ue("hhlang","asian"),benefits:ue("families","benefits"),pop20_total:J("pop20_total"),pct_increase:($e-We)/We,pct_increase_cvap:(ts-xe)/xe};return["pop20","cvap19","pop10","cvap10"].forEach(be=>Ze.forEach(He=>dl[be+He]=ue(be,He))),dl}const ol=P=>t(8,j=j.filter((te,J)=>J!==P));async function qt(){try{await fetch(`${ul}/data.json`,{method:"POST",body:JSON.stringify(j)})}catch(P){console.error(P)}}async function Ut(){try{const P=await fetch(`${ul}/data.json`);t(8,j=(await P.json()).map(te=>kl(bl({},te),{stats:ve(te.ids)})))}catch(P){console.error(P)}}const Ft=P=>t(10,d=d.includes(P)?d.filter(te=>te!==P):[...d,P]);function Ht(P){C.includes(P)?t(9,C=C.filter(te=>te!==P)):t(9,C=[...C,P])}const Rt=()=>t(51,O=!0),Wt=()=>t(51,O=t(24,q=!1)),Gt=P=>q&&O&&(y.length===0?t(7,y=[Ee(P)]):y.push(Ee(P)));function Qt({key:P}){}const Jt=[[]];function Kt(){ge=cl(this),t(17,ge),t(3,m),t(2,g)}function Xt(){pe=this.__value,t(16,pe)}const Yt=()=>t(18,Me=!Me);function Zt(){E=cl(this),t(11,E)}function $t(){x=cl(this),t(15,x)}function xt(){p=this.checked,t(6,p)}const es=()=>t(24,q=!0);function ls(){de=this.clientWidth,t(14,de)}return l.$$set=P=>{"topoData"in P&&t(48,f=P.topoData),"obj"in P&&t(0,r=P.obj),"neighbors"in P&&t(49,c=P.neighbors),"data"in P&&t(1,u=P.data),"dynamicVars"in P&&t(2,g=P.dynamicVars),"staticVars"in P&&t(3,m=P.staticVars),"tractVars"in P&&t(4,k=P.tractVars),"pluralityVars"in P&&t(5,M=P.pluralityVars),"idToIndex"in P&&t(50,T=P.idToIndex)},l.$$.update=()=>{if(l.$$.dirty[0]&32768&&t(19,s=al[x]),l.$$.dirty[0]&196616&&t(20,n=m.includes(ge)?ge:ge+(pe==="past"?10:ge==="cvap"?19:20)),l.$$.dirty[0]&1048576&&t(54,a={income:P=>P[n],hhlang:P=>P[`${n}_asian`]/P[`${n}_total`],graduates:P=>(P[`${n}_hs_grad`]+P[`${n}_ba_above`])/P[`${n}_total`],families:P=>P[`${n}_benefits`]/P[`${n}_total`],workers:P=>P[`${n}_publictransport`]/P[`${n}_total`]}[n]),l.$$.dirty[0]&1441806|l.$$.dirty[1]&12582912&&t(32,i=g.includes(ge)&&!Me?Ve[ge]:Ve[n]||!m.includes(n)||n==="asiaentry"||t(53,Ve[n]=ps(u.map(P=>a(P.properties)).filter(Il),6),Ve)),l.$$.dirty[0]&386|l.$$.dirty[1]&1048576&&!O&&y.length>0){if(y[0]===y[y.length-1]){const P=new Set(y),te=vs(ee((oe,ue)=>Ps(P.has(Ee(oe)),P.has(Ee(ue)))).coordinates.flat()),J=u.filter(oe=>bs(ks(oe.geometry.coordinates[0]),te)).map(Ee);t(8,j=[...j,{outline:il({type:"LineString",coordinates:te}),ids:J,stats:ve(J)}])}t(7,y=[])}if(l.$$.dirty[0]&6144&&E.startsWith("congress")&&se===void 0&&Fe(),l.$$.dirty[0]&8256&&p&&ce===void 0&&b(),l.$$.dirty[0]&1024|l.$$.dirty[1]&2097152&&d.includes("communities")&&!N&&(Ut(),t(52,N=!0)),l.$$.dirty[0]&542720&&t(31,o=(E.endsWith("_names")?.9:1.1)/((de-410)/s[2])*1.1),l.$$.dirty[0]&2561)for(let P=0;P<C.length;P++){const[te,J]=C[P].split(",");te===E&&t(25,L[C[P]]=ve(r.geometries.filter(({properties:oe})=>J===""+oe[E])),L)}},[r,u,g,m,k,M,p,y,j,C,d,E,se,ce,de,x,pe,ge,Me,s,n,B,z,W,q,L,Q,fe,G,Y,me,o,i,A,I,ee,ne,le,Le,Ue,ol,qt,Ft,Ht,Rt,Wt,Gt,Qt,f,c,T,O,N,Ve,a,Kt,Xt,Jt,Yt,Zt,$t,xt,es,ls]}class hn extends Ge{constructor(e){super();Qe(this,e,an,nn,Je,{topoData:48,obj:0,neighbors:49,data:1,dynamicVars:2,staticVars:3,tractVars:4,pluralityVars:5,idToIndex:50},null,[-1,-1,-1])}}export{hn as default,un as load};
