var Ul=Object.defineProperty,zl=Object.defineProperties;var Gl=Object.getOwnPropertyDescriptors;var ft=Object.getOwnPropertySymbols;var ql=Object.prototype.hasOwnProperty,Hl=Object.prototype.propertyIsEnumerable;var ut=(s,e,t)=>e in s?Ul(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,et=(s,e)=>{for(var t in e||(e={}))ql.call(e,t)&&ut(s,t,e[t]);if(ft)for(var t of ft(e))Hl.call(e,t)&&ut(s,t,e[t]);return s},tt=(s,e)=>zl(s,Gl(e));import{S as Be,i as Ae,s as Fe,l as fe,f as S,I as Ee,d as h,e as y,c as P,a as D,J as me,K as Wl,k as O,L as Ql,n as N,b as V,H as f,M as ht,N as ge,t as F,g as R,h as re,O as ke,D as _t,E as gt,F as dt,G as pt,x as ce,P as Ie,Q as lt,R as We,u as de,T as st,r as Qe,w as Je,U as Jl,V as mt,W as Kl,X as Xl,A as vt,Y as bt,Z as Zl,j as Le,m as je,o as Ce,v as Oe,_ as Re,$ as Yl,a0 as kt,a1 as xl,a2 as $l,a3 as es,a4 as ts,a5 as ls,a6 as wt,a7 as nt,a8 as ss}from"../chunks/vendor-8d9394b1.js";import{b as Ke}from"../chunks/paths-28a87002.js";import{s as Xe,a as Ue,p as ve,m as ze,c as Pe,b as yt,d as Pt,h as ns,u as as,v as Ze,e as Ye,f as Et,i as Dt,x as is,g as Ve,j as Ge,l as at,k as it,n as xe,o as Vt,r as os,q as rs,t as cs,w as Tt}from"../chunks/constants-70738a96.js";function Mt(s,e,t){const l=s.slice();return l[21]=e[t],l[20]=t,l}function It(s,e,t){const l=s.slice();return l[21]=e[t],l[20]=t,l}function Lt(s,e,t){const l=s.slice();return l[16]=e[t],l}function jt(s,e,t){const l=s.slice();return l[16]=e[t],l[20]=t,l}function Ct(s,e,t){const l=s.slice();return l[10]=e[t],l}function Ot(s,e,t){const l=s.slice();return l[13]=e[t],l}function fs(s){let e,t,l=s[9],n=[];for(let o=0;o<l.length;o+=1)n[o]=Nt(It(s,l,o));let a=s[9],i=[];for(let o=0;o<a.length;o+=1)i[o]=St(Mt(s,a,o));return{c(){e=y("div");for(let o=0;o<n.length;o+=1)n[o].c();t=O();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=P(o,"DIV",{class:!0,style:!0});var c=D(e);for(let r=0;r<n.length;r+=1)n[r].l(c);t=N(c);for(let r=0;r<i.length;r+=1)i[r].l(c);c.forEach(h),this.h()},h(){V(e,"class","color-legend svelte-660ibp"),me(e,"grid-template-columns","repeat("+(s[3].includes(s[4])?5:6)+", 2.9em)"),ht(e,"pctasian",s[3].includes(s[4]))},m(o,c){S(o,e,c);for(let r=0;r<n.length;r+=1)n[r].m(e,null);f(e,t);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(o,c){if(c&536){l=o[9];let r;for(r=0;r<l.length;r+=1){const u=It(o,l,r);n[r]?n[r].p(u,c):(n[r]=Nt(u),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}if(c&536){a=o[9];let r;for(r=0;r<a.length;r+=1){const u=Mt(o,a,r);i[r]?i[r].p(u,c):(i[r]=St(u),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}c&24&&me(e,"grid-template-columns","repeat("+(o[3].includes(o[4])?5:6)+", 2.9em)"),c&24&&ht(e,"pctasian",o[3].includes(o[4]))},d(o){o&&h(e),ge(n,o),ge(i,o)}}}function us(s){let e,t,l=s[8],n=[];for(let o=0;o<l.length;o+=1)n[o]=Bt(jt(s,l,o));let a=s[8],i=[];for(let o=0;o<a.length;o+=1)i[o]=At(Lt(s,a,o));return{c(){e=y("div");for(let o=0;o<n.length;o+=1)n[o].c();t=O();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=P(o,"DIV",{class:!0});var c=D(e);for(let r=0;r<n.length;r+=1)n[r].l(c);t=N(c);for(let r=0;r<i.length;r+=1)i[r].l(c);c.forEach(h),this.h()},h(){V(e,"class","color-legend plurality-legend svelte-660ibp")},m(o,c){S(o,e,c);for(let r=0;r<n.length;r+=1)n[r].m(e,null);f(e,t);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(o,c){if(c&256){l=o[8];let r;for(r=0;r<l.length;r+=1){const u=jt(o,l,r);n[r]?n[r].p(u,c):(n[r]=Bt(u),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}if(c&256){a=o[8];let r;for(r=0;r<a.length;r+=1){const u=Lt(o,a,r);i[r]?i[r].p(u,c):(i[r]=At(u),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}},d(o){o&&h(e),ge(n,o),ge(i,o)}}}function hs(s){let e,t,l,n,a,i,o,c,r,u,v,w,b=s[0],_=[];for(let m=0;m<b.length;m+=1)_[m]=Rt(Ct(s,b,m));return{c(){e=y("div");for(let m=0;m<_.length;m+=1)_[m].c();t=O(),l=y("p"),n=y("span"),a=F("Weak plurality"),i=O(),o=y("p"),c=O(),r=y("p"),u=F("Majority"),v=O(),w=y("p"),this.h()},l(m){e=P(m,"DIV",{class:!0});var T=D(e);for(let J=0;J<_.length;J+=1)_[J].l(T);t=N(T),l=P(T,"P",{class:!0});var g=D(l);n=P(g,"SPAN",{});var M=D(n);a=R(M,"Weak plurality"),M.forEach(h),g.forEach(h),i=N(T),o=P(T,"P",{class:!0}),D(o).forEach(h),c=N(T),r=P(T,"P",{class:!0});var B=D(r);u=R(B,"Majority"),B.forEach(h),v=N(T),w=P(T,"P",{class:!0}),D(w).forEach(h),T.forEach(h),this.h()},h(){V(l,"class","col-head svelte-660ibp"),V(o,"class","col-head svelte-660ibp"),V(r,"class","col-head svelte-660ibp"),V(w,"class","col-head svelte-660ibp"),V(e,"class","legend svelte-660ibp")},m(m,T){S(m,e,T);for(let g=0;g<_.length;g+=1)_[g].m(e,null);f(e,t),f(e,l),f(l,n),f(n,a),f(e,i),f(e,o),f(e,c),f(e,r),f(r,u),f(e,v),f(e,w)},p(m,T){if(T&7){b=m[0];let g;for(g=0;g<b.length;g+=1){const M=Ct(m,b,g);_[g]?_[g].p(M,T):(_[g]=Rt(M),_[g].c(),_[g].m(e,t))}for(;g<_.length;g+=1)_[g].d(1);_.length=b.length}},d(m){m&&h(e),ge(_,m)}}}function Nt(s){let e;return{c(){e=y("div"),this.h()},l(t){e=P(t,"DIV",{style:!0}),D(e).forEach(h),this.h()},h(){me(e,"background-color",s[3].includes(s[4])?Xe[s[20]]:Ue[s[20]])},m(t,l){S(t,e,l)},p(t,l){l&24&&me(e,"background-color",t[3].includes(t[4])?Xe[t[20]]:Ue[t[20]])},d(t){t&&h(e)}}}function St(s){let e,t,l=(s[9][s[9].length-1]<1?ve(s[21],0):s[9][s[9].length-1]>1e3?ze(s[21]):s[21])+(s[3].includes(s[4])&&s[20]===s[9].length-1?"+ Asian":"")+"",n;return{c(){e=y("p"),t=new Wl,n=O(),this.h()},l(a){e=P(a,"P",{class:!0});var i=D(e);t=Ql(i),n=N(i),i.forEach(h),this.h()},h(){t.a=n,V(e,"class","svelte-660ibp")},m(a,i){S(a,e,i),t.m(l,e),f(e,n)},p(a,i){i&536&&l!==(l=(a[9][a[9].length-1]<1?ve(a[21],0):a[9][a[9].length-1]>1e3?ze(a[21]):a[21])+(a[3].includes(a[4])&&a[20]===a[9].length-1?"+ Asian":"")+"")&&t.p(l)},d(a){a&&h(e)}}}function Bt(s){let e;return{c(){e=y("div"),this.h()},l(t){e=P(t,"DIV",{style:!0}),D(e).forEach(h),this.h()},h(){me(e,"background-color",Ue[s[20]])},m(t,l){S(t,e,l)},p:Ee,d(t){t&&h(e)}}}function At(s){let e,t=s[16].replace("_","-")+"",l;return{c(){e=y("p"),l=F(t),this.h()},l(n){e=P(n,"P",{class:!0});var a=D(e);l=R(a,t),a.forEach(h),this.h()},h(){V(e,"class","svelte-660ibp")},m(n,a){S(n,e,a),f(e,l)},p(n,a){a&256&&t!==(t=n[16].replace("_","-")+"")&&re(l,t)},d(n){n&&h(e)}}}function Ft(s){let e;return{c(){e=y("div"),this.h()},l(t){e=P(t,"DIV",{style:!0}),D(e).forEach(h),this.h()},h(){me(e,"background-color",s[2][s[10]]+s[13])},m(t,l){S(t,e,l)},p(t,l){l&7&&me(e,"background-color",t[2][t[10]]+t[13])},d(t){t&&h(e)}}}function Rt(s){let e,t,l=Pe(s[10])+"",n,a=s[1],i=[];for(let o=0;o<a.length;o+=1)i[o]=Ft(Ot(s,a,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=O(),t=y("p"),n=F(l),this.h()},l(o){for(let r=0;r<i.length;r+=1)i[r].l(o);e=N(o),t=P(o,"P",{class:!0});var c=D(t);n=R(c,l),c.forEach(h),this.h()},h(){V(t,"class","row-label svelte-660ibp")},m(o,c){for(let r=0;r<i.length;r+=1)i[r].m(o,c);S(o,e,c),S(o,t,c),f(t,n)},p(o,c){if(c&7){a=o[1];let r;for(r=0;r<a.length;r+=1){const u=Ot(o,a,r);i[r]?i[r].p(u,c):(i[r]=Ft(u),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}c&1&&l!==(l=Pe(o[10])+"")&&re(n,l)},d(o){ge(i,o),o&&h(e),o&&h(t)}}}function _s(s){let e,t,l;function n(o,c){return(e==null||c&88)&&(e=!!(o[3].includes(o[4])&&o[6])),e?hs:((t==null||c&160)&&(t=!!o[7].includes(o[5])),t?us:fs)}let a=n(s,-1),i=a(s);return{c(){i.c(),l=fe()},l(o){i.l(o),l=fe()},m(o,c){i.m(o,c),S(o,l,c)},p(o,[c]){a===(a=n(o,c))&&i?i.p(o,c):(i.d(1),i=a(o),i&&(i.c(),i.m(l.parentNode,l)))},i:Ee,o:Ee,d(o){i.d(o),o&&h(l)}}}function gs(s,e,t){let{groups:l,levels:n,colors:a,dynamicVars:i,variable:o,metric:c,showPluralities:r,pluralityVars:u,periods:v,breaks:w}=e;return s.$$set=b=>{"groups"in b&&t(0,l=b.groups),"levels"in b&&t(1,n=b.levels),"colors"in b&&t(2,a=b.colors),"dynamicVars"in b&&t(3,i=b.dynamicVars),"variable"in b&&t(4,o=b.variable),"metric"in b&&t(5,c=b.metric),"showPluralities"in b&&t(6,r=b.showPluralities),"pluralityVars"in b&&t(7,u=b.pluralityVars),"periods"in b&&t(8,v=b.periods),"breaks"in b&&t(9,w=b.breaks)},[l,n,a,i,o,c,r,u,v,w]}class ds extends Be{constructor(e){super();Ae(this,e,gs,_s,Fe,{groups:0,levels:1,colors:2,dynamicVars:3,variable:4,metric:5,showPluralities:6,pluralityVars:7,periods:8,breaks:9})}}function Ut(s,e,t){const l=s.slice();return l[20]=e[t].name,l[10]=e[t].stats,l[22]=t,l}function zt(s,e,t){const l=s.slice();return l[23]=e[t],l}function Gt(s,e,t){const l=s.slice();return l[14]=e[t],l}function qt(s,e,t){const l=s.slice();return l[17]=e[t],l}function Ht(s){let e;function t(a,i){if(a[9]==="districts")return ms;if(a[9]==="community")return ps}let l=t(s),n=l&&l(s);return{c(){n&&n.c(),e=fe()},l(a){n&&n.l(a),e=fe()},m(a,i){n&&n.m(a,i),S(a,e,i)},p(a,i){l===(l=t(a))&&n?n.p(a,i):(n&&n.d(1),n=l&&l(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n&&n.d(a),a&&h(e)}}}function ps(s){let e,t=s[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Qt(Ut(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=fe()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=fe()},m(n,a){for(let i=0;i<l.length;i+=1)l[i].m(n,a);S(n,e,a)},p(n,a){if(a&392){t=n[7];let i;for(i=0;i<t.length;i+=1){const o=Ut(n,t,i);l[i]?l[i].p(o,a):(l[i]=Qt(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){ge(l,n),n&&h(e)}}}function ms(s){let e,t=s[0],l=[];for(let n=0;n<t.length;n+=1)l[n]=Zt(Gt(s,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=fe()},l(n){for(let a=0;a<l.length;a+=1)l[a].l(n);e=fe()},m(n,a){for(let i=0;i<l.length;i+=1)l[i].m(n,a);S(n,e,a)},p(n,a){if(a&3199){t=n[0];let i;for(i=0;i<t.length;i+=1){const o=Gt(n,t,i);l[i]?l[i].p(o,a):(l[i]=Zt(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){ge(l,n),n&&h(e)}}}function Wt(s){let e,t,l=Pe(s[23])+"",n,a,i,o=ve(s[10]["cvap19"+s[23]])+"",c,r,u,v=ve(s[10]["pop20"+s[23]])+"",w,b;return{c(){e=y("tr"),t=y("td"),n=F(l),a=O(),i=y("td"),c=F(o),r=O(),u=y("td"),w=F(v),b=O(),this.h()},l(_){e=P(_,"TR",{class:!0});var m=D(e);t=P(m,"TD",{class:!0});var T=D(t);n=R(T,l),T.forEach(h),a=N(m),i=P(m,"TD",{class:!0});var g=D(i);c=R(g,o),g.forEach(h),r=N(m),u=P(m,"TD",{class:!0});var M=D(u);w=R(M,v),M.forEach(h),b=N(m),m.forEach(h),this.h()},h(){V(t,"class","svelte-1avkicx"),V(i,"class","svelte-1avkicx"),V(u,"class","svelte-1avkicx"),V(e,"class","svelte-1avkicx")},m(_,m){S(_,e,m),f(e,t),f(t,n),f(e,a),f(e,i),f(i,c),f(e,r),f(e,u),f(u,w),f(e,b)},p(_,m){m&8&&l!==(l=Pe(_[23])+"")&&re(n,l),m&136&&o!==(o=ve(_[10]["cvap19"+_[23]])+"")&&re(c,o),m&136&&v!==(v=ve(_[10]["pop20"+_[23]])+"")&&re(w,v)},d(_){_&&h(e)}}}function Qt(s){let e,t,l,n=(s[20]||"COI"+(s[22]+1))+"",a,i,o,c,r,u,v,w,b,_,m,T,g,M,B,J,$,he,ie=ze(s[10].income)+"",W,K,L,j,I=ve(s[10].hhlang)+"",U,d,E,G,Z=ve(s[10].benefits)+"",le,C,z,ne;function Te(){return s[13](s[22])}let A=s[3],Y=[];for(let ee=0;ee<A.length;ee+=1)Y[ee]=Wt(zt(s,A,ee));return{c(){e=y("div"),t=y("p"),l=y("i"),a=F(n),i=O(),o=y("button"),c=F("\u{1F5D1}"),r=O(),u=y("table"),v=y("tr"),w=y("th"),b=O(),_=y("th"),m=F("CVAP"),T=O(),g=y("th"),M=F("Pop."),B=O();for(let ee=0;ee<Y.length;ee+=1)Y[ee].c();J=O(),$=y("p"),he=F("Income: "),W=F(ie),K=O(),L=y("p"),j=F("Asian and LEP: "),U=F(I),d=O(),E=y("p"),G=F("Pct. gov't benefits: "),le=F(Z),C=O(),this.h()},l(ee){e=P(ee,"DIV",{});var se=D(e);t=P(se,"P",{class:!0});var X=D(t);l=P(X,"I",{});var we=D(l);a=R(we,n),we.forEach(h),i=N(X),o=P(X,"BUTTON",{});var De=D(o);c=R(De,"\u{1F5D1}"),De.forEach(h),X.forEach(h),r=N(se),u=P(se,"TABLE",{class:!0});var p=D(u);v=P(p,"TR",{class:!0});var x=D(v);w=P(x,"TH",{class:!0}),D(w).forEach(h),b=N(x),_=P(x,"TH",{class:!0});var ye=D(_);m=R(ye,"CVAP"),ye.forEach(h),T=N(x),g=P(x,"TH",{class:!0});var q=D(g);M=R(q,"Pop."),q.forEach(h),x.forEach(h),B=N(p);for(let pe=0;pe<Y.length;pe+=1)Y[pe].l(p);p.forEach(h),J=N(se),$=P(se,"P",{class:!0});var oe=D($);he=R(oe,"Income: "),W=R(oe,ie),oe.forEach(h),K=N(se),L=P(se,"P",{class:!0});var Q=D(L);j=R(Q,"Asian and LEP: "),U=R(Q,I),Q.forEach(h),d=N(se),E=P(se,"P",{class:!0});var _e=D(E);G=R(_e,"Pct. gov't benefits: "),le=R(_e,Z),_e.forEach(h),C=N(se),se.forEach(h),this.h()},h(){V(t,"class","svelte-1avkicx"),V(w,"class","svelte-1avkicx"),V(_,"class","svelte-1avkicx"),V(g,"class","svelte-1avkicx"),V(v,"class","svelte-1avkicx"),V(u,"class","svelte-1avkicx"),V($,"class","table-footer svelte-1avkicx"),V(L,"class","table-footer svelte-1avkicx"),V(E,"class","table-footer svelte-1avkicx")},m(ee,se){S(ee,e,se),f(e,t),f(t,l),f(l,a),f(t,i),f(t,o),f(o,c),f(e,r),f(e,u),f(u,v),f(v,w),f(v,b),f(v,_),f(_,m),f(v,T),f(v,g),f(g,M),f(u,B);for(let X=0;X<Y.length;X+=1)Y[X].m(u,null);f(e,J),f(e,$),f($,he),f($,W),f(e,K),f(e,L),f(L,j),f(L,U),f(e,d),f(e,E),f(E,G),f(E,le),f(e,C),z||(ne=ke(o,"click",Te),z=!0)},p(ee,se){if(s=ee,se&128&&n!==(n=(s[20]||"COI"+(s[22]+1))+"")&&re(a,n),se&136){A=s[3];let X;for(X=0;X<A.length;X+=1){const we=zt(s,A,X);Y[X]?Y[X].p(we,se):(Y[X]=Wt(we),Y[X].c(),Y[X].m(u,null))}for(;X<Y.length;X+=1)Y[X].d(1);Y.length=A.length}se&128&&ie!==(ie=ze(s[10].income)+"")&&re(W,ie),se&128&&I!==(I=ve(s[10].hhlang)+"")&&re(U,I),se&128&&Z!==(Z=ve(s[10].benefits)+"")&&re(le,Z)},d(ee){ee&&h(e),ge(Y,ee),z=!1,ne()}}}function Jt(s){let e,t,l,n=yt(s[14])+"",a,i,o,c,r,u,v,w,b,_,m,T,g,M,B,J,$,he;function ie(){return s[12](s[14])}let W=s[3],K=[];for(let j=0;j<W.length;j+=1)K[j]=Kt(qt(s,W,j));let L=s[4]&&s[2]in s[6]&&Xt(s);return{c(){e=y("div"),t=y("p"),l=y("i"),a=F(n),i=O(),o=y("table"),c=y("tr"),r=y("th"),u=O(),v=y("th"),w=F("2010 "),b=F(s[11]),_=O(),m=y("th"),T=F("2020 "),g=F(s[11]),M=O();for(let j=0;j<K.length;j+=1)K[j].c();B=O(),L&&L.c(),J=O(),this.h()},l(j){e=P(j,"DIV",{class:!0});var I=D(e);t=P(I,"P",{class:!0});var U=D(t);l=P(U,"I",{});var d=D(l);a=R(d,n),d.forEach(h),U.forEach(h),i=N(I),o=P(I,"TABLE",{class:!0});var E=D(o);c=P(E,"TR",{class:!0});var G=D(c);r=P(G,"TH",{class:!0}),D(r).forEach(h),u=N(G),v=P(G,"TH",{class:!0});var Z=D(v);w=R(Z,"2010 "),b=R(Z,s[11]),Z.forEach(h),_=N(G),m=P(G,"TH",{class:!0});var le=D(m);T=R(le,"2020 "),g=R(le,s[11]),le.forEach(h),G.forEach(h),M=N(E);for(let C=0;C<K.length;C+=1)K[C].l(E);E.forEach(h),B=N(I),L&&L.l(I),J=N(I),I.forEach(h),this.h()},h(){V(t,"class","svelte-1avkicx"),V(r,"class","svelte-1avkicx"),V(v,"class","svelte-1avkicx"),V(m,"class","svelte-1avkicx"),V(c,"class","svelte-1avkicx"),V(o,"class","svelte-1avkicx"),V(e,"class","district-aggregate svelte-1avkicx")},m(j,I){S(j,e,I),f(e,t),f(t,l),f(l,a),f(e,i),f(e,o),f(o,c),f(c,r),f(c,u),f(c,v),f(v,w),f(v,b),f(c,_),f(c,m),f(m,T),f(m,g),f(o,M);for(let U=0;U<K.length;U+=1)K[U].m(o,null);f(e,B),L&&L.m(e,null),f(e,J),$||(he=ke(t,"click",ie),$=!0)},p(j,I){if(s=j,I&1&&n!==(n=yt(s[14])+"")&&re(a,n),I&2048&&re(b,s[11]),I&2048&&re(g,s[11]),I&1065){W=s[3];let U;for(U=0;U<W.length;U+=1){const d=qt(s,W,U);K[U]?K[U].p(d,I):(K[U]=Kt(d),K[U].c(),K[U].m(o,null))}for(;U<K.length;U+=1)K[U].d(1);K.length=W.length}s[4]&&s[2]in s[6]?L?L.p(s,I):(L=Xt(s),L.c(),L.m(e,J)):L&&(L.d(1),L=null)},d(j){j&&h(e),ge(K,j),L&&L.d(),$=!1,he()}}}function Kt(s){let e,t,l=Pe(s[17])+"",n,a,i,o=ve(s[10][s[14]][s[5]+"10"+s[17]])+"",c,r,u,v=ve(s[10][s[14]][s[5]+(s[5]==="cvap"?"19":"20")+s[17]])+"",w,b;return{c(){e=y("tr"),t=y("td"),n=F(l),a=O(),i=y("td"),c=F(o),r=O(),u=y("td"),w=F(v),b=O(),this.h()},l(_){e=P(_,"TR",{class:!0});var m=D(e);t=P(m,"TD",{class:!0});var T=D(t);n=R(T,l),T.forEach(h),a=N(m),i=P(m,"TD",{class:!0});var g=D(i);c=R(g,o),g.forEach(h),r=N(m),u=P(m,"TD",{class:!0});var M=D(u);w=R(M,v),M.forEach(h),b=N(m),m.forEach(h),this.h()},h(){V(t,"class","svelte-1avkicx"),V(i,"class","svelte-1avkicx"),V(u,"class","svelte-1avkicx"),V(e,"class","svelte-1avkicx")},m(_,m){S(_,e,m),f(e,t),f(t,n),f(e,a),f(e,i),f(i,c),f(e,r),f(e,u),f(u,w),f(e,b)},p(_,m){m&8&&l!==(l=Pe(_[17])+"")&&re(n,l),m&1065&&o!==(o=ve(_[10][_[14]][_[5]+"10"+_[17]])+"")&&re(c,o),m&1065&&v!==(v=ve(_[10][_[14]][_[5]+(_[5]==="cvap"?"19":"20")+_[17]])+"")&&re(w,v)},d(_){_&&h(e)}}}function Xt(s){let e,t,l=ze(s[10][s[14]].income)+(s[4]&&s[2]in s[6]?"; "+Pt(s[10][s[14]].pop20_total-s[6][s[2]]):"")+"",n;return{c(){e=y("p"),t=F("Income: "),n=F(l),this.h()},l(a){e=P(a,"P",{class:!0});var i=D(e);t=R(i,"Income: "),n=R(i,l),i.forEach(h),this.h()},h(){V(e,"class","table-footer svelte-1avkicx")},m(a,i){S(a,e,i),f(e,t),f(e,n)},p(a,i){i&1109&&l!==(l=ze(a[10][a[14]].income)+(a[4]&&a[2]in a[6]?"; "+Pt(a[10][a[14]].pop20_total-a[6][a[2]]):"")+"")&&re(n,l)},d(a){a&&h(e)}}}function Zt(s){let e=s[14].split(",")[0]===s[2],t,l=e&&Jt(s);return{c(){l&&l.c(),t=fe()},l(n){l&&l.l(n),t=fe()},m(n,a){l&&l.m(n,a),S(n,t,a)},p(n,a){a&5&&(e=n[14].split(",")[0]===n[2]),e?l?l.p(n,a):(l=Jt(n),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&h(t)}}}function vs(s){let e,t=s[5]!==null&&Ht(s);return{c(){t&&t.c(),e=fe()},l(l){t&&t.l(l),e=fe()},m(l,n){t&&t.m(l,n),S(l,e,n)},p(l,[n]){l[5]!==null?t?t.p(l,n):(t=Ht(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ee,o:Ee,d(l){t&&t.d(l),l&&h(e)}}}function bs(s,e,t){let l,{aggregates:n,handleLabelClick:a,plan:i,stats:o,groups:c,changingLines:r,variable:u,idealValues:v}=e,{drawings:w=[]}=e,{delDrawing:b=void 0}=e,{type:_="districts"}=e;const m=g=>a(g),T=g=>b(g);return s.$$set=g=>{"aggregates"in g&&t(0,n=g.aggregates),"handleLabelClick"in g&&t(1,a=g.handleLabelClick),"plan"in g&&t(2,i=g.plan),"stats"in g&&t(10,o=g.stats),"groups"in g&&t(3,c=g.groups),"changingLines"in g&&t(4,r=g.changingLines),"variable"in g&&t(5,u=g.variable),"idealValues"in g&&t(6,v=g.idealValues),"drawings"in g&&t(7,w=g.drawings),"delDrawing"in g&&t(8,b=g.delDrawing),"type"in g&&t(9,_=g.type)},s.$$.update=()=>{s.$$.dirty&32&&t(11,l=u==="pop"?"Pop.":(u||"").toUpperCase())},[n,a,i,c,r,u,v,w,b,_,o,l,m,T]}class Yt extends Be{constructor(e){super();Ae(this,e,bs,vs,Fe,{aggregates:0,handleLabelClick:1,plan:2,stats:10,groups:3,changingLines:4,variable:5,idealValues:6,drawings:7,delDrawing:8,type:9})}}const ks=s=>({}),xt=s=>({}),ws=s=>({}),$t=s=>({});function el(s){let e,t,l,n;const a=s[5].body,i=_t(a,s,s[4],xt);return{c(){e=y("div"),i&&i.c(),this.h()},l(o){e=P(o,"DIV",{class:!0});var c=D(e);i&&i.l(c),c.forEach(h),this.h()},h(){V(e,"class","svelte-a3zm9u")},m(o,c){S(o,e,c),i&&i.m(e,null),n=!0},p(o,c){i&&i.p&&(!n||c&16)&&gt(i,a,o,o[4],n?pt(a,o[4],c,ks):dt(o[4]),xt)},i(o){n||(ce(i,o),Ie(()=>{l&&l.end(1),t=lt(e,We,{}),t.start()}),n=!0)},o(o){de(i,o),t&&t.invalidate(),l=st(e,We,{}),n=!1},d(o){o&&h(e),i&&i.d(o),o&&l&&l.end()}}}function ys(s){let e,t,l,n=(s[3][s[2]]||Pe(s[2]))+"",a,i,o=(s[0].includes(s[2])?"\u2191":"\u2193")+"",c,r,u,v=s[0].includes(s[2]),w,b,_;const m=s[5].title,T=_t(m,s,s[4],$t);let g=v&&el(s);return{c(){e=y("div"),t=y("h3"),l=y("button"),a=F(n),i=O(),c=F(o),r=O(),T&&T.c(),u=O(),g&&g.c(),this.h()},l(M){e=P(M,"DIV",{class:!0});var B=D(e);t=P(B,"H3",{class:!0});var J=D(t);l=P(J,"BUTTON",{});var $=D(l);a=R($,n),i=N($),c=R($,o),$.forEach(h),r=N(J),T&&T.l(J),J.forEach(h),u=N(B),g&&g.l(B),B.forEach(h),this.h()},h(){V(t,"class","svelte-a3zm9u"),V(e,"class","panel svelte-a3zm9u")},m(M,B){S(M,e,B),f(e,t),f(t,l),f(l,a),f(l,i),f(l,c),f(t,r),T&&T.m(t,null),f(e,u),g&&g.m(e,null),w=!0,b||(_=ke(l,"click",s[6]),b=!0)},p(M,[B]){(!w||B&4)&&n!==(n=(M[3][M[2]]||Pe(M[2]))+"")&&re(a,n),(!w||B&5)&&o!==(o=(M[0].includes(M[2])?"\u2191":"\u2193")+"")&&re(c,o),T&&T.p&&(!w||B&16)&&gt(T,m,M,M[4],w?pt(m,M[4],B,ws):dt(M[4]),$t),B&5&&(v=M[0].includes(M[2])),v?g?(g.p(M,B),B&5&&ce(g,1)):(g=el(M),g.c(),ce(g,1),g.m(e,null)):g&&(Qe(),de(g,1,1,()=>{g=null}),Je())},i(M){w||(ce(T,M),ce(g),w=!0)},o(M){de(T,M),de(g),w=!1},d(M){M&&h(e),T&&T.d(M),g&&g.d(),b=!1,_()}}}function Ps(s,e,t){let{$$slots:l={},$$scope:n}=e,{panels:a,togglePanel:i,panelName:o}=e;const c={plan:"Districts",plan2:"Compare a district",views:"Views"},r=()=>i(o);return s.$$set=u=>{"panels"in u&&t(0,a=u.panels),"togglePanel"in u&&t(1,i=u.togglePanel),"panelName"in u&&t(2,o=u.panelName),"$$scope"in u&&t(4,n=u.$$scope)},[a,i,o,c,n,l,r]}class tl extends Be{constructor(e){super();Ae(this,e,Ps,ys,Fe,{panels:0,togglePanel:1,panelName:2})}}function ll(s){let e,t,l,n,a,i,o,c,r,u,v;return{c(){e=y("div"),t=y("a"),l=F("Click here"),n=F(` to see a video tutorial of this website.
    `),a=y("button"),i=F("Close message."),this.h()},l(w){e=P(w,"DIV",{class:!0});var b=D(e);t=P(b,"A",{href:!0,target:!0});var _=D(t);l=R(_,"Click here"),_.forEach(h),n=R(b,` to see a video tutorial of this website.
    `),a=P(b,"BUTTON",{class:!0});var m=D(a);i=R(m,"Close message."),m.forEach(h),b.forEach(h),this.h()},h(){V(t,"href","https://youtu.be/dU5a4PRSF14"),V(t,"target","_blank"),V(a,"class","svelte-a8zkqf"),V(e,"class","modal svelte-a8zkqf")},m(w,b){S(w,e,b),f(e,t),f(t,l),f(e,n),f(e,a),f(a,i),r=!0,u||(v=ke(a,"click",function(){Jl(s[1])&&s[1].apply(this,arguments)}),u=!0)},p(w,b){s=w},i(w){r||(Ie(()=>{c&&c.end(1),o=lt(e,mt,{}),o.start()}),r=!0)},o(w){o&&o.invalidate(),c=st(e,mt,{}),r=!1},d(w){w&&h(e),w&&c&&c.end(),u=!1,v()}}}function Es(s){let e,t,l=s[0]&&ll(s);return{c(){l&&l.c(),e=fe()},l(n){l&&l.l(n),e=fe()},m(n,a){l&&l.m(n,a),S(n,e,a),t=!0},p(n,[a]){n[0]?l?(l.p(n,a),a&1&&ce(l,1)):(l=ll(n),l.c(),ce(l,1),l.m(e.parentNode,e)):l&&(Qe(),de(l,1,1,()=>{l=null}),Je())},i(n){t||(ce(l),t=!0)},o(n){de(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}function Ds(s,e,t){let{showModal:l,closeModal:n}=e;return s.$$set=a=>{"showModal"in a&&t(0,l=a.showModal),"closeModal"in a&&t(1,n=a.closeModal)},[l,n]}class Vs extends Be{constructor(e){super();Ae(this,e,Ds,Es,Fe,{showModal:0,closeModal:1})}}function Ts(s){let e,t,l,n,a;return{c(){e=y("link"),t=y("script"),n=O(),a=y("div"),this.h()},l(i){const o=Kl('[data-svelte="svelte-1p75gtx"]',document.head);e=P(o,"LINK",{href:!0,rel:!0}),t=P(o,"SCRIPT",{src:!0});var c=D(t);c.forEach(h),o.forEach(h),n=N(i),a=P(i,"DIV",{id:!0,class:!0}),D(a).forEach(h),this.h()},h(){V(e,"href","https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.css"),V(e,"rel","stylesheet"),Xl(t.src,l="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.js")||V(t,"src",l),V(a,"id","map"),V(a,"class","svelte-1b204ev")},m(i,o){f(document.head,e),f(document.head,t),S(i,n,o),S(i,a,o)},p:Ee,i:Ee,o:Ee,d(i){h(e),h(t),i&&h(n),i&&h(a)}}}function Ms(s,e,t){let{viewBox:l,census:n,plansTopo:a,draggedBgs:i,data:o,path:c,color:r,changingLines:u,neighbor:v,showPluralities:w,metric:b,period:_,tractVars:m,drawings:T,panels:g,plan:M,plan2:B,points:J,isolate:$,pointing:he,tractMesh:ie,bgMesh:W,mesh:K,opacity:L,obj:j,handleLabelClick:I,congressPlans:U,togglePointing:d,startDrag:E,endDrag:G,handleMouseMove:Z,viewCutoff:le,showOnlyFocusDistricts:C,showStreets:z,presentationMode:ne,streets:Te}=e,A,Y;const ee=["assembly","assembly_letters","assembly_names","assembly_unity","senate","senate_letters","senate_names","senate_unity"];function se(){if(b===null)return"rgba(0, 0, 0, 0)";const p=["match",["get","GEOID"]];return n.features.forEach(x=>{p.push(x.properties.GEOID,ns(r(x)))}),p.push("rgba(0, 0, 0, 0)"),p}const X=["case",["boolean",["feature-state","pointing"],!1],3.5,1.8],we={};vt(()=>{mapboxgl.accessToken="pk.eyJ1IjoianNvbmthbyIsImEiOiJjanNvM2U4bXQwN2I3NDRydXQ3Z2kwbWQwIn0.JWAoBlcpDJwkzG-O5_r0ZA",t(36,A=new mapboxgl.Map({container:"map",style:"mapbox://styles/jsonkao/ckvnu5tpy6coj14uizvyf1wuf/draft",center:[-73.967,40.72],zoom:12})),A.on("load",async()=>{A.addSource("census",{type:"geojson",data:n}),A.addLayer({id:"census",type:"fill",source:"census",paint:{"fill-color":se()}},"parks");const p={};ee.forEach(q=>{const oe=bt(a,a.objects[q]);p[q]={type:"FeatureCollection",features:oe.features.map(Q=>(q==="senate_unity"&&Q.properties[q]in we&&(console.log(q,Q.properties),Q.properties[q]=`${we[Q.properties[q]]} (${Q.properties[q]})`),tt(et({},Q),{id:Q.properties[q]})))}}),ee.forEach(q=>{A.addSource(q,{type:"geojson",data:p[q],promoteId:q}),A.addLayer({id:q+"_outline",type:"line",source:q,layout:{},paint:{"line-color":"#121212","line-width":X}},"road-label-small"),A.addLayer({id:q+"_fill",type:"fill",source:q,layout:{},paint:{"fill-color":"#000000","fill-opacity":0}}),A.addSource(q+"_labels",{type:"geojson",data:{type:"FeatureCollection",features:J.features.filter(oe=>oe.properties[q]).map(oe=>({type:oe.feature,id:oe.properties[q],geometry:oe.geometry,properties:oe.properties}))}}),A.addLayer({id:q+"_labels",type:"symbol",source:q+"_labels",layout:{"text-justify":"auto","text-allow-overlap":!0,"text-variable-anchor":["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"text-radial-offset":1,"text-field":["format",["get",q],{"font-scale":1.35}]},paint:{"text-color":"#121212","text-halo-color":"#fff","text-halo-width":1.2}})}),t(37,Y=!0),A.on("click",q=>{if(he){d();const oe=A.queryRenderedFeatures(q.point).filter(Q=>ee.some(_e=>_e===Q.source));console.log(oe),t(38,De=oe.map(Q=>(console.log(p[Q.source]),A.setFeatureState({source:Q.source,id:Q.properties[Q.source]},{pointing:!0}),I(`${Q.source},${Q.properties[Q.source]}`,!0),{source:Q.source,id:Q.properties[Q.source]})))}else A.queryRenderedFeatures(q.point).filter(Q=>Q.source.endsWith("_labels")).forEach(Q=>{const _e=Q.source.replace("_labels","");A.setFeatureState({source:_e,id:Q.properties[_e]},{pointing:!0}),I(`${_e},${Q.properties[_e]}`)})});let x=0,ye=0;A.on("contextmenu",q=>{const{pop20_total:oe,pop20_asian:Q}=A.queryRenderedFeatures(q.point).filter(_e=>_e.layer.id==="census")[0].properties;x+=oe,ye+=Q,console.log(x,ye)})})});let De=[];return s.$$set=p=>{"viewBox"in p&&t(0,l=p.viewBox),"census"in p&&t(1,n=p.census),"plansTopo"in p&&t(2,a=p.plansTopo),"draggedBgs"in p&&t(3,i=p.draggedBgs),"data"in p&&t(4,o=p.data),"path"in p&&t(5,c=p.path),"color"in p&&t(6,r=p.color),"changingLines"in p&&t(7,u=p.changingLines),"neighbor"in p&&t(8,v=p.neighbor),"showPluralities"in p&&t(9,w=p.showPluralities),"metric"in p&&t(10,b=p.metric),"period"in p&&t(11,_=p.period),"tractVars"in p&&t(12,m=p.tractVars),"drawings"in p&&t(13,T=p.drawings),"panels"in p&&t(14,g=p.panels),"plan"in p&&t(15,M=p.plan),"plan2"in p&&t(16,B=p.plan2),"points"in p&&t(17,J=p.points),"isolate"in p&&t(18,$=p.isolate),"pointing"in p&&t(19,he=p.pointing),"tractMesh"in p&&t(20,ie=p.tractMesh),"bgMesh"in p&&t(21,W=p.bgMesh),"mesh"in p&&t(22,K=p.mesh),"opacity"in p&&t(23,L=p.opacity),"obj"in p&&t(24,j=p.obj),"handleLabelClick"in p&&t(25,I=p.handleLabelClick),"congressPlans"in p&&t(26,U=p.congressPlans),"togglePointing"in p&&t(27,d=p.togglePointing),"startDrag"in p&&t(28,E=p.startDrag),"endDrag"in p&&t(29,G=p.endDrag),"handleMouseMove"in p&&t(30,Z=p.handleMouseMove),"viewCutoff"in p&&t(31,le=p.viewCutoff),"showOnlyFocusDistricts"in p&&t(32,C=p.showOnlyFocusDistricts),"showStreets"in p&&t(33,z=p.showStreets),"presentationMode"in p&&t(34,ne=p.presentationMode),"streets"in p&&t(35,Te=p.streets)},s.$$.update=()=>{if(s.$$.dirty[0]&114688|s.$$.dirty[1]&96&&Y&&ee.forEach(p=>{const x=g.includes("plan2")&&p===B,ye=g.includes("plan")&&p===M||x?"visible":"none";A.setLayoutProperty(`${p}_outline`,"visibility",ye),A.setLayoutProperty(`${p}_fill`,"visibility",ye),A.setLayoutProperty(`${p}_labels`,"visibility",ye);const q=x?"#8856a7":"#121212";A.setPaintProperty(`${p}_outline`,"line-color",q),A.setPaintProperty(`${p}_labels`,"text-color",q)}),s.$$.dirty[0]&34078720|s.$$.dirty[1]&224&&Y&&(A.getCanvas().style.cursor=he?"crosshair":"pointer",he&&De.length>0&&De.forEach(p=>{A.setFeatureState(p,{pointing:!1}),I(`${p.source},${p.id}`,!1,!0)})),s.$$.dirty[0]&8503296|s.$$.dirty[1]&96&&Y)if(g.includes("plan2")){let p=x=>Math.max(.1,Math.min(x,1));A.setPaintProperty(`${M}_outline`,"line-opacity",p(1.5-L)),A.setPaintProperty(`${B}_outline`,"line-opacity",p(L)),p=x=>x>.6&&x<.8?1:x<.35?.35:x>.75?1:x,A.setPaintProperty(`${M}_labels`,"text-opacity",p(1.5-L)),A.setPaintProperty(`${B}_labels`,"text-opacity",p(L))}else A.setPaintProperty(`${M}_outline`,"line-opacity",1),A.setPaintProperty(`${B}_outline`,"line-opacity",1),A.setPaintProperty(`${M}_labels`,"text-opacity",1),A.setPaintProperty(`${B}_labels`,"text-opacity",1);if(s.$$.dirty[0]&376832|s.$$.dirty[1]&96&&Y){const p=[M];g.includes("plan2")&&p.push(B),p.forEach(x=>{A.setPaintProperty(`${x}_outline`,"line-width",$?["case",["boolean",["feature-state","pointing"],!1],3,0]:X)})}s.$$.dirty[0]&3584|s.$$.dirty[1]&96&&Y&&A.setPaintProperty("census","fill-color",se())},[l,n,a,i,o,c,r,u,v,w,b,_,m,T,g,M,B,J,$,he,ie,W,K,L,j,I,U,d,E,G,Z,le,C,z,ne,Te,A,Y,De]}class Is extends Be{constructor(e){super();Ae(this,e,Ms,Ts,Fe,{viewBox:0,census:1,plansTopo:2,draggedBgs:3,data:4,path:5,color:6,changingLines:7,neighbor:8,showPluralities:9,metric:10,period:11,tractVars:12,drawings:13,panels:14,plan:15,plan2:16,points:17,isolate:18,pointing:19,tractMesh:20,bgMesh:21,mesh:22,opacity:23,obj:24,handleLabelClick:25,congressPlans:26,togglePointing:27,startDrag:28,endDrag:29,handleMouseMove:30,viewCutoff:31,showOnlyFocusDistricts:32,showStreets:33,presentationMode:34,streets:35},null,[-1,-1])}}function sl(s,e,t){const l=s.slice();return l[74]=e[t],l}function nl(s,e,t){const l=s.slice();return l[77]=e[t],l}function al(s,e,t){const l=s.slice();return l[74]=e[t],l}function il(s,e,t){const l=s.slice();return l[77]=e[t],l}function ol(s,e,t){const l=s.slice();return l[84]=e[t],l}function rl(s,e,t){const l=s.slice();return l[87]=e[t],l}function cl(s,e,t){const l=s.slice();return l[87]=e[t],l}function fl(s){let e,t=(Ze[s[87]]||s[87])+"",l,n;return{c(){e=y("option"),l=F(t),this.h()},l(a){e=P(a,"OPTION",{});var i=D(e);l=R(i,t),i.forEach(h),this.h()},h(){e.__value=n=s[87],e.value=e.__value},m(a,i){S(a,e,i),f(e,l)},p(a,i){i[0]&16&&t!==(t=(Ze[a[87]]||a[87])+"")&&re(l,t),i[0]&16&&n!==(n=a[87])&&(e.__value=n,e.value=e.__value)},d(a){a&&h(e)}}}function ul(s){let e,t=(Ze[s[87]]||s[87])+"",l,n;return{c(){e=y("option"),l=F(t),this.h()},l(a){e=P(a,"OPTION",{});var i=D(e);l=R(i,t),i.forEach(h),this.h()},h(){e.__value=n=s[87],e.value=e.__value},m(a,i){S(a,e,i),f(e,l)},p(a,i){i[0]&32&&t!==(t=(Ze[a[87]]||a[87])+"")&&re(l,t),i[0]&32&&n!==(n=a[87])&&(e.__value=n,e.value=e.__value)},d(a){a&&h(e)}}}function hl(s){let e,t=s[4].includes(s[19]),l,n=s[4].includes(s[19]),a,i,o,c=t&&_l(s),r=n&&dl(s);return{c(){e=y("div"),c&&c.c(),l=O(),r&&r.c()},l(u){e=P(u,"DIV",{});var v=D(e);c&&c.l(v),l=N(v),r&&r.l(v),v.forEach(h)},m(u,v){S(u,e,v),c&&c.m(e,null),f(e,l),r&&r.m(e,null),o=!0},p(u,v){v[0]&524304&&(t=u[4].includes(u[19])),t?c?c.p(u,v):(c=_l(u),c.c(),c.m(e,l)):c&&(c.d(1),c=null),v[0]&524304&&(n=u[4].includes(u[19])),n?r?r.p(u,v):(r=dl(u),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(u){o||(Ie(()=>{i&&i.end(1),a=lt(e,We,{}),a.start()}),o=!0)},o(u){a&&a.invalidate(),i=st(e,We,{}),o=!1},d(u){u&&h(e),c&&c.d(),r&&r.d(),u&&i&&i.end()}}}function _l(s){let e,t=["past","present"],l=[];for(let n=0;n<2;n+=1)l[n]=gl(ol(s,t,n));return{c(){for(let n=0;n<2;n+=1)l[n].c();e=fe()},l(n){for(let a=0;a<2;a+=1)l[a].l(n);e=fe()},m(n,a){for(let i=0;i<2;i+=1)l[i].m(n,a);S(n,e,a)},p(n,a){if(a[0]&262144){t=["past","present"];let i;for(i=0;i<2;i+=1){const o=ol(n,t,i);l[i]?l[i].p(o,a):(l[i]=gl(o),l[i].c(),l[i].m(e.parentNode,e))}for(;i<2;i+=1)l[i].d(1)}},d(n){ge(l,n),n&&h(e)}}}function gl(s){let e,t,l,n=Pe(s[84])+"",a,i,o,c;return{c(){e=y("label"),t=y("input"),l=O(),a=F(n),i=O(),this.h()},l(r){e=P(r,"LABEL",{});var u=D(e);t=P(u,"INPUT",{type:!0,name:!0}),l=N(u),a=R(u,n),i=N(u),u.forEach(h),this.h()},h(){V(t,"type","radio"),V(t,"name","period"),t.__value=s[84],t.value=t.__value,s[59][0].push(t)},m(r,u){S(r,e,u),f(e,t),t.checked=t.__value===s[18],f(e,l),f(e,a),f(e,i),o||(c=ke(t,"change",s[58]),o=!0)},p(r,u){u[0]&262144&&(t.checked=t.__value===r[18])},d(r){r&&h(e),s[59][0].splice(s[59][0].indexOf(t),1),o=!1,c()}}}function dl(s){let e,t,l=(s[12]?"pct. asian":"all races and ethniticies")+"",n,a,i;return{c(){e=y("button"),t=F("Show "),n=F(l),this.h()},l(o){e=P(o,"BUTTON",{class:!0});var c=D(e);t=R(c,"Show "),n=R(c,l),c.forEach(h),this.h()},h(){V(e,"class","plurality-toggle svelte-t3tptk")},m(o,c){S(o,e,c),f(e,t),f(e,n),a||(i=ke(e,"click",s[60]),a=!0)},p(o,c){c[0]&4096&&l!==(l=(o[12]?"pct. asian":"all races and ethniticies")+"")&&re(n,l)},d(o){o&&h(e),a=!1,i()}}}function pl(s){let e,t;return e=new ds({props:{groups:Ge,levels:at,colors:it,dynamicVars:s[4],variable:s[19],metric:s[20],showPluralities:s[12],pluralityVars:s[7],periods:xe,breaks:s[34]}}),{c(){Le(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,n){Ce(e,l,n),t=!0},p(l,n){const a={};n[0]&16&&(a.dynamicVars=l[4]),n[0]&524288&&(a.variable=l[19]),n[0]&1048576&&(a.metric=l[20]),n[0]&4096&&(a.showPluralities=l[12]),n[0]&128&&(a.pluralityVars=l[7]),n[1]&8&&(a.breaks=l[34]),e.$set(a)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){de(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function Ls(s){let e,t=Tt(s[74]+s[77])+"",l,n,a;return{c(){e=y("option"),l=F(t),n=O(),this.h()},l(i){e=P(i,"OPTION",{});var o=D(e);l=R(o,t),n=N(o),o.forEach(h),this.h()},h(){e.__value=a=s[74]+s[77],e.value=e.__value},m(i,o){S(i,e,o),f(e,l),f(e,n)},p:Ee,d(i){i&&h(e)}}}function ml(s){let e,t=s[74]+s[77]!=="congress_unity"&&Ls(s);return{c(){t&&t.c(),e=fe()},l(l){t&&t.l(l),e=fe()},m(l,n){t&&t.m(l,n),S(l,e,n)},p(l,n){l[74]+l[77]!=="congress_unity"&&t.p(l,n)},d(l){t&&t.d(l),l&&h(e)}}}function vl(s){let e,t,l=["","_letters","_names","_unity"],n=[];for(let a=0;a<4;a+=1)n[a]=ml(il(s,l,a));return{c(){e=y("optgroup");for(let a=0;a<4;a+=1)n[a].c();this.h()},l(a){e=P(a,"OPTGROUP",{label:!0});var i=D(e);for(let o=0;o<4;o+=1)n[o].l(i);i.forEach(h),this.h()},h(){V(e,"label",t=Pe(s[74]))},m(a,i){S(a,e,i);for(let o=0;o<4;o+=1)n[o].m(e,null)},p(a,i){if(i&0){l=["","_letters","_names","_unity"];let o;for(o=0;o<4;o+=1){const c=il(a,l,o);n[o]?n[o].p(c,i):(n[o]=ml(c),n[o].c(),n[o].m(e,null))}for(;o<4;o+=1)n[o].d(1)}},d(a){a&&h(e),ge(n,a)}}}function js(s){let e,t,l,n,a,i,o,c,r=["assembly","senate","congress"],u=[];for(let v=0;v<3;v+=1)u[v]=vl(al(s,r,v));return a=new Yt({props:{aggregates:s[11],handleLabelClick:s[44],plan:s[14],stats:s[26],groups:Ge,changingLines:s[37],idealValues:Vt,variable:s[19]}}),{c(){e=y("div"),t=y("div"),l=y("select");for(let v=0;v<3;v+=1)u[v].c();n=O(),Le(a.$$.fragment),this.h()},l(v){e=P(v,"DIV",{slot:!0});var w=D(e);t=P(w,"DIV",{class:!0});var b=D(t);l=P(b,"SELECT",{class:!0});var _=D(l);for(let m=0;m<3;m+=1)u[m].l(_);_.forEach(h),b.forEach(h),n=N(w),je(a.$$.fragment,w),w.forEach(h),this.h()},h(){V(l,"class","svelte-t3tptk"),s[14]===void 0&&Ie(()=>s[61].call(l)),V(t,"class","plan-selector svelte-t3tptk"),V(e,"slot","body")},m(v,w){S(v,e,w),f(e,t),f(t,l);for(let b=0;b<3;b+=1)u[b].m(l,null);Re(l,s[14]),f(e,n),Ce(a,e,null),i=!0,o||(c=ke(l,"change",s[61]),o=!0)},p(v,w){if(w&0){r=["assembly","senate","congress"];let _;for(_=0;_<3;_+=1){const m=al(v,r,_);u[_]?u[_].p(m,w):(u[_]=vl(m),u[_].c(),u[_].m(l,null))}for(;_<3;_+=1)u[_].d(1)}w[0]&16384&&Re(l,v[14]);const b={};w[0]&2048&&(b.aggregates=v[11]),w[0]&16384&&(b.plan=v[14]),w[0]&67108864&&(b.stats=v[26]),w[0]&524288&&(b.variable=v[19]),a.$set(b)},i(v){i||(ce(a.$$.fragment,v),i=!0)},o(v){de(a.$$.fragment,v),i=!1},d(v){v&&h(e),ge(u,v),Oe(a),o=!1,c()}}}function Cs(s){let e,t=Tt(s[74]+s[77])+"",l,n,a;return{c(){e=y("option"),l=F(t),n=O(),this.h()},l(i){e=P(i,"OPTION",{});var o=D(e);l=R(o,t),n=N(o),o.forEach(h),this.h()},h(){e.__value=a=s[74]+s[77],e.value=e.__value},m(i,o){S(i,e,o),f(e,l),f(e,n)},p:Ee,d(i){i&&h(e)}}}function bl(s){let e,t=s[74]+s[77]!=="congress_unity"&&Cs(s);return{c(){t&&t.c(),e=fe()},l(l){t&&t.l(l),e=fe()},m(l,n){t&&t.m(l,n),S(l,e,n)},p(l,n){l[74]+l[77]!=="congress_unity"&&t.p(l,n)},d(l){t&&t.d(l),l&&h(e)}}}function kl(s){let e,t,l=["","_letters","_names","_unity"],n=[];for(let a=0;a<4;a+=1)n[a]=bl(nl(s,l,a));return{c(){e=y("optgroup");for(let a=0;a<4;a+=1)n[a].c();this.h()},l(a){e=P(a,"OPTGROUP",{label:!0});var i=D(e);for(let o=0;o<4;o+=1)n[o].l(i);i.forEach(h),this.h()},h(){V(e,"label",t=Pe(s[74]))},m(a,i){S(a,e,i);for(let o=0;o<4;o+=1)n[o].m(e,null)},p(a,i){if(i&0){l=["","_letters","_names","_unity"];let o;for(o=0;o<4;o+=1){const c=nl(a,l,o);n[o]?n[o].p(c,i):(n[o]=bl(c),n[o].c(),n[o].m(e,null))}for(;o<4;o+=1)n[o].d(1)}},d(a){a&&h(e),ge(n,a)}}}function Os(s){let e,t,l,n,a,i,o,c,r,u,v,w=["assembly","senate","congress"],b=[];for(let _=0;_<3;_+=1)b[_]=kl(sl(s,w,_));return c=new Yt({props:{aggregates:s[11],handleLabelClick:s[44],plan:s[15],stats:s[26],groups:Ge,changingLines:s[37],idealValues:Vt,variable:s[19]}}),{c(){e=y("div"),t=y("div"),l=y("input"),n=O(),a=y("div"),i=y("select");for(let _=0;_<3;_+=1)b[_].c();o=O(),Le(c.$$.fragment),this.h()},l(_){e=P(_,"DIV",{slot:!0});var m=D(e);t=P(m,"DIV",{class:!0});var T=D(t);l=P(T,"INPUT",{type:!0,min:!0,max:!0,step:!0}),T.forEach(h),n=N(m),a=P(m,"DIV",{class:!0});var g=D(a);i=P(g,"SELECT",{class:!0});var M=D(i);for(let B=0;B<3;B+=1)b[B].l(M);M.forEach(h),g.forEach(h),o=N(m),je(c.$$.fragment,m),m.forEach(h),this.h()},h(){V(l,"type","range"),V(l,"min","0"),V(l,"max","1.5"),V(l,"step","0.01"),V(t,"class","slider"),V(i,"class","svelte-t3tptk"),s[15]===void 0&&Ie(()=>s[63].call(i)),V(a,"class","plan-selector svelte-t3tptk"),V(e,"slot","body")},m(_,m){S(_,e,m),f(e,t),f(t,l),wt(l,s[30]),f(e,n),f(e,a),f(a,i);for(let T=0;T<3;T+=1)b[T].m(i,null);Re(i,s[15]),f(e,o),Ce(c,e,null),r=!0,u||(v=[ke(l,"change",s[62]),ke(l,"input",s[62]),ke(i,"change",s[63])],u=!0)},p(_,m){if(m[0]&1073741824&&wt(l,_[30]),m&0){w=["assembly","senate","congress"];let g;for(g=0;g<3;g+=1){const M=sl(_,w,g);b[g]?b[g].p(M,m):(b[g]=kl(M),b[g].c(),b[g].m(i,null))}for(;g<3;g+=1)b[g].d(1)}m[0]&32768&&Re(i,_[15]);const T={};m[0]&2048&&(T.aggregates=_[11]),m[0]&32768&&(T.plan=_[15]),m[0]&67108864&&(T.stats=_[26]),m[0]&524288&&(T.variable=_[19]),c.$set(T)},i(_){r||(ce(c.$$.fragment,_),r=!0)},o(_){de(c.$$.fragment,_),r=!1},d(_){_&&h(e),ge(b,_),Oe(c),u=!1,kt(v)}}}function Ns(s){let e,t,l,n,a,i;return{c(){e=y("div"),t=y("p"),l=F("Questions, suggestions, concerns --> "),n=y("a"),a=F("jason.kao@columbia.edu"),i=F("."),this.h()},l(o){e=P(o,"DIV",{class:!0});var c=D(e);t=P(c,"P",{});var r=D(t);l=R(r,"Questions, suggestions, concerns --> "),n=P(r,"A",{href:!0});var u=D(n);a=R(u,"jason.kao@columbia.edu"),u.forEach(h),i=R(r,"."),r.forEach(h),c.forEach(h),this.h()},h(){V(n,"href","mailto:jason.kao@console.edu"),V(e,"class","footer svelte-t3tptk")},m(o,c){S(o,e,c),f(e,t),f(t,l),f(t,n),f(n,a),f(t,i)},d(o){o&&h(e)}}}function Ss(s){let e,t,l,n,a,i,o,c,r,u,v,w,b,_,m,T,g,M,B,J,$,he;e=new Vs({props:{showModal:s[21],closeModal:s[40]}});let ie=s[4],W=[];for(let d=0;d<ie.length;d+=1)W[d]=fl(cl(s,ie,d));let K=s[5],L=[];for(let d=0;d<K.length;d+=1)L[d]=ul(rl(s,K,d));let j=s[22]&&hl(s),I=s[20]!==null&&pl(s);b=new tl({props:{panelName:"plan",panels:s[13],togglePanel:s[43],$$slots:{body:[js]},$$scope:{ctx:s}}}),m=new tl({props:{panelName:"plan2",panels:s[13],togglePanel:s[43],$$slots:{body:[Os]},$$scope:{ctx:s}}}),g=new Is({props:{viewBox:s[35],plansTopo:s[2],census:s[1],pointing:s[25],draggedBgs:s[9],data:s[3],path:Ye,color:s[42],changingLines:s[37],neighbor:s[41],showPluralities:s[12],metric:s[20],opacity:s[30],period:s[18],tractVars:s[6],panels:s[13],drawings:s[10],plan:s[14],plan2:s[15],points:s[8],tractMesh:s[39],bgMesh:s[28],mesh:s[38],aggregates:s[11],obj:s[0],togglePointing:s[48],handleLabelClick:s[44],isolate:s[27],congressPlans:s[16],plans:s[29],startDrag:s[45],endDrag:s[46],handleMouseMove:s[47],viewCutoff:s[33],showOnlyFocusDistricts:s[23],showStreets:s[36],streets:s[17],presentationMode:Bs}});let U=Ns();return{c(){Le(e.$$.fragment),t=O(),l=y("div"),n=y("div"),a=y("select"),i=y("option"),o=F("Select data"),c=y("optgroup");for(let d=0;d<W.length;d+=1)W[d].c();r=y("optgroup");for(let d=0;d<L.length;d+=1)L[d].c();u=O(),j&&j.c(),v=O(),I&&I.c(),w=O(),Le(b.$$.fragment),_=O(),Le(m.$$.fragment),T=O(),Le(g.$$.fragment),M=O(),U&&U.c(),this.h()},l(d){je(e.$$.fragment,d),t=N(d),l=P(d,"DIV",{class:!0,style:!0});var E=D(l);n=P(E,"DIV",{class:!0});var G=D(n);a=P(G,"SELECT",{style:!0,class:!0});var Z=D(a);i=P(Z,"OPTION",{});var le=D(i);o=R(le,"Select data"),le.forEach(h),c=P(Z,"OPTGROUP",{label:!0});var C=D(c);for(let ne=0;ne<W.length;ne+=1)W[ne].l(C);C.forEach(h),r=P(Z,"OPTGROUP",{label:!0});var z=D(r);for(let ne=0;ne<L.length;ne+=1)L[ne].l(z);z.forEach(h),Z.forEach(h),u=N(G),j&&j.l(G),v=N(G),I&&I.l(G),w=N(G),je(b.$$.fragment,G),_=N(G),je(m.$$.fragment,G),G.forEach(h),T=N(E),je(g.$$.fragment,E),M=N(E),U&&U.l(E),E.forEach(h),this.h()},h(){i.__value=null,i.value=i.__value,V(c,"label","Redistricting data"),V(r,"label","American Community Survey data"),me(a,"width",s[5].includes(s[19])?"auto":"calc(var(--control-width) + 45px * 0)"),V(a,"class","svelte-t3tptk"),s[19]===void 0&&Ie(()=>s[57].call(a)),V(n,"class","controls svelte-t3tptk"),V(l,"class","container svelte-t3tptk"),me(l,"cursor",s[24]?"crosshair":"auto"),me(l,"--container-font",s[31]+"px"),me(l,"--control-width",270+(s[31]-16)*10+"px"),Ie(()=>s[64].call(l))},m(d,E){Ce(e,d,E),S(d,t,E),S(d,l,E),f(l,n),f(n,a),f(a,i),f(i,o),f(a,c);for(let G=0;G<W.length;G+=1)W[G].m(c,null);f(a,r);for(let G=0;G<L.length;G+=1)L[G].m(r,null);Re(a,s[19]),f(n,u),j&&j.m(n,null),f(n,v),I&&I.m(n,null),f(n,w),Ce(b,n,null),f(n,_),Ce(m,n,null),f(l,T),Ce(g,l,null),f(l,M),U&&U.m(l,null),B=Yl(l,s[64].bind(l)),J=!0,$||(he=[ke(window,"keydown",s[49]),ke(a,"change",s[57])],$=!0)},p(d,E){const G={};if(E[0]&2097152&&(G.showModal=d[21]),e.$set(G),E[0]&16){ie=d[4];let z;for(z=0;z<ie.length;z+=1){const ne=cl(d,ie,z);W[z]?W[z].p(ne,E):(W[z]=fl(ne),W[z].c(),W[z].m(c,null))}for(;z<W.length;z+=1)W[z].d(1);W.length=ie.length}if(E[0]&32){K=d[5];let z;for(z=0;z<K.length;z+=1){const ne=rl(d,K,z);L[z]?L[z].p(ne,E):(L[z]=ul(ne),L[z].c(),L[z].m(r,null))}for(;z<L.length;z+=1)L[z].d(1);L.length=K.length}(!J||E[0]&524320)&&me(a,"width",d[5].includes(d[19])?"auto":"calc(var(--control-width) + 45px * 0)"),E[0]&524336&&Re(a,d[19]),d[22]?j?(j.p(d,E),E[0]&4194304&&ce(j,1)):(j=hl(d),j.c(),ce(j,1),j.m(n,v)):j&&(Qe(),de(j,1,1,()=>{j=null}),Je()),d[20]!==null?I?(I.p(d,E),E[0]&1048576&&ce(I,1)):(I=pl(d),I.c(),ce(I,1),I.m(n,w)):I&&(Qe(),de(I,1,1,()=>{I=null}),Je());const Z={};E[0]&8192&&(Z.panels=d[13]),E[0]&67651584|E[2]&1073741824&&(Z.$$scope={dirty:E,ctx:d}),b.$set(Z);const le={};E[0]&8192&&(le.panels=d[13]),E[0]&1141409792|E[2]&1073741824&&(le.$$scope={dirty:E,ctx:d}),m.$set(le);const C={};E[1]&16&&(C.viewBox=d[35]),E[0]&4&&(C.plansTopo=d[2]),E[0]&2&&(C.census=d[1]),E[0]&33554432&&(C.pointing=d[25]),E[0]&512&&(C.draggedBgs=d[9]),E[0]&8&&(C.data=d[3]),E[0]&4096&&(C.showPluralities=d[12]),E[0]&1048576&&(C.metric=d[20]),E[0]&1073741824&&(C.opacity=d[30]),E[0]&262144&&(C.period=d[18]),E[0]&64&&(C.tractVars=d[6]),E[0]&8192&&(C.panels=d[13]),E[0]&1024&&(C.drawings=d[10]),E[0]&16384&&(C.plan=d[14]),E[0]&32768&&(C.plan2=d[15]),E[0]&256&&(C.points=d[8]),E[0]&268435456&&(C.bgMesh=d[28]),E[0]&2048&&(C.aggregates=d[11]),E[0]&1&&(C.obj=d[0]),E[0]&134217728&&(C.isolate=d[27]),E[0]&65536&&(C.congressPlans=d[16]),E[0]&536870912&&(C.plans=d[29]),E[1]&4&&(C.viewCutoff=d[33]),E[0]&8388608&&(C.showOnlyFocusDistricts=d[23]),E[0]&131072&&(C.streets=d[17]),g.$set(C),(!J||E[0]&16777216)&&me(l,"cursor",d[24]?"crosshair":"auto"),(!J||E[1]&1)&&me(l,"--container-font",d[31]+"px"),(!J||E[1]&1)&&me(l,"--control-width",270+(d[31]-16)*10+"px")},i(d){J||(ce(e.$$.fragment,d),ce(j),ce(I),ce(b.$$.fragment,d),ce(m.$$.fragment,d),ce(g.$$.fragment,d),J=!0)},o(d){de(e.$$.fragment,d),de(j),de(I),de(b.$$.fragment,d),de(m.$$.fragment,d),de(g.$$.fragment,d),J=!1},d(d){Oe(e,d),d&&h(t),d&&h(l),ge(W,d),ge(L,d),j&&j.d(),I&&I.d(),Oe(b),Oe(m),Oe(g),U&&U.d(),B(),$=!1,kt(he)}}}async function Gs({fetch:s}){const e=await(await s(`${Ke}/output_census_wgs84.topojson`)).json(),t=as(e.objects.census),l=bt(e,t),n=l.features,a=["pop","vap","cvap"],i=[...n.reduce((c,r)=>{const u=Object.keys(r.properties).filter(v=>[...a,"GEOID","senate","assembly","congress"].every(w=>!v.includes(w))&&v===v.toLowerCase()).map(v=>v.split("_")[0]);return new Set([...c,...u])},[])],o=n.reduce((c,r,u)=>(c[r.properties.GEOID]=u,c),{});return{props:{topoData:e,obj:t,data:n,neighbors:Zl(t.geometries),dynamicVars:a,staticVars:i,idToIndex:o,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"],census:l,plansTopo:await(await s(`${Ke}/plans.topojson`)).json(),points:await(await s(`${Ke}/points.geojson`)).json()}}}let Bs=!1;function As(s,e,t){let l,n,a,i,{topoData:o,obj:c,neighbors:r,census:u,plansTopo:v,data:w,dynamicVars:b,staticVars:_,tractVars:m,pluralityVars:T,idToIndex:g,points:M}=e,B,J,$=!0,he=!1,ie,W,K,L,j,I=[],U=[],d=[],E={},G=!1,Z=!0,le=[],C="senate_letters",z="senate_unity",ne,Te,A,Y,ee=.75,se=18,X,we=870,De=Object.keys(Et)[0];const p=k=>xl(o,c,k),x=Ye(p((k,te)=>Ve(k).substring(0,11)!==Ve(te).substring(0,11))),ye=()=>t(21,J=!1);vt(async()=>{t(28,ne=Ye(os(p((te,H)=>Ve(te)!==Ve(H)))));const k=await Promise.all([rs()]);t(29,Y=k[0]),t(33,we=w.length)});let q;const oe=k=>w[k].properties[C];function Q(k){const te=oe(k),H=new Set(r[k].map(oe).filter(ae=>ae!==te));if(H.size===1)t(0,c.geometries[k].properties[C]=q=H.values().next().value,c);else if(H.has(q))t(0,c.geometries[k].properties[C]=q,c);else return;t(0,c)}let _e="present",pe="vap";const Ne={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6],vap:[0,.1,.2,.4,.6]};function wl({properties:k}){if(n===null)return console.trace(),null;if(!k.ALAND)return"rgba(0, 0, 0, 0)";const te=k[`${n}_total`];if(T.includes(n)){const H=ue=>k[`${n}_${ue}`];if(H(xe[0])===null)return"rgba(0, 0, 0, 0)";const ae=[...xe].sort((ue,Se)=>H(Se)-H(ue));return Ue[xe.indexOf(ae[0])]}else if(_.includes(n)){if(!Dt(a(k))||te<=10)return"rgba(0, 0, 0, 0)";for(let H=1;H<i.length;H++)if(a(k)<i[H])return Ue[H];return Ue[i.length-1]}else{if(te<=10)return"rgba(0, 0, 0, 0)";const H=ae=>k[`${n}_${ae}`]/k[`${n}_total`];if(Z){const ae=Ge.filter(qe=>H(qe)>.5)[0];if(ae!==void 0)return it[ae]+at[te<130?0:te<200?1:2];const ue=[...Ge].sort((qe,He)=>H(He)-H(qe)),Se=H(ue[0])-H(ue[1]);return it[ue[0]]+at[Se<.093?0:1]}else{const ae=Ne[pe];for(let ue=1;ue<ae.length;ue++)if(H("asian")<ae[ue])return Xe[ue-1];return Xe[ae.length-1]}}}const yl=async()=>t(16,Te=await cs());function $e(k){const te=typeof k[0]=="string"?k.map(be=>w[g[be]].properties):k.map(be=>be.properties),H=(be,Me)=>te.reduce((Rl,ct)=>Rl+(ct[be]||0)*(Me&&ct[Me]||1),0),ae=be=>H(be,"pop20_total")/H("pop20_total"),ue=(be,Me)=>H(`${be}_${Me}`)/H(`${be}_total`);let Se=H("pop10_asian"),qe=H("pop20_asian"),He=H("cvap10_asian"),Fl=H("cvap19_asian");const rt={income:ae("income"),hhlang:ue("hhlang","asian"),benefits:ue("families","benefits"),pop20_total:H("pop20_total"),pct_increase:(qe-Se)/Se,pct_increase_cvap:(Fl-He)/He};return["pop20","vap20","cvap19","pop10","vap10","cvap10"].forEach(be=>Ge.forEach(Me=>rt[be+Me]=ue(be,Me))),rt}async function Pl(){try{const k=await fetch(`${Ke}/data.json`);t(10,U=(await k.json()).map(te=>tt(et({},te),{stats:$e(te.ids)})))}catch(k){console.error(k)}}const El=k=>t(13,le=le.includes(k)?le.filter(te=>te!==k):[...le,k]);function Dl(k,te=!1,H=!1){d.includes(k)?te||t(11,d=d.filter(ae=>ae!==k)):H||t(11,d=[...d,k])}const Vl=()=>t(53,W=!0),Tl=()=>t(53,W=t(24,ie=!1)),Ml=k=>ie&&W&&(I.length===0?t(9,I=[Ve(k)]):I.push(Ve(k))),ot=()=>t(25,L=!L);function Il({key:k}){k===" "&&ot(),k==="i"&&t(27,G=!G)}const Ll=[[]];function jl(){pe=nt(this),t(19,pe),t(5,_),t(4,b)}function Cl(){_e=this.__value,t(18,_e)}const Ol=()=>t(12,Z=!Z);function Nl(){C=nt(this),t(14,C)}function Sl(){ee=ss(this.value),t(30,ee)}function Bl(){z=nt(this),t(15,z)}function Al(){X=this.clientWidth,t(32,X)}return s.$$set=k=>{"topoData"in k&&t(50,o=k.topoData),"obj"in k&&t(0,c=k.obj),"neighbors"in k&&t(51,r=k.neighbors),"census"in k&&t(1,u=k.census),"plansTopo"in k&&t(2,v=k.plansTopo),"data"in k&&t(3,w=k.data),"dynamicVars"in k&&t(4,b=k.dynamicVars),"staticVars"in k&&t(5,_=k.staticVars),"tractVars"in k&&t(6,m=k.tractVars),"pluralityVars"in k&&t(7,T=k.pluralityVars),"idToIndex"in k&&t(52,g=k.idToIndex),"points"in k&&t(8,M=k.points)},s.$$.update=()=>{if(s.$$.dirty[0]&786464&&t(20,n=_.includes(pe)?pe:pe&&pe+(_e==="past"?10:pe==="cvap"?19:20)),s.$$.dirty[0]&1048576&&t(56,a={income:k=>k[n],hhlang:k=>k[`${n}_asian`]/k[`${n}_total`],graduates:k=>(k[`${n}_hs_grad`]+k[`${n}_ba_above`])/k[`${n}_total`],families:k=>k[`${n}_benefits`]/k[`${n}_total`],workers:k=>k[`${n}_publictransport`]/k[`${n}_total`]}[n]),s.$$.dirty[0]&1577016|s.$$.dirty[1]&50331648&&t(34,i=b.includes(pe)&&!Z?Ne[pe]:Ne[n]||!_.includes(n)||n==="asiaentry"||t(55,Ne[n]=$l(w.map(k=>a(k.properties)).filter(Dt),6),Ne)),s.$$.dirty[0]&1544|s.$$.dirty[1]&4194304&&!W&&I.length>0){if(I[0]===I[I.length-1]){const k=new Set(I),te=es(p((ae,ue)=>is(k.has(Ve(ae)),k.has(Ve(ue)))).coordinates.flat()),H=w.filter(ae=>ts(ls(ae.geometry.coordinates[0]),te)).map(Ve);t(10,U=[...U,{outline:Ye({type:"LineString",coordinates:te}),ids:H,stats:$e(H)}])}t(9,I=[])}if(s.$$.dirty[0]&114688&&(C+z).includes("congress")&&Te===void 0&&yl(),s.$$.dirty[0]&131072,s.$$.dirty[0]&8192|s.$$.dirty[1]&8388608&&le.includes("communities")&&!j&&(Pl(),t(54,j=!0)),s.$$.dirty[0]&51201)for(let k=0;k<d.length;k++){const[te,H]=d[k].split(",");(te===C||te===z)&&t(26,E[d[k]]=$e(c.geometries.filter(({properties:ae})=>H===""+ae[te])),E)}},t(35,l=Et[De]),[c,u,v,w,b,_,m,T,M,I,U,d,Z,le,C,z,Te,A,_e,pe,n,J,$,he,ie,L,E,G,ne,Y,ee,se,X,we,i,l,B,K,p,x,ye,Q,wl,El,Dl,Vl,Tl,Ml,ot,Il,o,r,g,W,j,Ne,a,jl,Cl,Ll,Ol,Nl,Sl,Bl,Al]}class qs extends Be{constructor(e){super();Ae(this,e,As,Ss,Fe,{topoData:50,obj:0,neighbors:51,census:1,plansTopo:2,data:3,dynamicVars:4,staticVars:5,tractVars:6,pluralityVars:7,idToIndex:52,points:8},null,[-1,-1,-1])}}export{qs as default,Gs as load};
