var xt=Object.defineProperty,es=Object.defineProperties;var ls=Object.getOwnPropertyDescriptors;var Nl=Object.getOwnPropertySymbols;var ts=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable;var Il=(l,e,t)=>e in l?xt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Ll=(l,e)=>{for(var t in e||(e={}))ts.call(e,t)&&Il(l,t,e[t]);if(Nl)for(var t of Nl(e))ss.call(e,t)&&Il(l,t,e[t]);return l},Bl=(l,e)=>es(l,ls(e));import{S as Ze,i as $e,s as xe,e as D,t as z,c as V,a as k,g as R,d as _,b as p,J as ne,f as N,H as u,h as re,l as X,K as we,L as Ee,M as Ne,N as fe,O as Dl,P as il,Q as Ae,R as Ue,T as Se,U as qe,V as ve,x as Q,r as Be,u as te,w as je,W as ol,k as L,n as B,X as Vl,Y as ns,Z as as,I as Fe,_ as is,$ as os,D as jl,E as zl,F as Rl,G as Hl,a0 as vl,a1 as rs,a2 as fs,j as Ge,m as We,o as Ye,a3 as el,a4 as cs,v as Ke,A as us,a5 as hs,a6 as _s,a7 as ds,a8 as gs,a9 as Tl}from"../chunks/vendor-10aa861a.js";import{b as Ml}from"../chunks/paths-28a87002.js";import{i as Ce,D as Ul,p as ue,m as ll,c as Qe,a as ql,d as Fl,u as ms,r as Gl,b as bl,e as Wl,x as ps,g as vs,f as bs,h as ks,j as ws,k as Es}from"../chunks/utils-afdfe145.js";const yl={black:"#9fd400",hispanic:"#ffaa00",asian:"#ff0000",white:"#73B2FF"},Al=["44","99","ee"],tl=["asian","black","hispanic","white"],kl=["1990_earlier","1990_1999","2000_2009","2010_later"],wl={hhlang:"Proportion of households that speak an Asian language and are LEP",income:"Median household income",graduates:"Proportion of people who graduated >= high school",families:"Proportion of families who receive gov't benefits",asiaentry:"Dominant entry period for Asian families",workers:"Proportion of workers who take public transportation",cvap:"Citizen voting age population by race",pop:"Population by race / \u6309\u79CD\u65CF\u5212\u5206\u7684\u4EBA\u53E3"},El=["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26"],sl=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],Ps={assembly_letters:134675,assembly_names:134626,senate_letters:320655,senate_names:321190,congress_letters:776971,congress_names:776971},nl={Chinatown:[80,500,300,220],"Chinatown Wide":[80,430,500,600],Brooklyn:[20,670,600,520],Queens:[200,290,775,600],"All of NYC":[20,0,975,1220]},Ds={assembly:"49 47 45 41 51 48".split(" ").map(l=>+l),assembly_letters:"AU AW AS AT AV AY AO".split(" "),assembly_names:"BNSNHRST GRAVESEND MADFLAT CNYSHPSHD BAYDYKER SUNSET BOROUGHPARK".split(" "),senate:"20 17 23 22 19".split(" ").map(l=>+l),senate_letters:"G AA Q AC".split(" "),senate_names:"SNSTPRK BAYGRAVES MADMID STATENCONEY FLATBUSH".split(" ")};if(typeof window=="undefined"){const[l,e,t,s]=nl[Object.keys(nl)[0]];console.log(`${l},${e},${l+t},${e+s}`)}function Yl(l,e,t){const s=l.slice();return s[49]=e[t],s}function Kl(l,e,t){const s=l.slice();return s[52]=e[t].properties,s[53]=e[t].geometry.coordinates[0],s[54]=e[t].geometry.coordinates[1],s}function Ql(l,e,t){const s=l.slice();return s[57]=e[t].outline,s}function Jl(l,e,t){const s=l.slice();return s[49]=e[t],s[61]=t,s}function Xl(l){let e,t=l[35].label+"",s;return{c(){e=D("p"),s=z(t),this.h()},l(n){e=V(n,"P",{class:!0,style:!0});var a=k(e);s=R(a,t),a.forEach(_),this.h()},h(){p(e,"class","street-inspector svelte-12yd007"),ne(e,"left",l[35].x+"px"),ne(e,"top","calc("+l[35].y+"px - 1.2em)")},m(n,a){N(n,e,a),u(e,s)},p(n,a){a[1]&16&&t!==(t=n[35].label+"")&&re(s,t),a[1]&16&&ne(e,"left",n[35].x+"px"),a[1]&16&&ne(e,"top","calc("+n[35].y+"px - 1.2em)")},d(n){n&&_(e)}}}function Zl(l){let e,t,s,n,a;function i(){return l[39](l[61])}function o(){return l[40](l[49])}function f(){return l[41](l[49])}return{c(){e=we("path"),this.h()},l(r){e=Ee(r,"path",{d:!0,fill:!0,class:!0}),k(e).forEach(_),this.h()},h(){p(e,"d",t=l[5](l[49])),p(e,"fill",s=l[6](l[49],l[10],l[11],l[9])),p(e,"class","svelte-12yd007"),Ne(e,"head",l[3][0]===Ce(l[49]))},m(r,c){N(r,e,c),n||(a=[fe(e,"click",i),fe(e,"contextmenu",Dl(o)),fe(e,"mousemove",Dl(f))],n=!0)},p(r,c){l=r,c[0]&48&&t!==(t=l[5](l[49]))&&p(e,"d",t),c[0]&3664&&s!==(s=l[6](l[49],l[10],l[11],l[9]))&&p(e,"fill",s),c[0]&24&&Ne(e,"head",l[3][0]===Ce(l[49]))},d(r){r&&_(e),n=!1,il(a)}}}function $l(l,e){let t,s,n=e[61]<e[27]&&Zl(e);return{key:l,first:null,c(){t=X(),n&&n.c(),s=X(),this.h()},l(a){t=X(),n&&n.l(a),s=X(),this.h()},h(){this.first=t},m(a,i){N(a,t,i),n&&n.m(a,i),N(a,s,i)},p(a,i){e=a,e[61]<e[27]?n?n.p(e,i):(n=Zl(e),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(a){a&&_(t),n&&n.d(a),a&&_(s)}}}function xl(l){let e,t;return{c(){e=we("path"),this.h()},l(s){e=Ee(s,"path",{class:!0,d:!0}),k(e).forEach(_),this.h()},h(){p(e,"class","mesh-bg svelte-12yd007"),p(e,"d",t=l[12].includes(l[10])?l[17]:l[18])},m(s,n){N(s,e,n)},p(s,n){n[0]&398336&&t!==(t=s[12].includes(s[10])?s[17]:s[18])&&p(e,"d",t)},d(s){s&&_(e)}}}function et(l){let e,t,s,n,a=l[13],i=[];for(let o=0;o<a.length;o+=1)i[o]=lt(Ql(l,a,o));return{c(){e=we("g");for(let o=0;o<i.length;o+=1)i[o].c()},l(o){e=Ee(o,"g",{});var f=k(e);for(let r=0;r<i.length;r+=1)i[r].l(f);f.forEach(_)},m(o,f){N(o,e,f);for(let r=0;r<i.length;r+=1)i[r].m(e,null);n=!0},p(o,f){if(f[0]&8192){a=o[13];let r;for(r=0;r<a.length;r+=1){const c=Ql(o,a,r);i[r]?i[r].p(c,f):(i[r]=lt(c),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}},i(o){n||(Ae(()=>{s&&s.end(1),t=Ue(e,Se,{}),t.start()}),n=!0)},o(o){t&&t.invalidate(),s=qe(e,Se,{}),n=!1},d(o){o&&_(e),ve(i,o),o&&s&&s.end()}}}function lt(l){let e,t;return{c(){e=we("path"),this.h()},l(s){e=Ee(s,"path",{class:!0,d:!0}),k(e).forEach(_),this.h()},h(){p(e,"class","mesh-community svelte-12yd007"),p(e,"d",t=l[57])},m(s,n){N(s,e,n)},p(s,n){n[0]&8192&&t!==(t=s[57])&&p(e,"d",t)},d(s){s&&_(e)}}}function tt(l){let e,t,s,n,a,i;return{c(){e=we("g"),t=we("path"),this.h()},l(o){e=Ee(o,"g",{});var f=k(e);t=Ee(f,"path",{class:!0,d:!0}),k(t).forEach(_),f.forEach(_),this.h()},h(){p(t,"class","mesh-district svelte-12yd007"),p(t,"d",s=l[37](l[15],l[23],l[22],l[28])),Ne(t,"showPluralities",l[9])},m(o,f){N(o,e,f),u(e,t),i=!0},p(o,f){(!i||f[0]&281051136&&s!==(s=o[37](o[15],o[23],o[22],o[28])))&&p(t,"d",s),f[0]&512&&Ne(t,"showPluralities",o[9])},i(o){i||(Ae(()=>{a&&a.end(1),n=Ue(e,Se,{}),n.start()}),i=!0)},o(o){n&&n.invalidate(),a=qe(e,Se,{}),i=!1},d(o){o&&_(e),o&&a&&a.end()}}}function st(l){let e,t,s,n,a,i;return{c(){e=we("g"),t=we("path"),this.h()},l(o){e=Ee(o,"g",{});var f=k(e);t=Ee(f,"path",{class:!0,d:!0}),k(t).forEach(_),f.forEach(_),this.h()},h(){p(t,"class","mesh-district svelte-12yd007"),p(t,"d",s=l[5](l[19](l[42],l[0])))},m(o,f){N(o,e,f),u(e,t),i=!0},p(o,f){(!i||f[0]&557089&&s!==(s=o[5](o[19](o[42],o[0]))))&&p(t,"d",s)},i(o){i||(Ae(()=>{a&&a.end(1),n=Ue(e,Se,{}),n.start()}),i=!0)},o(o){n&&n.invalidate(),a=qe(e,Se,{}),i=!1},d(o){o&&_(e),o&&a&&a.end()}}}function nt(l){let e,t,s,n,a,i=l[16],o=[];for(let c=0;c<i.length;c+=1)o[c]=it(Kl(l,i,c));const f=c=>te(o[c],1,1,()=>{o[c]=null});let r=l[34]&&ot(l);return{c(){e=we("g");for(let c=0;c<o.length;c+=1)o[c].c();t=X(),r&&r.c(),this.h()},l(c){e=Ee(c,"g",{class:!0});var d=k(e);for(let g=0;g<o.length;g+=1)o[g].l(d);t=X(),r&&r.l(d),d.forEach(_),this.h()},h(){p(e,"class","labels svelte-12yd007")},m(c,d){N(c,e,d);for(let g=0;g<o.length;g+=1)o[g].m(e,null);u(e,t),r&&r.m(e,null),a=!0},p(c,d){if(d[0]&3244032|d[1]&44){i=c[16];let g;for(g=0;g<i.length;g+=1){const m=Kl(c,i,g);o[g]?(o[g].p(m,d),Q(o[g],1)):(o[g]=it(m),o[g].c(),Q(o[g],1),o[g].m(e,t))}for(Be(),g=i.length;g<o.length;g+=1)f(g);je()}c[34]?r?r.p(c,d):(r=ot(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){if(!a){for(let d=0;d<i.length;d+=1)Q(o[d]);Ae(()=>{n&&n.end(1),s=Ue(e,Se,{}),s.start()}),a=!0}},o(c){o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)te(o[d]);s&&s.invalidate(),n=qe(e,Se,{}),a=!1},d(c){c&&_(e),ve(o,c),r&&r.d(),c&&n&&n.end()}}}function at(l){let e,t=l[52][l[15]]+"",s,n,a,i,o,f,r,c;function d(){return l[43](l[52])}function g(){return l[44](l[52])}return{c(){e=we("text"),s=z(t),this.h()},l(m){e=Ee(m,"text",{x:!0,y:!0,class:!0});var v=k(e);s=R(v,t),v.forEach(_),this.h()},h(){p(e,"x",n=l[53]),p(e,"y",a=l[54]),p(e,"class","svelte-12yd007"),Ne(e,"chosen",l[20].includes(`${l[15]},${l[52][l[15]]}`))},m(m,v){N(m,e,v),u(e,s),f=!0,r||(c=[fe(e,"click",d),fe(e,"mousemove",g),fe(e,"mouseout",l[45]),fe(e,"blur",void 0)],r=!0)},p(m,v){l=m,(!f||v[0]&98304)&&t!==(t=l[52][l[15]]+"")&&re(s,t),(!f||v[0]&65536&&n!==(n=l[53]))&&p(e,"x",n),(!f||v[0]&65536&&a!==(a=l[54]))&&p(e,"y",a),v[0]&1146880&&Ne(e,"chosen",l[20].includes(`${l[15]},${l[52][l[15]]}`))},i(m){f||(Ae(()=>{o&&o.end(1),i=Ue(e,Se,{}),i.start()}),f=!0)},o(m){i&&i.invalidate(),o=qe(e,Se,{}),f=!1},d(m){m&&_(e),m&&o&&o.end(),r=!1,il(c)}}}function it(l){let e=l[15]in l[52]&&(!l[36]||l[36]&&l[33].includes(l[52][l[15]])),t,s,n=e&&at(l);return{c(){n&&n.c(),t=X()},l(a){n&&n.l(a),t=X()},m(a,i){n&&n.m(a,i),N(a,t,i),s=!0},p(a,i){i[0]&98304|i[1]&36&&(e=a[15]in a[52]&&(!a[36]||a[36]&&a[33].includes(a[52][a[15]]))),e?n?(n.p(a,i),i[0]&98304|i[1]&36&&Q(n,1)):(n=at(a),n.c(),Q(n,1),n.m(t.parentNode,t)):n&&(Be(),te(n,1,1,()=>{n=null}),je())},i(a){s||(Q(n),s=!0)},o(a){te(n),s=!1},d(a){n&&n.d(a),a&&_(t)}}}function ot(l){let e,t;return{c(){e=we("path"),this.h()},l(s){e=Ee(s,"path",{class:!0,d:!0}),k(e).forEach(_),this.h()},h(){p(e,"class","mesh-onhover mesh-district svelte-12yd007"),p(e,"d",t=l[0]&&l[5](ol(l[32],{type:l[0].type,geometries:l[0].geometries.filter(l[46])})))},m(s,n){N(s,e,n)},p(s,n){n[0]&32801|n[1]&10&&t!==(t=s[0]&&s[5](ol(s[32],{type:s[0].type,geometries:s[0].geometries.filter(s[46])})))&&p(e,"d",t)},d(s){s&&_(e)}}}function rt(l){let e,t,s,n=l[31],a=[];for(let i=0;i<n.length;i+=1)a[i]=ft(Yl(l,n,i));return{c(){e=we("g");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=Ee(i,"g",{class:!0});var o=k(e);for(let f=0;f<a.length;f+=1)a[f].l(o);o.forEach(_),this.h()},h(){p(e,"class","streets svelte-12yd007"),Ne(e,"showStreets",l[29])},m(i,o){N(i,e,o);for(let f=0;f<a.length;f+=1)a[f].m(e,null);t||(s=fe(e,"mousemove",l[48]),t=!0)},p(i,o){if(o[0]&536870944|o[1]&129){n=i[31];let f;for(f=0;f<n.length;f+=1){const r=Yl(i,n,f);a[f]?a[f].p(r,o):(a[f]=ft(r),a[f].c(),a[f].m(e,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=n.length}o[0]&536870912&&Ne(e,"showStreets",i[29])},d(i){i&&_(e),ve(a,i),t=!1,s()}}}function ft(l){let e,t,s,n;function a(...i){return l[47](l[49],...i)}return{c(){e=we("path"),this.h()},l(i){e=Ee(i,"path",{d:!0,class:!0}),k(e).forEach(_),this.h()},h(){p(e,"d",t=l[5](l[49])),p(e,"class","svelte-12yd007")},m(i,o){N(i,e,o),s||(n=fe(e,"click",Dl(a)),s=!0)},p(i,o){l=i,o[0]&32|o[1]&1&&t!==(t=l[5](l[49]))&&p(e,"d",t)},d(i){i&&_(e),s=!1,n()}}}function Vs(l){let e,t,s,n=[],a=new Map,i,o,f=l[14].includes("communities"),r,c=l[14].includes("plans")&&!l[7],d,g,m=l[14].includes("plans")||l[7],v,b,M,T,A,I=l[35]&&Xl(l),U=l[4];const G=y=>Ce(y[49]);for(let y=0;y<U.length;y+=1){let h=Jl(l,U,y),E=G(h);a.set(E,n[y]=$l(E,h))}let W=l[18]&&xl(l),Y=f&&et(l),q=c&&tt(l),S=l[7]&&st(l),C=m&&nt(l),O=l[31]&&rt(l);return{c(){I&&I.c(),e=L(),t=we("svg"),s=we("g");for(let y=0;y<n.length;y+=1)n[y].c();i=we("g"),W&&W.c(),o=X(),Y&&Y.c(),r=X(),q&&q.c(),d=X(),S&&S.c(),g=X(),C&&C.c(),v=X(),O&&O.c(),this.h()},l(y){I&&I.l(y),e=B(y),t=Ee(y,"svg",{viewBox:!0,style:!0,class:!0});var h=k(t);s=Ee(h,"g",{class:!0});var E=k(s);for(let Z=0;Z<n.length;Z+=1)n[Z].l(E);E.forEach(_),i=Ee(h,"g",{class:!0});var j=k(i);W&&W.l(j),o=X(),Y&&Y.l(j),r=X(),q&&q.l(j),d=X(),S&&S.l(j),g=X(),C&&C.l(j),v=X(),O&&O.l(j),j.forEach(_),h.forEach(_),this.h()},h(){p(s,"class","block-groups svelte-12yd007"),p(i,"class","meshes svelte-12yd007"),p(t,"viewBox",b=l[1].join(" ")),ne(t,"--font-size",(l[2]||.8)+"em"),ne(t,"--mesh-thin",l[30]?.6:.2),ne(t,"--mesh-thick",l[30]?2.2:1.1),p(t,"class","svelte-12yd007")},m(y,h){I&&I.m(y,h),N(y,e,h),N(y,t,h),u(t,s);for(let E=0;E<n.length;E+=1)n[E].m(s,null);u(t,i),W&&W.m(i,null),u(i,o),Y&&Y.m(i,null),u(i,r),q&&q.m(i,null),u(i,d),S&&S.m(i,null),u(i,g),C&&C.m(i,null),u(i,v),O&&O.m(i,null),M=!0,T||(A=[fe(t,"mousedown",function(){Vl(l[24])&&l[24].apply(this,arguments)}),fe(t,"mouseup",function(){Vl(l[25])&&l[25].apply(this,arguments)})],T=!0)},p(y,h){l=y,l[35]?I?I.p(l,h):(I=Xl(l),I.c(),I.m(e.parentNode,e)):I&&(I.d(1),I=null),h[0]&201363448&&(U=l[4],n=ns(n,h,G,1,l,U,a,s,as,$l,null,Jl)),l[18]?W?W.p(l,h):(W=xl(l),W.c(),W.m(i,o)):W&&(W.d(1),W=null),h[0]&16384&&(f=l[14].includes("communities")),f?Y?(Y.p(l,h),h[0]&16384&&Q(Y,1)):(Y=et(l),Y.c(),Q(Y,1),Y.m(i,r)):Y&&(Be(),te(Y,1,1,()=>{Y=null}),je()),h[0]&16512&&(c=l[14].includes("plans")&&!l[7]),c?q?(q.p(l,h),h[0]&16512&&Q(q,1)):(q=tt(l),q.c(),Q(q,1),q.m(i,d)):q&&(Be(),te(q,1,1,()=>{q=null}),je()),l[7]?S?(S.p(l,h),h[0]&128&&Q(S,1)):(S=st(l),S.c(),Q(S,1),S.m(i,g)):S&&(Be(),te(S,1,1,()=>{S=null}),je()),h[0]&16512&&(m=l[14].includes("plans")||l[7]),m?C?(C.p(l,h),h[0]&16512&&Q(C,1)):(C=nt(l),C.c(),Q(C,1),C.m(i,v)):C&&(Be(),te(C,1,1,()=>{C=null}),je()),l[31]?O?O.p(l,h):(O=rt(l),O.c(),O.m(i,null)):O&&(O.d(1),O=null),(!M||h[0]&2&&b!==(b=l[1].join(" ")))&&p(t,"viewBox",b),(!M||h[0]&4)&&ne(t,"--font-size",(l[2]||.8)+"em"),(!M||h[0]&1073741824)&&ne(t,"--mesh-thin",l[30]?.6:.2),(!M||h[0]&1073741824)&&ne(t,"--mesh-thick",l[30]?2.2:1.1)},i(y){M||(Q(Y),Q(q),Q(S),Q(C),M=!0)},o(y){te(Y),te(q),te(S),te(C),M=!1},d(y){I&&I.d(y),y&&_(e),y&&_(t);for(let h=0;h<n.length;h+=1)n[h].d();W&&W.d(),Y&&Y.d(),q&&q.d(),S&&S.d(),C&&C.d(),O&&O.d(),T=!1,il(A)}}}function Ts(l,e,t){let s,n,a,{viewBox:i,labelSize:o,draggedBgs:f,data:r,path:c,color:d,changingLines:g,neighbor:m,showPluralities:v,metric:b,period:M,tractVars:T,drawings:A,panels:I,plan:U,points:G=[],tractMesh:W,bgMesh:Y,mesh:q,aggregates:S,obj:C,handleLabelClick:O,congressPlans:y,plans:h,startDrag:E,endDrag:j,handleMouseMove:Z,viewCutoff:ae,showOnlyFocusDistricts:ie,showStreets:se,presentationMode:K,streets:F}=e;function me(){if(!!a)return c(n?ol(a,{type:C.type,geometries:C.geometries.filter(P=>s.includes(P.properties[U]))}):ol(a,C,(P,de)=>Ul(P)!==Ul(de)))}let he,ee;function J({pageX:P,pageY:de},{properties:{Label:Je}}){t(35,ee={x:P,y:de,label:Je})}const $=P=>g&&U.includes("_")&&m(P),x=P=>console.log(P.properties),De=P=>Z(P),Ve=(P,de)=>P.properties[U]!==de.properties[U],be=P=>O(`${U},${P[U]}`),oe=P=>t(34,he=P[U]),Pe=()=>t(34,he=null),ke=P=>he===P.properties[U],Te=(P,de)=>se&&J(de,P),ye=()=>t(35,ee=null);return l.$$set=P=>{"viewBox"in P&&t(1,i=P.viewBox),"labelSize"in P&&t(2,o=P.labelSize),"draggedBgs"in P&&t(3,f=P.draggedBgs),"data"in P&&t(4,r=P.data),"path"in P&&t(5,c=P.path),"color"in P&&t(6,d=P.color),"changingLines"in P&&t(7,g=P.changingLines),"neighbor"in P&&t(8,m=P.neighbor),"showPluralities"in P&&t(9,v=P.showPluralities),"metric"in P&&t(10,b=P.metric),"period"in P&&t(11,M=P.period),"tractVars"in P&&t(12,T=P.tractVars),"drawings"in P&&t(13,A=P.drawings),"panels"in P&&t(14,I=P.panels),"plan"in P&&t(15,U=P.plan),"points"in P&&t(16,G=P.points),"tractMesh"in P&&t(17,W=P.tractMesh),"bgMesh"in P&&t(18,Y=P.bgMesh),"mesh"in P&&t(19,q=P.mesh),"aggregates"in P&&t(20,S=P.aggregates),"obj"in P&&t(0,C=P.obj),"handleLabelClick"in P&&t(21,O=P.handleLabelClick),"congressPlans"in P&&t(22,y=P.congressPlans),"plans"in P&&t(23,h=P.plans),"startDrag"in P&&t(24,E=P.startDrag),"endDrag"in P&&t(25,j=P.endDrag),"handleMouseMove"in P&&t(26,Z=P.handleMouseMove),"viewCutoff"in P&&t(27,ae=P.viewCutoff),"showOnlyFocusDistricts"in P&&t(28,ie=P.showOnlyFocusDistricts),"showStreets"in P&&t(29,se=P.showStreets),"presentationMode"in P&&t(30,K=P.presentationMode),"streets"in P&&t(31,F=P.streets)},l.$$.update=()=>{l.$$.dirty[0]&32768&&t(33,s=Ds[U]),l.$$.dirty[0]&268435456|l.$$.dirty[1]&4&&t(36,n=ie&&s),l.$$.dirty[0]&12615680&&t(32,a=U.startsWith("congress")?y:h),l.$$.dirty[0]&32768|l.$$.dirty[1]&2&&t(0,C=a?a.objects[U]:void 0)},[C,i,o,f,r,c,d,g,m,v,b,M,T,A,I,U,G,W,Y,q,S,O,y,h,E,j,Z,ae,ie,se,K,F,a,s,he,ee,n,me,J,$,x,De,Ve,be,oe,Pe,ke,Te,ye]}class Ms extends Ze{constructor(e){super();$e(this,e,Ts,Vs,xe,{viewBox:1,labelSize:2,draggedBgs:3,data:4,path:5,color:6,changingLines:7,neighbor:8,showPluralities:9,metric:10,period:11,tractVars:12,drawings:13,panels:14,plan:15,points:16,tractMesh:17,bgMesh:18,mesh:19,aggregates:20,obj:0,handleLabelClick:21,congressPlans:22,plans:23,startDrag:24,endDrag:25,handleMouseMove:26,viewCutoff:27,showOnlyFocusDistricts:28,showStreets:29,presentationMode:30,streets:31},null,[-1,-1])}}function ct(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function ut(l,e,t){const s=l.slice();return s[21]=e[t],s[20]=t,s}function ht(l,e,t){const s=l.slice();return s[16]=e[t],s}function _t(l,e,t){const s=l.slice();return s[16]=e[t],s[20]=t,s}function dt(l,e,t){const s=l.slice();return s[10]=e[t],s}function gt(l,e,t){const s=l.slice();return s[13]=e[t],s}function ys(l){let e,t,s=l[9],n=[];for(let o=0;o<s.length;o+=1)n[o]=mt(ut(l,s,o));let a=l[9],i=[];for(let o=0;o<a.length;o+=1)i[o]=pt(ct(l,a,o));return{c(){e=D("div");for(let o=0;o<n.length;o+=1)n[o].c();t=L();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var f=k(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=B(f);for(let r=0;r<i.length;r+=1)i[r].l(f);f.forEach(_),this.h()},h(){p(e,"class","color-legend svelte-6sr79v"),ne(e,"grid-template-columns","repeat("+(l[3].includes(l[4])?5:6)+", 2.9em)"),Ne(e,"pctasian",l[3].includes(l[4]))},m(o,f){N(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);u(e,t);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(o,f){if(f&536){s=o[9];let r;for(r=0;r<s.length;r+=1){const c=ut(o,s,r);n[r]?n[r].p(c,f):(n[r]=mt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&536){a=o[9];let r;for(r=0;r<a.length;r+=1){const c=ct(o,a,r);i[r]?i[r].p(c,f):(i[r]=pt(c),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}f&24&&ne(e,"grid-template-columns","repeat("+(o[3].includes(o[4])?5:6)+", 2.9em)"),f&24&&Ne(e,"pctasian",o[3].includes(o[4]))},d(o){o&&_(e),ve(n,o),ve(i,o)}}}function As(l){let e,t,s=l[8],n=[];for(let o=0;o<s.length;o+=1)n[o]=vt(_t(l,s,o));let a=l[8],i=[];for(let o=0;o<a.length;o+=1)i[o]=bt(ht(l,a,o));return{c(){e=D("div");for(let o=0;o<n.length;o+=1)n[o].c();t=L();for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=V(o,"DIV",{class:!0});var f=k(e);for(let r=0;r<n.length;r+=1)n[r].l(f);t=B(f);for(let r=0;r<i.length;r+=1)i[r].l(f);f.forEach(_),this.h()},h(){p(e,"class","color-legend plurality-legend svelte-6sr79v")},m(o,f){N(o,e,f);for(let r=0;r<n.length;r+=1)n[r].m(e,null);u(e,t);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(o,f){if(f&256){s=o[8];let r;for(r=0;r<s.length;r+=1){const c=_t(o,s,r);n[r]?n[r].p(c,f):(n[r]=vt(c),n[r].c(),n[r].m(e,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}if(f&256){a=o[8];let r;for(r=0;r<a.length;r+=1){const c=ht(o,a,r);i[r]?i[r].p(c,f):(i[r]=bt(c),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}},d(o){o&&_(e),ve(n,o),ve(i,o)}}}function Ss(l){let e,t,s,n,a,i,o,f,r,c,d,g,m=l[0],v=[];for(let b=0;b<m.length;b+=1)v[b]=wt(dt(l,m,b));return{c(){e=D("div");for(let b=0;b<v.length;b+=1)v[b].c();t=L(),s=D("p"),n=D("span"),a=z("Weak plurality"),i=L(),o=D("p"),f=L(),r=D("p"),c=z("Majority"),d=L(),g=D("p"),this.h()},l(b){e=V(b,"DIV",{class:!0});var M=k(e);for(let U=0;U<v.length;U+=1)v[U].l(M);t=B(M),s=V(M,"P",{class:!0});var T=k(s);n=V(T,"SPAN",{});var A=k(n);a=R(A,"Weak plurality"),A.forEach(_),T.forEach(_),i=B(M),o=V(M,"P",{class:!0}),k(o).forEach(_),f=B(M),r=V(M,"P",{class:!0});var I=k(r);c=R(I,"Majority"),I.forEach(_),d=B(M),g=V(M,"P",{class:!0}),k(g).forEach(_),M.forEach(_),this.h()},h(){p(s,"class","col-head svelte-6sr79v"),p(o,"class","col-head svelte-6sr79v"),p(r,"class","col-head svelte-6sr79v"),p(g,"class","col-head svelte-6sr79v"),p(e,"class","legend svelte-6sr79v")},m(b,M){N(b,e,M);for(let T=0;T<v.length;T+=1)v[T].m(e,null);u(e,t),u(e,s),u(s,n),u(n,a),u(e,i),u(e,o),u(e,f),u(e,r),u(r,c),u(e,d),u(e,g)},p(b,M){if(M&7){m=b[0];let T;for(T=0;T<m.length;T+=1){const A=dt(b,m,T);v[T]?v[T].p(A,M):(v[T]=wt(A),v[T].c(),v[T].m(e,t))}for(;T<v.length;T+=1)v[T].d(1);v.length=m.length}},d(b){b&&_(e),ve(v,b)}}}function mt(l){let e;return{c(){e=D("div"),this.h()},l(t){e=V(t,"DIV",{style:!0}),k(e).forEach(_),this.h()},h(){ne(e,"background-color",l[3].includes(l[4])?El[l[20]]:sl[l[20]])},m(t,s){N(t,e,s)},p(t,s){s&24&&ne(e,"background-color",t[3].includes(t[4])?El[t[20]]:sl[t[20]])},d(t){t&&_(e)}}}function pt(l){let e,t,s=(l[9][l[9].length-1]<1?ue(l[21],0):l[9][l[9].length-1]>1e3?ll(l[21]):l[21])+(l[3].includes(l[4])&&l[20]===l[9].length-1?"+ Asian <br/>(\u4E9A\u88D4\u4EBA\u53E3)":"")+"",n;return{c(){e=D("p"),t=new is,n=L(),this.h()},l(a){e=V(a,"P",{class:!0});var i=k(e);t=os(i),n=B(i),i.forEach(_),this.h()},h(){t.a=n,p(e,"class","svelte-6sr79v")},m(a,i){N(a,e,i),t.m(s,e),u(e,n)},p(a,i){i&536&&s!==(s=(a[9][a[9].length-1]<1?ue(a[21],0):a[9][a[9].length-1]>1e3?ll(a[21]):a[21])+(a[3].includes(a[4])&&a[20]===a[9].length-1?"+ Asian <br/>(\u4E9A\u88D4\u4EBA\u53E3)":"")+"")&&t.p(s)},d(a){a&&_(e)}}}function vt(l){let e;return{c(){e=D("div"),this.h()},l(t){e=V(t,"DIV",{style:!0}),k(e).forEach(_),this.h()},h(){ne(e,"background-color",sl[l[20]])},m(t,s){N(t,e,s)},p:Fe,d(t){t&&_(e)}}}function bt(l){let e,t=l[16].replace("_","-")+"",s;return{c(){e=D("p"),s=z(t),this.h()},l(n){e=V(n,"P",{class:!0});var a=k(e);s=R(a,t),a.forEach(_),this.h()},h(){p(e,"class","svelte-6sr79v")},m(n,a){N(n,e,a),u(e,s)},p(n,a){a&256&&t!==(t=n[16].replace("_","-")+"")&&re(s,t)},d(n){n&&_(e)}}}function kt(l){let e;return{c(){e=D("div"),this.h()},l(t){e=V(t,"DIV",{style:!0}),k(e).forEach(_),this.h()},h(){ne(e,"background-color",l[2][l[10]]+l[13])},m(t,s){N(t,e,s)},p(t,s){s&7&&ne(e,"background-color",t[2][t[10]]+t[13])},d(t){t&&_(e)}}}function wt(l){let e,t,s=Qe(l[10])+"",n,a=l[1],i=[];for(let o=0;o<a.length;o+=1)i[o]=kt(gt(l,a,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=L(),t=D("p"),n=z(s),this.h()},l(o){for(let r=0;r<i.length;r+=1)i[r].l(o);e=B(o),t=V(o,"P",{class:!0});var f=k(t);n=R(f,s),f.forEach(_),this.h()},h(){p(t,"class","row-label svelte-6sr79v")},m(o,f){for(let r=0;r<i.length;r+=1)i[r].m(o,f);N(o,e,f),N(o,t,f),u(t,n)},p(o,f){if(f&7){a=o[1];let r;for(r=0;r<a.length;r+=1){const c=gt(o,a,r);i[r]?i[r].p(c,f):(i[r]=kt(c),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}f&1&&s!==(s=Qe(o[10])+"")&&re(n,s)},d(o){ve(i,o),o&&_(e),o&&_(t)}}}function Cs(l){let e,t,s;function n(o,f){return(e==null||f&88)&&(e=!!(o[3].includes(o[4])&&o[6])),e?Ss:((t==null||f&160)&&(t=!!o[7].includes(o[5])),t?As:ys)}let a=n(l,-1),i=a(l);return{c(){i.c(),s=X()},l(o){i.l(o),s=X()},m(o,f){i.m(o,f),N(o,s,f)},p(o,[f]){a===(a=n(o,f))&&i?i.p(o,f):(i.d(1),i=a(o),i&&(i.c(),i.m(s.parentNode,s)))},i:Fe,o:Fe,d(o){i.d(o),o&&_(s)}}}function Os(l,e,t){let{groups:s,levels:n,colors:a,dynamicVars:i,variable:o,metric:f,showPluralities:r,pluralityVars:c,periods:d,breaks:g}=e;return l.$$set=m=>{"groups"in m&&t(0,s=m.groups),"levels"in m&&t(1,n=m.levels),"colors"in m&&t(2,a=m.colors),"dynamicVars"in m&&t(3,i=m.dynamicVars),"variable"in m&&t(4,o=m.variable),"metric"in m&&t(5,f=m.metric),"showPluralities"in m&&t(6,r=m.showPluralities),"pluralityVars"in m&&t(7,c=m.pluralityVars),"periods"in m&&t(8,d=m.periods),"breaks"in m&&t(9,g=m.breaks)},[s,n,a,i,o,f,r,c,d,g]}class Ns extends Ze{constructor(e){super();$e(this,e,Os,Cs,xe,{groups:0,levels:1,colors:2,dynamicVars:3,variable:4,metric:5,showPluralities:6,pluralityVars:7,periods:8,breaks:9})}}function Et(l,e,t){const s=l.slice();return s[15]=e[t].name,s[9]=e[t].stats,s[17]=t,s}function Pt(l,e,t){const s=l.slice();return s[18]=e[t],s}function Dt(l,e,t){const s=l.slice();return s[12]=e[t],s}function Is(l){let e,t=l[6],s=[];for(let n=0;n<t.length;n+=1)s[n]=Tt(Et(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=X()},l(n){for(let a=0;a<s.length;a+=1)s[a].l(n);e=X()},m(n,a){for(let i=0;i<s.length;i+=1)s[i].m(n,a);N(n,e,a)},p(n,a){if(a&200){t=n[6];let i;for(i=0;i<t.length;i+=1){const o=Et(n,t,i);s[i]?s[i].p(o,a):(s[i]=Tt(o),s[i].c(),s[i].m(e.parentNode,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(n){ve(s,n),n&&_(e)}}}function Ls(l){let e,t=l[0],s=[];for(let n=0;n<t.length;n+=1)s[n]=At(Dt(l,t,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=X()},l(n){for(let a=0;a<s.length;a+=1)s[a].l(n);e=X()},m(n,a){for(let i=0;i<s.length;i+=1)s[i].m(n,a);N(n,e,a)},p(n,a){if(a&567){t=n[0];let i;for(i=0;i<t.length;i+=1){const o=Dt(n,t,i);s[i]?s[i].p(o,a):(s[i]=At(o),s[i].c(),s[i].m(e.parentNode,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(n){ve(s,n),n&&_(e)}}}function Vt(l){let e,t,s=Qe(l[18])+"",n,a,i,o=ue(l[9]["cvap19"+l[18]])+"",f,r,c,d=ue(l[9]["pop20"+l[18]])+"",g,m;return{c(){e=D("tr"),t=D("td"),n=z(s),a=L(),i=D("td"),f=z(o),r=L(),c=D("td"),g=z(d),m=L(),this.h()},l(v){e=V(v,"TR",{class:!0});var b=k(e);t=V(b,"TD",{class:!0});var M=k(t);n=R(M,s),M.forEach(_),a=B(b),i=V(b,"TD",{class:!0});var T=k(i);f=R(T,o),T.forEach(_),r=B(b),c=V(b,"TD",{class:!0});var A=k(c);g=R(A,d),A.forEach(_),m=B(b),b.forEach(_),this.h()},h(){p(t,"class","svelte-1avkicx"),p(i,"class","svelte-1avkicx"),p(c,"class","svelte-1avkicx"),p(e,"class","svelte-1avkicx")},m(v,b){N(v,e,b),u(e,t),u(t,n),u(e,a),u(e,i),u(i,f),u(e,r),u(e,c),u(c,g),u(e,m)},p(v,b){b&8&&s!==(s=Qe(v[18])+"")&&re(n,s),b&72&&o!==(o=ue(v[9]["cvap19"+v[18]])+"")&&re(f,o),b&72&&d!==(d=ue(v[9]["pop20"+v[18]])+"")&&re(g,d)},d(v){v&&_(e)}}}function Tt(l){let e,t,s,n=(l[15]||"COI"+(l[17]+1))+"",a,i,o,f,r,c,d,g,m,v,b,M,T,A,I,U,G,W,Y=ll(l[9].income)+"",q,S,C,O,y=ue(l[9].hhlang)+"",h,E,j,Z,ae=ue(l[9].benefits)+"",ie,se,K,F;function me(){return l[11](l[17])}let he=l[3],ee=[];for(let J=0;J<he.length;J+=1)ee[J]=Vt(Pt(l,he,J));return{c(){e=D("div"),t=D("p"),s=D("i"),a=z(n),i=L(),o=D("button"),f=z("\u{1F5D1}"),r=L(),c=D("table"),d=D("tr"),g=D("th"),m=L(),v=D("th"),b=z("CVAP"),M=L(),T=D("th"),A=z("Pop."),I=L();for(let J=0;J<ee.length;J+=1)ee[J].c();U=L(),G=D("p"),W=z("Income: "),q=z(Y),S=L(),C=D("p"),O=z("Asian and LEP: "),h=z(y),E=L(),j=D("p"),Z=z("Pct. gov't benefits: "),ie=z(ae),se=L(),this.h()},l(J){e=V(J,"DIV",{});var $=k(e);t=V($,"P",{class:!0});var x=k(t);s=V(x,"I",{});var De=k(s);a=R(De,n),De.forEach(_),i=B(x),o=V(x,"BUTTON",{});var Ve=k(o);f=R(Ve,"\u{1F5D1}"),Ve.forEach(_),x.forEach(_),r=B($),c=V($,"TABLE",{class:!0});var be=k(c);d=V(be,"TR",{class:!0});var oe=k(d);g=V(oe,"TH",{class:!0}),k(g).forEach(_),m=B(oe),v=V(oe,"TH",{class:!0});var Pe=k(v);b=R(Pe,"CVAP"),Pe.forEach(_),M=B(oe),T=V(oe,"TH",{class:!0});var ke=k(T);A=R(ke,"Pop."),ke.forEach(_),oe.forEach(_),I=B(be);for(let de=0;de<ee.length;de+=1)ee[de].l(be);be.forEach(_),U=B($),G=V($,"P",{class:!0});var Te=k(G);W=R(Te,"Income: "),q=R(Te,Y),Te.forEach(_),S=B($),C=V($,"P",{class:!0});var ye=k(C);O=R(ye,"Asian and LEP: "),h=R(ye,y),ye.forEach(_),E=B($),j=V($,"P",{class:!0});var P=k(j);Z=R(P,"Pct. gov't benefits: "),ie=R(P,ae),P.forEach(_),se=B($),$.forEach(_),this.h()},h(){p(t,"class","svelte-1avkicx"),p(g,"class","svelte-1avkicx"),p(v,"class","svelte-1avkicx"),p(T,"class","svelte-1avkicx"),p(d,"class","svelte-1avkicx"),p(c,"class","svelte-1avkicx"),p(G,"class","table-footer svelte-1avkicx"),p(C,"class","table-footer svelte-1avkicx"),p(j,"class","table-footer svelte-1avkicx")},m(J,$){N(J,e,$),u(e,t),u(t,s),u(s,a),u(t,i),u(t,o),u(o,f),u(e,r),u(e,c),u(c,d),u(d,g),u(d,m),u(d,v),u(v,b),u(d,M),u(d,T),u(T,A),u(c,I);for(let x=0;x<ee.length;x+=1)ee[x].m(c,null);u(e,U),u(e,G),u(G,W),u(G,q),u(e,S),u(e,C),u(C,O),u(C,h),u(e,E),u(e,j),u(j,Z),u(j,ie),u(e,se),K||(F=fe(o,"click",me),K=!0)},p(J,$){if(l=J,$&64&&n!==(n=(l[15]||"COI"+(l[17]+1))+"")&&re(a,n),$&72){he=l[3];let x;for(x=0;x<he.length;x+=1){const De=Pt(l,he,x);ee[x]?ee[x].p(De,$):(ee[x]=Vt(De),ee[x].c(),ee[x].m(c,null))}for(;x<ee.length;x+=1)ee[x].d(1);ee.length=he.length}$&64&&Y!==(Y=ll(l[9].income)+"")&&re(q,Y),$&64&&y!==(y=ue(l[9].hhlang)+"")&&re(h,y),$&64&&ae!==(ae=ue(l[9].benefits)+"")&&re(ie,ae)},d(J){J&&_(e),ve(ee,J),K=!1,F()}}}function Mt(l){let e,t,s,n=ql(l[12])+"",a,i,o,f,r,c,d,g,m,v,b,M,T,A,I,U,G,W=ue(l[9][l[12]].cvap10asian)+"",Y,q,S,C=ue(l[9][l[12]].pop10asian)+"",O,y,h,E,j,Z,ae,ie=ue(l[9][l[12]].cvap19asian)+"",se,K,F,me=ue(l[9][l[12]].pop20asian)+"",he,ee,J,$,x,De,Ve,be=ue(l[9][l[12]].pct_increase)+"",oe,Pe,ke,Te=ue(l[9][l[12]].pct_increase_cvap)+"",ye,P,de,Je,rl;function Pl(){return l[10](l[12])}let pe=l[4]&&l[2]in l[5]&&yt(l);return{c(){e=D("div"),t=D("p"),s=D("i"),a=z(n),i=L(),o=D("table"),f=D("tr"),r=D("th"),c=L(),d=D("th"),g=z("CVAP"),m=L(),v=D("th"),b=z("Pop."),M=L(),T=D("tr"),A=D("td"),I=z("Asians in 2010"),U=L(),G=D("td"),Y=z(W),q=L(),S=D("td"),O=z(C),y=L(),h=D("tr"),E=D("td"),j=z("Asians now"),Z=L(),ae=D("td"),se=z(ie),K=L(),F=D("td"),he=z(me),ee=L(),J=D("tr"),$=D("td"),x=z("Asian increase"),De=L(),Ve=D("td"),oe=z(be),Pe=L(),ke=D("td"),ye=z(Te),P=L(),pe&&pe.c(),de=L(),this.h()},l(Ie){e=V(Ie,"DIV",{class:!0});var ge=k(e);t=V(ge,"P",{class:!0});var fl=k(t);s=V(fl,"I",{});var cl=k(s);a=R(cl,n),cl.forEach(_),fl.forEach(_),i=B(ge),o=V(ge,"TABLE",{class:!0});var Oe=k(o);f=V(Oe,"TR",{class:!0});var ze=k(f);r=V(ze,"TH",{class:!0}),k(r).forEach(_),c=B(ze),d=V(ze,"TH",{class:!0});var ul=k(d);g=R(ul,"CVAP"),ul.forEach(_),m=B(ze),v=V(ze,"TH",{class:!0});var hl=k(v);b=R(hl,"Pop."),hl.forEach(_),ze.forEach(_),M=B(Oe),T=V(Oe,"TR",{class:!0});var Re=k(T);A=V(Re,"TD",{class:!0});var _l=k(A);I=R(_l,"Asians in 2010"),_l.forEach(_),U=B(Re),G=V(Re,"TD",{class:!0});var dl=k(G);Y=R(dl,W),dl.forEach(_),q=B(Re),S=V(Re,"TD",{class:!0});var gl=k(S);O=R(gl,C),gl.forEach(_),Re.forEach(_),y=B(Oe),h=V(Oe,"TR",{class:!0});var He=k(h);E=V(He,"TD",{class:!0});var ml=k(E);j=R(ml,"Asians now"),ml.forEach(_),Z=B(He),ae=V(He,"TD",{class:!0});var w=k(ae);se=R(w,ie),w.forEach(_),K=B(He),F=V(He,"TD",{class:!0});var le=k(F);he=R(le,me),le.forEach(_),He.forEach(_),ee=B(Oe),J=V(Oe,"TR",{class:!0});var H=k(J);$=V(H,"TD",{class:!0});var ce=k($);x=R(ce,"Asian increase"),ce.forEach(_),De=B(H),Ve=V(H,"TD",{class:!0});var _e=k(Ve);oe=R(_e,be),_e.forEach(_),Pe=B(H),ke=V(H,"TD",{class:!0});var Le=k(ke);ye=R(Le,Te),Le.forEach(_),H.forEach(_),Oe.forEach(_),P=B(ge),pe&&pe.l(ge),de=B(ge),ge.forEach(_),this.h()},h(){p(t,"class","svelte-1avkicx"),p(r,"class","svelte-1avkicx"),p(d,"class","svelte-1avkicx"),p(v,"class","svelte-1avkicx"),p(f,"class","svelte-1avkicx"),p(A,"class","svelte-1avkicx"),p(G,"class","svelte-1avkicx"),p(S,"class","svelte-1avkicx"),p(T,"class","svelte-1avkicx"),p(E,"class","svelte-1avkicx"),p(ae,"class","svelte-1avkicx"),p(F,"class","svelte-1avkicx"),p(h,"class","svelte-1avkicx"),p($,"class","svelte-1avkicx"),p(Ve,"class","svelte-1avkicx"),p(ke,"class","svelte-1avkicx"),p(J,"class","svelte-1avkicx"),p(o,"class","svelte-1avkicx"),p(e,"class","district-aggregate svelte-1avkicx")},m(Ie,ge){N(Ie,e,ge),u(e,t),u(t,s),u(s,a),u(e,i),u(e,o),u(o,f),u(f,r),u(f,c),u(f,d),u(d,g),u(f,m),u(f,v),u(v,b),u(o,M),u(o,T),u(T,A),u(A,I),u(T,U),u(T,G),u(G,Y),u(T,q),u(T,S),u(S,O),u(o,y),u(o,h),u(h,E),u(E,j),u(h,Z),u(h,ae),u(ae,se),u(h,K),u(h,F),u(F,he),u(o,ee),u(o,J),u(J,$),u($,x),u(J,De),u(J,Ve),u(Ve,oe),u(J,Pe),u(J,ke),u(ke,ye),u(e,P),pe&&pe.m(e,null),u(e,de),Je||(rl=fe(t,"click",Pl),Je=!0)},p(Ie,ge){l=Ie,ge&1&&n!==(n=ql(l[12])+"")&&re(a,n),ge&513&&W!==(W=ue(l[9][l[12]].cvap10asian)+"")&&re(Y,W),ge&513&&C!==(C=ue(l[9][l[12]].pop10asian)+"")&&re(O,C),ge&513&&ie!==(ie=ue(l[9][l[12]].cvap19asian)+"")&&re(se,ie),ge&513&&me!==(me=ue(l[9][l[12]].pop20asian)+"")&&re(he,me),ge&513&&be!==(be=ue(l[9][l[12]].pct_increase)+"")&&re(oe,be),ge&513&&Te!==(Te=ue(l[9][l[12]].pct_increase_cvap)+"")&&re(ye,Te),l[4]&&l[2]in l[5]?pe?pe.p(l,ge):(pe=yt(l),pe.c(),pe.m(e,de)):pe&&(pe.d(1),pe=null)},d(Ie){Ie&&_(e),pe&&pe.d(),Je=!1,rl()}}}function yt(l){let e,t,s=ll(l[9][l[12]].income)+(l[4]&&l[2]in l[5]?"; "+Fl(l[9][l[12]].pop20_total-l[5][l[2]]):"")+"",n;return{c(){e=D("p"),t=z("Income: "),n=z(s),this.h()},l(a){e=V(a,"P",{class:!0});var i=k(e);t=R(i,"Income: "),n=R(i,s),i.forEach(_),this.h()},h(){p(e,"class","table-footer svelte-1avkicx")},m(a,i){N(a,e,i),u(e,t),u(e,n)},p(a,i){i&565&&s!==(s=ll(a[9][a[12]].income)+(a[4]&&a[2]in a[5]?"; "+Fl(a[9][a[12]].pop20_total-a[5][a[2]]):"")+"")&&re(n,s)},d(a){a&&_(e)}}}function At(l){let e=l[12].split(",")[0].split("_")[0]===l[2].split("_")[0],t,s=e&&Mt(l);return{c(){s&&s.c(),t=X()},l(n){s&&s.l(n),t=X()},m(n,a){s&&s.m(n,a),N(n,t,a)},p(n,a){a&5&&(e=n[12].split(",")[0].split("_")[0]===n[2].split("_")[0]),e?s?s.p(n,a):(s=Mt(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(n){s&&s.d(n),n&&_(t)}}}function Bs(l){let e;function t(a,i){if(a[8]==="districts")return Ls;if(a[8]==="community")return Is}let s=t(l),n=s&&s(l);return{c(){n&&n.c(),e=X()},l(a){n&&n.l(a),e=X()},m(a,i){n&&n.m(a,i),N(a,e,i)},p(a,[i]){s===(s=t(a))&&n?n.p(a,i):(n&&n.d(1),n=s&&s(a),n&&(n.c(),n.m(e.parentNode,e)))},i:Fe,o:Fe,d(a){n&&n.d(a),a&&_(e)}}}function js(l,e,t){let{aggregates:s,handleLabelClick:n,plan:a,stats:i,groups:o,changingLines:f,idealValues:r}=e,{drawings:c=[]}=e,{delDrawing:d=void 0}=e,{type:g="districts"}=e;const m=b=>n(b),v=b=>d(b);return l.$$set=b=>{"aggregates"in b&&t(0,s=b.aggregates),"handleLabelClick"in b&&t(1,n=b.handleLabelClick),"plan"in b&&t(2,a=b.plan),"stats"in b&&t(9,i=b.stats),"groups"in b&&t(3,o=b.groups),"changingLines"in b&&t(4,f=b.changingLines),"idealValues"in b&&t(5,r=b.idealValues),"drawings"in b&&t(6,c=b.drawings),"delDrawing"in b&&t(7,d=b.delDrawing),"type"in b&&t(8,g=b.type)},[s,n,a,o,f,r,c,d,g,i,m,v]}class St extends Ze{constructor(e){super();$e(this,e,js,Bs,xe,{aggregates:0,handleLabelClick:1,plan:2,stats:9,groups:3,changingLines:4,idealValues:5,drawings:6,delDrawing:7,type:8})}}const zs=l=>({}),Ct=l=>({}),Rs=l=>({}),Ot=l=>({});function Nt(l){let e,t,s,n;const a=l[4].body,i=jl(a,l,l[3],Ct);return{c(){e=D("div"),i&&i.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var f=k(e);i&&i.l(f),f.forEach(_),this.h()},h(){p(e,"class","svelte-a3zm9u")},m(o,f){N(o,e,f),i&&i.m(e,null),n=!0},p(o,f){i&&i.p&&(!n||f&8)&&zl(i,a,o,o[3],n?Hl(a,o[3],f,zs):Rl(o[3]),Ct)},i(o){n||(Q(i,o),Ae(()=>{s&&s.end(1),t=Ue(e,vl,{}),t.start()}),n=!0)},o(o){te(i,o),t&&t.invalidate(),s=qe(e,vl,{}),n=!1},d(o){o&&_(e),i&&i.d(o),o&&s&&s.end()}}}function Hs(l){let e,t,s,n=(l[2]==="plans"?"Districts / \u533A\u57DF\u5212\u5206":l[2]==="views"?"Areas / \u533A":Qe(l[2]))+"",a,i,o=(l[0].includes(l[2])?"\u2191":"\u2193")+"",f,r,c,d=l[0].includes(l[2]),g,m,v;const b=l[4].title,M=jl(b,l,l[3],Ot);let T=d&&Nt(l);return{c(){e=D("div"),t=D("h3"),s=D("button"),a=z(n),i=L(),f=z(o),r=L(),M&&M.c(),c=L(),T&&T.c(),this.h()},l(A){e=V(A,"DIV",{class:!0});var I=k(e);t=V(I,"H3",{class:!0});var U=k(t);s=V(U,"BUTTON",{});var G=k(s);a=R(G,n),i=B(G),f=R(G,o),G.forEach(_),r=B(U),M&&M.l(U),U.forEach(_),c=B(I),T&&T.l(I),I.forEach(_),this.h()},h(){p(t,"class","svelte-a3zm9u"),p(e,"class","panel svelte-a3zm9u")},m(A,I){N(A,e,I),u(e,t),u(t,s),u(s,a),u(s,i),u(s,f),u(t,r),M&&M.m(t,null),u(e,c),T&&T.m(e,null),g=!0,m||(v=fe(s,"click",l[5]),m=!0)},p(A,[I]){(!g||I&4)&&n!==(n=(A[2]==="plans"?"Districts / \u533A\u57DF\u5212\u5206":A[2]==="views"?"Areas / \u533A":Qe(A[2]))+"")&&re(a,n),(!g||I&5)&&o!==(o=(A[0].includes(A[2])?"\u2191":"\u2193")+"")&&re(f,o),M&&M.p&&(!g||I&8)&&zl(M,b,A,A[3],g?Hl(b,A[3],I,Rs):Rl(A[3]),Ot),I&5&&(d=A[0].includes(A[2])),d?T?(T.p(A,I),I&5&&Q(T,1)):(T=Nt(A),T.c(),Q(T,1),T.m(e,null)):T&&(Be(),te(T,1,1,()=>{T=null}),je())},i(A){g||(Q(M,A),Q(T),g=!0)},o(A){te(M,A),te(T),g=!1},d(A){A&&_(e),M&&M.d(A),T&&T.d(),m=!1,v()}}}function Us(l,e,t){let{$$slots:s={},$$scope:n}=e,{panels:a,togglePanel:i,panelName:o}=e;const f=()=>i(o);return l.$$set=r=>{"panels"in r&&t(0,a=r.panels),"togglePanel"in r&&t(1,i=r.togglePanel),"panelName"in r&&t(2,o=r.panelName),"$$scope"in r&&t(3,n=r.$$scope)},[a,i,o,n,s,f]}class Sl extends Ze{constructor(e){super();$e(this,e,Us,Hs,xe,{panels:0,togglePanel:1,panelName:2})}}function It(l){let e,t,s,n,a,i,o,f,r,c,d;return{c(){e=D("div"),t=D("a"),s=z("Click here"),n=z(` to see a video tutorial of this website.
    `),a=D("button"),i=z("Close message."),this.h()},l(g){e=V(g,"DIV",{class:!0});var m=k(e);t=V(m,"A",{href:!0,target:!0});var v=k(t);s=R(v,"Click here"),v.forEach(_),n=R(m,` to see a video tutorial of this website.
    `),a=V(m,"BUTTON",{class:!0});var b=k(a);i=R(b,"Close message."),b.forEach(_),m.forEach(_),this.h()},h(){p(t,"href","https://youtu.be/dU5a4PRSF14"),p(t,"target","_blank"),p(a,"class","svelte-a8zkqf"),p(e,"class","modal svelte-a8zkqf")},m(g,m){N(g,e,m),u(e,t),u(t,s),u(e,n),u(e,a),u(a,i),r=!0,c||(d=fe(a,"click",function(){Vl(l[1])&&l[1].apply(this,arguments)}),c=!0)},p(g,m){l=g},i(g){r||(Ae(()=>{f&&f.end(1),o=Ue(e,Se,{}),o.start()}),r=!0)},o(g){o&&o.invalidate(),f=qe(e,Se,{}),r=!1},d(g){g&&_(e),g&&f&&f.end(),c=!1,d()}}}function qs(l){let e,t,s=l[0]&&It(l);return{c(){s&&s.c(),e=X()},l(n){s&&s.l(n),e=X()},m(n,a){s&&s.m(n,a),N(n,e,a),t=!0},p(n,[a]){n[0]?s?(s.p(n,a),a&1&&Q(s,1)):(s=It(n),s.c(),Q(s,1),s.m(e.parentNode,e)):s&&(Be(),te(s,1,1,()=>{s=null}),je())},i(n){t||(Q(s),t=!0)},o(n){te(s),t=!1},d(n){s&&s.d(n),n&&_(e)}}}function Fs(l,e,t){let{showModal:s,closeModal:n}=e;return l.$$set=a=>{"showModal"in a&&t(0,s=a.showModal),"closeModal"in a&&t(1,n=a.closeModal)},[s,n]}class Gs extends Ze{constructor(e){super();$e(this,e,Fs,qs,xe,{showModal:0,closeModal:1})}}function Lt(l,e,t){const s=l.slice();return s[69]=e[t],s}function Bt(l,e,t){const s=l.slice();return s[72]=e[t],s}function jt(l,e,t){const s=l.slice();return s[75]=e[t],s}function zt(l,e,t){const s=l.slice();return s[78]=e[t],s}function Rt(l,e,t){const s=l.slice();return s[69]=e[t],s}function Ht(l,e,t){const s=l.slice();return s[69]=e[t],s}function Ut(l){let e,t=(wl[l[69]]||l[69])+"",s,n;return{c(){e=D("option"),s=z(t),this.h()},l(a){e=V(a,"OPTION",{});var i=k(e);s=R(i,t),i.forEach(_),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(a,i){N(a,e,i),u(e,s)},p(a,i){i[0]&4&&t!==(t=(wl[a[69]]||a[69])+"")&&re(s,t),i[0]&4&&n!==(n=a[69])&&(e.__value=n,e.value=e.__value)},d(a){a&&_(e)}}}function qt(l){let e,t=(wl[l[69]]||l[69])+"",s,n;return{c(){e=D("option"),s=z(t),this.h()},l(a){e=V(a,"OPTION",{});var i=k(e);s=R(i,t),i.forEach(_),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(a,i){N(a,e,i),u(e,s)},p(a,i){i[0]&8&&t!==(t=(wl[a[69]]||a[69])+"")&&re(s,t),i[0]&8&&n!==(n=a[69])&&(e.__value=n,e.value=e.__value)},d(a){a&&_(e)}}}function Ft(l){let e,t=l[2].includes(l[17]),s,n=l[2].includes(l[17]),a,i,o,f=t&&Gt(l),r=n&&Yt(l);return{c(){e=D("div"),f&&f.c(),s=L(),r&&r.c()},l(c){e=V(c,"DIV",{});var d=k(e);f&&f.l(d),s=B(d),r&&r.l(d),d.forEach(_)},m(c,d){N(c,e,d),f&&f.m(e,null),u(e,s),r&&r.m(e,null),o=!0},p(c,d){d[0]&131076&&(t=c[2].includes(c[17])),t?f?f.p(c,d):(f=Gt(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null),d[0]&131076&&(n=c[2].includes(c[17])),n?r?r.p(c,d):(r=Yt(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(c){o||(Ae(()=>{i&&i.end(1),a=Ue(e,vl,{}),a.start()}),o=!0)},o(c){a&&a.invalidate(),i=qe(e,vl,{}),o=!1},d(c){c&&_(e),f&&f.d(),r&&r.d(),c&&i&&i.end()}}}function Gt(l){let e,t=["past","present"],s=[];for(let n=0;n<2;n+=1)s[n]=Wt(zt(l,t,n));return{c(){for(let n=0;n<2;n+=1)s[n].c();e=X()},l(n){for(let a=0;a<2;a+=1)s[a].l(n);e=X()},m(n,a){for(let i=0;i<2;i+=1)s[i].m(n,a);N(n,e,a)},p(n,a){if(a[0]&65536){t=["past","present"];let i;for(i=0;i<2;i+=1){const o=zt(n,t,i);s[i]?s[i].p(o,a):(s[i]=Wt(o),s[i].c(),s[i].m(e.parentNode,e))}for(;i<2;i+=1)s[i].d(1)}},d(n){ve(s,n),n&&_(e)}}}function Wt(l){let e,t,s,n=Qe(l[78])+"",a,i,o,f;return{c(){e=D("label"),t=D("input"),s=L(),a=z(n),i=L(),this.h()},l(r){e=V(r,"LABEL",{});var c=k(e);t=V(c,"INPUT",{type:!0,name:!0}),s=B(c),a=R(c,n),i=B(c),c.forEach(_),this.h()},h(){p(t,"type","radio"),p(t,"name","period"),t.__value=l[78],t.value=t.__value,l[56][0].push(t)},m(r,c){N(r,e,c),u(e,t),t.checked=t.__value===l[16],u(e,s),u(e,a),u(e,i),o||(f=fe(t,"change",l[55]),o=!0)},p(r,c){c[0]&65536&&(t.checked=t.__value===r[16])},d(r){r&&_(e),l[56][0].splice(l[56][0].indexOf(t),1),o=!1,f()}}}function Yt(l){let e,t,s=(l[18]?"pct. asian":"pluralities")+"",n,a,i;return{c(){e=D("button"),t=z("Show "),n=z(s),this.h()},l(o){e=V(o,"BUTTON",{class:!0});var f=k(e);t=R(f,"Show "),n=R(f,s),f.forEach(_),this.h()},h(){p(e,"class","plurality-toggle svelte-1fv06xq")},m(o,f){N(o,e,f),u(e,t),u(e,n),a||(i=fe(e,"click",l[57]),a=!0)},p(o,f){f[0]&262144&&s!==(s=(o[18]?"pct. asian":"pluralities")+"")&&re(n,s)},d(o){o&&_(e),a=!1,i()}}}function Kt(l){let e,t=ws(l[72]+l[75])+(l[72]+l[75]==="senate_unity"||l[72]+l[75]==="congress_unity"?" (soon)":"")+"",s,n,a,i;return{c(){e=D("option"),s=z(t),n=L(),this.h()},l(o){e=V(o,"OPTION",{});var f=k(e);s=R(f,t),n=B(f),f.forEach(_),this.h()},h(){e.__value=a=l[72]+l[75],e.value=e.__value,e.disabled=i=l[72]+l[75]==="senate_unity"||l[72]+l[75]==="congress_unity"},m(o,f){N(o,e,f),u(e,s),u(e,n)},p:Fe,d(o){o&&_(e)}}}function Qt(l){let e,t,s=["","_letters","_names","_unity"],n=[];for(let a=0;a<4;a+=1)n[a]=Kt(jt(l,s,a));return{c(){e=D("optgroup");for(let a=0;a<4;a+=1)n[a].c();this.h()},l(a){e=V(a,"OPTGROUP",{label:!0});var i=k(e);for(let o=0;o<4;o+=1)n[o].l(i);i.forEach(_),this.h()},h(){p(e,"label",t=Qe(l[72]))},m(a,i){N(a,e,i);for(let o=0;o<4;o+=1)n[o].m(e,null)},p(a,i){if(i&0){s=["","_letters","_names","_unity"];let o;for(o=0;o<4;o+=1){const f=jt(a,s,o);n[o]?n[o].p(f,i):(n[o]=Kt(f),n[o].c(),n[o].m(e,null))}for(;o<4;o+=1)n[o].d(1)}},d(a){a&&_(e),ve(n,a)}}}function Ws(l){let e,t,s,n,a,i,o,f,r=["assembly","senate","congress"],c=[];for(let d=0;d<3;d+=1)c[d]=Qt(Bt(l,r,d));return a=new St({props:{aggregates:l[9],handleLabelClick:l[42],plan:l[11],stats:l[25],groups:tl,changingLines:l[33],idealValues:Ps}}),{c(){e=D("div"),t=D("div"),s=D("select");for(let d=0;d<3;d+=1)c[d].c();n=L(),Ge(a.$$.fragment),this.h()},l(d){e=V(d,"DIV",{slot:!0});var g=k(e);t=V(g,"DIV",{class:!0});var m=k(t);s=V(m,"SELECT",{class:!0});var v=k(s);for(let b=0;b<3;b+=1)c[b].l(v);v.forEach(_),m.forEach(_),n=B(g),We(a.$$.fragment,g),g.forEach(_),this.h()},h(){p(s,"class","svelte-1fv06xq"),l[11]===void 0&&Ae(()=>l[58].call(s)),p(t,"class","plan-selector svelte-1fv06xq"),p(e,"slot","body")},m(d,g){N(d,e,g),u(e,t),u(t,s);for(let m=0;m<3;m+=1)c[m].m(s,null);el(s,l[11]),u(e,n),Ye(a,e,null),i=!0,o||(f=fe(s,"change",l[58]),o=!0)},p(d,g){if(g&0){r=["assembly","senate","congress"];let v;for(v=0;v<3;v+=1){const b=Bt(d,r,v);c[v]?c[v].p(b,g):(c[v]=Qt(b),c[v].c(),c[v].m(s,null))}for(;v<3;v+=1)c[v].d(1)}g[0]&2048&&el(s,d[11]);const m={};g[0]&512&&(m.aggregates=d[9]),g[0]&2048&&(m.plan=d[11]),g[0]&33554432&&(m.stats=d[25]),a.$set(m)},i(d){i||(Q(a.$$.fragment,d),i=!0)},o(d){te(a.$$.fragment,d),i=!1},d(d){d&&_(e),ve(c,d),Ke(a),o=!1,f()}}}function Jt(l){let e,t=l[69]+"",s,n;return{c(){e=D("option"),s=z(t),this.h()},l(a){e=V(a,"OPTION",{});var i=k(e);s=R(i,t),i.forEach(_),this.h()},h(){e.__value=n=l[69],e.value=e.__value},m(a,i){N(a,e,i),u(e,s)},p:Fe,d(a){a&&_(e)}}}function Ys(l){let e,t,s,n,a,i,o,f,r=Object.keys(nl),c=[];for(let d=0;d<r.length;d+=1)c[d]=Jt(Lt(l,r,d));return{c(){e=D("div"),t=D("select");for(let d=0;d<c.length;d+=1)c[d].c();s=L(),n=D("label"),a=D("input"),i=z(`
					Inspect streets`),this.h()},l(d){e=V(d,"DIV",{slot:!0,class:!0});var g=k(e);t=V(g,"SELECT",{class:!0});var m=k(t);for(let b=0;b<c.length;b+=1)c[b].l(m);m.forEach(_),s=B(g),n=V(g,"LABEL",{class:!0});var v=k(n);a=V(v,"INPUT",{type:!0}),i=R(v,`
					Inspect streets`),v.forEach(_),g.forEach(_),this.h()},h(){p(t,"class","svelte-1fv06xq"),l[15]===void 0&&Ae(()=>l[59].call(t)),p(a,"type","checkbox"),p(n,"class","svelte-1fv06xq"),p(e,"slot","body"),p(e,"class","views svelte-1fv06xq")},m(d,g){N(d,e,g),u(e,t);for(let m=0;m<c.length;m+=1)c[m].m(t,null);el(t,l[15]),u(e,s),u(e,n),u(n,a),a.checked=l[6],u(n,i),o||(f=[fe(t,"change",l[59]),fe(a,"change",l[60])],o=!0)},p(d,g){if(g&0){r=Object.keys(nl);let m;for(m=0;m<r.length;m+=1){const v=Lt(d,r,m);c[m]?c[m].p(v,g):(c[m]=Jt(v),c[m].c(),c[m].m(t,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}g[0]&32768&&el(t,d[15]),g[0]&64&&(a.checked=d[6])},d(d){d&&_(e),ve(c,d),o=!1,il(f)}}}function Ks(l){let e,t,s,n;return{c(){e=D("button"),t=z("+"),this.h()},l(a){e=V(a,"BUTTON",{slot:!0});var i=k(e);t=R(i,"+"),i.forEach(_),this.h()},h(){p(e,"slot","title")},m(a,i){N(a,e,i),u(e,t),s||(n=fe(e,"click",l[61]),s=!0)},p:Fe,d(a){a&&_(e),s=!1,n()}}}function Qs(l){let e,t,s,n,a,i,o,f,r;return t=new St({props:{type:"community",drawings:l[8],delDrawing:l[39],groups:tl,stats:l[25]}}),{c(){e=D("div"),Ge(t.$$.fragment),s=L(),n=D("button"),a=D("b"),i=z("[SAVE]"),this.h()},l(c){e=V(c,"DIV",{slot:!0,class:!0});var d=k(e);We(t.$$.fragment,d),s=B(d),n=V(d,"BUTTON",{style:!0});var g=k(n);a=V(g,"B",{});var m=k(a);i=R(m,"[SAVE]"),m.forEach(_),g.forEach(_),d.forEach(_),this.h()},h(){ne(n,"font-size","13px"),p(e,"slot","body"),p(e,"class","community svelte-1fv06xq")},m(c,d){N(c,e,d),Ye(t,e,null),u(e,s),u(e,n),u(n,a),u(a,i),o=!0,f||(r=fe(n,"click",l[40]),f=!0)},p(c,d){const g={};d[0]&256&&(g.drawings=c[8]),d[0]&33554432&&(g.stats=c[25]),t.$set(g)},i(c){o||(Q(t.$$.fragment,c),o=!0)},o(c){te(t.$$.fragment,c),o=!1},d(c){c&&_(e),Ke(t),f=!1,r()}}}function Js(l){let e,t,s,n,a,i,o,f,r,c,d,g,m,v,b,M,T,A,I,U,G,W,Y;e=new Gs({props:{showModal:l[21],closeModal:l[36]}});let q=l[2],S=[];for(let h=0;h<q.length;h+=1)S[h]=Ut(Ht(l,q,h));let C=l[3],O=[];for(let h=0;h<C.length;h+=1)O[h]=qt(Rt(l,C,h));let y=l[22]&&Ft(l);return c=new Ns({props:{groups:tl,levels:Al,colors:yl,dynamicVars:l[2],variable:l[17],metric:l[20],showPluralities:l[18],pluralityVars:l[5],periods:kl,breaks:l[32]}}),g=new Sl({props:{panelName:"plans",panels:l[10],togglePanel:l[41],$$slots:{body:[Ws]},$$scope:{ctx:l}}}),v=new Sl({props:{panelName:"views",panels:l[10],togglePanel:l[41],$$slots:{body:[Ys]},$$scope:{ctx:l}}}),M=new Sl({props:{panelName:"communities",panels:l[10],togglePanel:l[41],$$slots:{body:[Qs],title:[Ks]},$$scope:{ctx:l}}}),A=new Ms({props:{viewBox:l[19],labelSize:l[31],draggedBgs:l[7],data:l[1],path:bl,color:l[38],changingLines:l[33],neighbor:l[37],showPluralities:l[18],metric:l[20],period:l[16],tractVars:l[4],panels:l[10],drawings:l[8],plan:l[11],points:l[27],tractMesh:l[35],bgMesh:l[26],mesh:l[34],aggregates:l[9],obj:l[0],handleLabelClick:l[42],congressPlans:l[12],plans:l[28],startDrag:l[43],endDrag:l[44],handleMouseMove:l[45],viewCutoff:l[30],showOnlyFocusDistricts:l[23],showStreets:l[6],streets:l[13],presentationMode:Xt}}),{c(){Ge(e.$$.fragment),t=L(),s=D("div"),n=D("div"),a=D("select"),i=D("optgroup");for(let h=0;h<S.length;h+=1)S[h].c();o=D("optgroup");for(let h=0;h<O.length;h+=1)O[h].c();f=L(),y&&y.c(),r=L(),Ge(c.$$.fragment),d=L(),Ge(g.$$.fragment),m=L(),Ge(v.$$.fragment),b=L(),Ge(M.$$.fragment),T=L(),Ge(A.$$.fragment),I=L(),this.h()},l(h){We(e.$$.fragment,h),t=B(h),s=V(h,"DIV",{class:!0,style:!0});var E=k(s);n=V(E,"DIV",{class:!0});var j=k(n);a=V(j,"SELECT",{style:!0,class:!0});var Z=k(a);i=V(Z,"OPTGROUP",{label:!0});var ae=k(i);for(let se=0;se<S.length;se+=1)S[se].l(ae);ae.forEach(_),o=V(Z,"OPTGROUP",{label:!0});var ie=k(o);for(let se=0;se<O.length;se+=1)O[se].l(ie);ie.forEach(_),Z.forEach(_),f=B(j),y&&y.l(j),r=B(j),We(c.$$.fragment,j),d=B(j),We(g.$$.fragment,j),m=B(j),We(v.$$.fragment,j),b=B(j),We(M.$$.fragment,j),j.forEach(_),T=B(E),We(A.$$.fragment,E),I=B(E),E.forEach(_),this.h()},h(){p(i,"label","Redistricting data"),p(o,"label","American Community Survey data"),ne(a,"width",l[3].includes(l[17])?"auto":"calc(var(--control-width) + 45px)"),p(a,"class","svelte-1fv06xq"),l[17]===void 0&&Ae(()=>l[54].call(a)),p(n,"class","controls svelte-1fv06xq"),p(s,"class","container svelte-1fv06xq"),ne(s,"cursor",l[24]?"crosshair":"auto"),ne(s,"--container-font",l[29]+"px"),ne(s,"--control-width",270+(l[29]-16)*10+"px"),Ae(()=>l[62].call(s))},m(h,E){Ye(e,h,E),N(h,t,E),N(h,s,E),u(s,n),u(n,a),u(a,i);for(let j=0;j<S.length;j+=1)S[j].m(i,null);u(a,o);for(let j=0;j<O.length;j+=1)O[j].m(o,null);el(a,l[17]),u(n,f),y&&y.m(n,null),u(n,r),Ye(c,n,null),u(n,d),Ye(g,n,null),u(n,m),Ye(v,n,null),u(n,b),Ye(M,n,null),u(s,T),Ye(A,s,null),u(s,I),U=cs(s,l[62].bind(s)),G=!0,W||(Y=[fe(window,"keydown",l[46]),fe(a,"change",l[54])],W=!0)},p(h,E){const j={};if(E[0]&2097152&&(j.showModal=h[21]),e.$set(j),E[0]&4){q=h[2];let F;for(F=0;F<q.length;F+=1){const me=Ht(h,q,F);S[F]?S[F].p(me,E):(S[F]=Ut(me),S[F].c(),S[F].m(i,null))}for(;F<S.length;F+=1)S[F].d(1);S.length=q.length}if(E[0]&8){C=h[3];let F;for(F=0;F<C.length;F+=1){const me=Rt(h,C,F);O[F]?O[F].p(me,E):(O[F]=qt(me),O[F].c(),O[F].m(o,null))}for(;F<O.length;F+=1)O[F].d(1);O.length=C.length}(!G||E[0]&131080)&&ne(a,"width",h[3].includes(h[17])?"auto":"calc(var(--control-width) + 45px)"),E[0]&131084&&el(a,h[17]),h[22]?y?(y.p(h,E),E[0]&4194304&&Q(y,1)):(y=Ft(h),y.c(),Q(y,1),y.m(n,r)):y&&(Be(),te(y,1,1,()=>{y=null}),je());const Z={};E[0]&4&&(Z.dynamicVars=h[2]),E[0]&131072&&(Z.variable=h[17]),E[0]&1048576&&(Z.metric=h[20]),E[0]&262144&&(Z.showPluralities=h[18]),E[0]&32&&(Z.pluralityVars=h[5]),E[1]&2&&(Z.breaks=h[32]),c.$set(Z);const ae={};E[0]&1024&&(ae.panels=h[10]),E[0]&33556992|E[2]&8388608&&(ae.$$scope={dirty:E,ctx:h}),g.$set(ae);const ie={};E[0]&1024&&(ie.panels=h[10]),E[0]&32832|E[2]&8388608&&(ie.$$scope={dirty:E,ctx:h}),v.$set(ie);const se={};E[0]&1024&&(se.panels=h[10]),E[0]&50331904|E[2]&8388608&&(se.$$scope={dirty:E,ctx:h}),M.$set(se);const K={};E[0]&524288&&(K.viewBox=h[19]),E[1]&1&&(K.labelSize=h[31]),E[0]&128&&(K.draggedBgs=h[7]),E[0]&2&&(K.data=h[1]),E[0]&262144&&(K.showPluralities=h[18]),E[0]&1048576&&(K.metric=h[20]),E[0]&65536&&(K.period=h[16]),E[0]&16&&(K.tractVars=h[4]),E[0]&1024&&(K.panels=h[10]),E[0]&256&&(K.drawings=h[8]),E[0]&2048&&(K.plan=h[11]),E[0]&134217728&&(K.points=h[27]),E[0]&67108864&&(K.bgMesh=h[26]),E[0]&512&&(K.aggregates=h[9]),E[0]&1&&(K.obj=h[0]),E[0]&4096&&(K.congressPlans=h[12]),E[0]&268435456&&(K.plans=h[28]),E[0]&1073741824&&(K.viewCutoff=h[30]),E[0]&8388608&&(K.showOnlyFocusDistricts=h[23]),E[0]&64&&(K.showStreets=h[6]),E[0]&8192&&(K.streets=h[13]),A.$set(K),(!G||E[0]&16777216)&&ne(s,"cursor",h[24]?"crosshair":"auto"),(!G||E[0]&536870912)&&ne(s,"--container-font",h[29]+"px"),(!G||E[0]&536870912)&&ne(s,"--control-width",270+(h[29]-16)*10+"px")},i(h){G||(Q(e.$$.fragment,h),Q(y),Q(c.$$.fragment,h),Q(g.$$.fragment,h),Q(v.$$.fragment,h),Q(M.$$.fragment,h),Q(A.$$.fragment,h),G=!0)},o(h){te(e.$$.fragment,h),te(y),te(c.$$.fragment,h),te(g.$$.fragment,h),te(v.$$.fragment,h),te(M.$$.fragment,h),te(A.$$.fragment,h),G=!1},d(h){Ke(e,h),h&&_(t),h&&_(s),ve(S,h),ve(O,h),y&&y.d(),Ke(c),Ke(g),Ke(v),Ke(M),Ke(A),U(),W=!1,il(Y)}}}async function ln({fetch:l}){const e=await(await l(`${Ml}/output_census.topojson`)).json(),t=ms(e.objects.census),s=rs(e,t).features.map(Gl),n=["pop","cvap"],a=[...s.reduce((o,f)=>{const r=Object.keys(f.properties).filter(c=>[...n,"GEOID","senate","assembly","congress"].every(d=>!c.includes(d))&&c===c.toLowerCase()).map(c=>c.split("_")[0]);return new Set([...o,...r])},[])],i=s.reduce((o,f,r)=>(o[f.properties.GEOID]=r,o),{});return{props:{topoData:e,obj:t,data:s,neighbors:fs(t.geometries),dynamicVars:n,staticVars:a,idToIndex:i,tractVars:["asiaentry","workers"],pluralityVars:["asiaentry"]}}}let Xt=!0;function Xs(l,e,t){let s,n,a,i,o,{topoData:f,obj:r,neighbors:c,data:d,dynamicVars:g,staticVars:m,tractVars:v,pluralityVars:b,idToIndex:M}=e,T,A,I=!0,U=!1,G,W,Y,q,S=[],C=[],O=[],y={},h=["plans"],E="assembly",j,Z,ae,ie,se,K=18,F,me=870,he=Object.keys(nl)[0];const ee=w=>ol(f,r,w),J=bl(ee((w,le)=>Ce(w).substring(0,11)!==Ce(le).substring(0,11))),$=()=>t(21,A=!1);us(async()=>{t(26,j=bl(Gl(ee((le,H)=>Ce(le)!==Ce(H)))));const w=await Promise.all([vs(),bs()]);t(28,se=w[0]),t(27,ae=w[1]),t(30,me=d.length),t(21,A=!Xt)});let x;const De=w=>d[w].properties[E];function Ve(w){const le=De(w),H=new Set(c[w].map(De).filter(ce=>ce!==le));if(H.size===1)t(0,r.geometries[w].properties[E]=x=H.values().next().value,r);else if(H.has(x))t(0,r.geometries[w].properties[E]=x,r);else return;t(0,r)}let be="present",oe="pop";const Pe={pop:[0,.1,.2,.4,.6],cvap:[0,.1,.2,.4,.6]};let ke=!1;function Te({properties:w}){if(!w.ALAND)return"#fff";const le=w[`${n}_total`];if(b.includes(n)){const H=_e=>w[`${n}_${_e}`];if(H(kl[0])===null)return"#eee";const ce=[...kl].sort((_e,Le)=>H(Le)-H(_e));return sl[kl.indexOf(ce[0])]}else if(m.includes(n)){if(!Wl(a(w)))return"#eee";if(le<=10)return"#fff";for(let H=1;H<i.length;H++)if(a(w)<i[H])return sl[H];return sl[i.length-1]}else{if(le<=10)return"#fff";const H=ce=>w[`${n}_${ce}`]/w[`${n}_total`];if(ke){const ce=tl.filter(al=>H(al)>.5)[0];if(ce!==void 0)return yl[ce]+Al[le<130?0:le<200?1:2];const _e=[...tl].sort((al,pl)=>H(pl)-H(al)),Le=H(_e[0])-H(_e[1]);return yl[_e[0]]+Al[Le<.093?0:1]}else{const ce=Pe[oe];for(let _e=1;_e<ce.length;_e++)if(H("asian")<ce[_e])return El[_e-1];return El[ce.length-1]}}}const ye=async()=>t(12,Z=await ks()),P=async()=>t(13,ie=await Es());function de(w){const le=typeof w[0]=="string"?w.map(Me=>d[M[Me]].properties):w.map(Me=>Me.properties),H=(Me,Xe)=>le.reduce(($t,Ol)=>$t+(Ol[Me]||0)*(Xe&&Ol[Xe]||1),0),ce=Me=>H(Me,"pop20_total")/H("pop20_total"),_e=(Me,Xe)=>H(`${Me}_${Xe}`)/H(`${Me}_total`);let Le=H("pop10_asian"),al=H("pop20_asian"),pl=H("cvap10_asian"),Zt=H("cvap19_asian");const Cl={income:ce("income"),hhlang:_e("hhlang","asian"),benefits:_e("families","benefits"),pop20_total:H("pop20_total"),pct_increase:(al-Le)/Le,pct_increase_cvap:(Zt-pl)/pl};return["pop20","cvap19","pop10","cvap10"].forEach(Me=>tl.forEach(Xe=>Cl[Me+Xe]=_e(Me,Xe))),Cl}const Je=w=>t(8,C=C.filter((le,H)=>H!==w));async function rl(){try{await fetch(`${Ml}/data.json`,{method:"POST",body:JSON.stringify(C)})}catch(w){console.error(w)}}async function Pl(){try{const w=await fetch(`${Ml}/data.json`);t(8,C=(await w.json()).map(le=>Bl(Ll({},le),{stats:de(le.ids)})))}catch(w){console.error(w)}}const pe=w=>t(10,h=h.includes(w)?h.filter(le=>le!==w):[...h,w]);function Ie(w){O.includes(w)?t(9,O=O.filter(le=>le!==w)):t(9,O=[...O,w])}const ge=()=>t(50,W=!0),fl=()=>t(50,W=t(24,G=!1)),cl=w=>G&&W&&(S.length===0?t(7,S=[Ce(w)]):S.push(Ce(w)));function Oe({key:w}){w==="="&&t(29,K+=2),w==="-"&&t(29,K-=2),w==="v"&&t(22,I=!I),w==="f"&&t(23,U=!U),w==="s"&&t(23,U=!U)}const ze=[[]];function ul(){oe=Tl(this),t(17,oe),t(3,m),t(2,g)}function hl(){be=this.__value,t(16,be)}const Re=()=>t(18,ke=!ke);function _l(){E=Tl(this),t(11,E)}function dl(){he=Tl(this),t(15,he)}function gl(){T=this.checked,t(6,T)}const He=()=>t(24,G=!0);function ml(){F=this.clientWidth,t(14,F)}return l.$$set=w=>{"topoData"in w&&t(47,f=w.topoData),"obj"in w&&t(0,r=w.obj),"neighbors"in w&&t(48,c=w.neighbors),"data"in w&&t(1,d=w.data),"dynamicVars"in w&&t(2,g=w.dynamicVars),"staticVars"in w&&t(3,m=w.staticVars),"tractVars"in w&&t(4,v=w.tractVars),"pluralityVars"in w&&t(5,b=w.pluralityVars),"idToIndex"in w&&t(49,M=w.idToIndex)},l.$$.update=()=>{if(l.$$.dirty[0]&32768&&t(19,s=nl[he]),l.$$.dirty[0]&196616&&t(20,n=m.includes(oe)?oe:oe+(be==="past"?10:oe==="cvap"?19:20)),l.$$.dirty[0]&1048576&&t(53,a={income:w=>w[n],hhlang:w=>w[`${n}_asian`]/w[`${n}_total`],graduates:w=>(w[`${n}_hs_grad`]+w[`${n}_ba_above`])/w[`${n}_total`],families:w=>w[`${n}_benefits`]/w[`${n}_total`],workers:w=>w[`${n}_publictransport`]/w[`${n}_total`]}[n]),l.$$.dirty[0]&1441806|l.$$.dirty[1]&6291456&&t(32,i=g.includes(oe)&&!ke?Pe[oe]:Pe[n]||!m.includes(n)||n==="asiaentry"||t(52,Pe[n]=hs(d.map(w=>a(w.properties)).filter(Wl),6),Pe)),l.$$.dirty[0]&386|l.$$.dirty[1]&524288&&!W&&S.length>0){if(S[0]===S[S.length-1]){const w=new Set(S),le=_s(ee((ce,_e)=>ps(w.has(Ce(ce)),w.has(Ce(_e)))).coordinates.flat()),H=d.filter(ce=>ds(gs(ce.geometry.coordinates[0]),le)).map(Ce);t(8,C=[...C,{outline:bl({type:"LineString",coordinates:le}),ids:H,stats:de(H)}])}t(7,S=[])}if(l.$$.dirty[0]&6144&&E.startsWith("congress")&&Z===void 0&&ye(),l.$$.dirty[0]&8256&&T&&ie===void 0&&P(),l.$$.dirty[0]&1024|l.$$.dirty[1]&1048576&&h.includes("communities")&&!q&&(Pl(),t(51,q=!0)),l.$$.dirty[0]&542720&&t(31,o=(E.endsWith("_names")?.9:1.1)/((F-410)/s[2])*1.24),l.$$.dirty[0]&2561)for(let w=0;w<O.length;w++){const[le,H]=O[w].split(",");le===E&&t(25,y[O[w]]=de(r.geometries.filter(({properties:ce})=>H===""+ce[E])),y)}},[r,d,g,m,v,b,T,S,C,O,h,E,Z,ie,F,he,be,oe,ke,s,n,A,I,U,G,y,j,ae,se,K,me,o,i,Y,ee,J,$,Ve,Te,Je,rl,pe,Ie,ge,fl,cl,Oe,f,c,M,W,q,Pe,a,ul,hl,ze,Re,_l,dl,gl,He,ml]}class tn extends Ze{constructor(e){super();$e(this,e,Xs,Js,xe,{topoData:47,obj:0,neighbors:48,data:1,dynamicVars:2,staticVars:3,tractVars:4,pluralityVars:5,idToIndex:49},null,[-1,-1,-1])}}export{tn as default,ln as load};
